[Data]
life = 1000             ;体力ゲージの初期値
attack = 100            ;攻撃力（これ以上に設定すると強くなる）
defence = 200           ;防御力（これ以上に設定すると強くなる）
fall.defence_up = 50    ;コンボをくらっている時にあがる防御力
liedown.time = 40       ;倒れてから起上がるまでのフレーム数
airjuggle = 15          ;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
sparkno = 1             ;hitdefで設定していない時の基本ヒットスパークナンバー
guard.sparkno = 40      ;設定してない時のガードナンバー
KO.echo = 0             ;KOした時に声にエコーをかけるか（１でＯＮ）
volume = 250
IntPersistIndex = 58
FloatPersistIndex = 60

[Size]
xscale = 1             ;水平方向の縮尺（通常１）
yscale = 1             ;垂直方向の縮尺（通常１）
ground.back = 15       ;キャラの幅(後方,地上)
ground.front = 16      ;キャラの幅(前方,地上)
air.back = 12          ;キャラの幅(後方,空中)
air.front = 12         ;キャラの幅(前方,空中)
height = 110            ;キャラの高さ
attack.dist = 160      ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90  ;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0       ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -3, -101     ;頭の大体の座標
mid.pos = -5, -60      ;体の中心の大体の座標
shadowoffset = 0       ;影の垂直方向のオフセット


[Velocity]
walk.fwd  = 2.6        ;前進の速度
walk.back = -2.4       ;後退の速度
run.fwd  = 6, 0      ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -5.5,-4.5   ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0, -9     ;垂直ジャンプの速度
jump.back = -3.3,-8.2      ;後ジャンプの速度
jump.fwd = 2.7,-7.6       ;前ジャンプの速度
runjump.back = -3.2,-9.4  ;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 4,-9     ;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-8.3      ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -2.55      ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 3.2         ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 0       ;空中でジャンプする回数
airjump.height = 35   ;空中でジャンプする最低限の高さ
yaccel = .44          ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数

;---------------------------------------------------------------------------
;-----------------------EX　ステップ

[Statedef 100]
type    = S
movetype = I
physics = N
anim = 100

[State 100,0]
type = VelSet
trigger1 = Time = 0
x = 4.8

[State 100,1]
type = PlaySnd
trigger1 = time = 1
value = 4, 6

[State 100,3]
type = ChangeState
trigger1 = Command != "holdfwd"
value = 0
ctrl = 1

[State 100,4]
type = AssertSpecial
trigger1 = 1
flag = NoWalk
;-----------------------EX　ステップ
[Statedef 101]
type    = S
physics = N
movetype = I
anim = 101
ctrl = 0

[State 101]
type = PlaySnd
trigger1 = time = 0
value = 4,10

[state 101];属性変更
type = StatetypeSet
trigger1 = Animelem = 2
value = A

[State 101]
type = gravity
trigger1 = Animelem = 2,>= 0

[State 101]
type = velset
trigger1 = Animelem = 2,>= 0
x = 5.3

[State 101]
type = velset
trigger1 = Animelem = 2
y = -3

[State 101]
type = ChangeState
trigger1 = time > 10
trigger1 = Vel Y > 0 && Pos Y >= 10
value = 106
;----------------------ステップ終了
[Statedef 102]
type    = S
physics = N
anim = 102
ctrl = 1

[State 102]
type = Velset
trigger1 = 1
x = 0

[State 102]
type = ChangeState
trigger1 = animtime = 0
value = 0
;--------------------- バックステップ
[Statedef 105]
type = A
movetype = I
physics = A
anim = 105
ctrl = 0
velset = -4.8,-4.5

[State 105,0]
type = PlaySnd
trigger1 = Time = 0
value = 1, 1

[State 105,1]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 106

;----------------------------着地
[Statedef 106]
type = S
movetype = I
physics = S
anim = 47

[State 106,0]
type = VelSet
trigger1 = Time = 0
y = 0

[State 106,1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106,2]
type = MakeDust
trigger1 = Time >= 0
pos = -30, 0

[State 106,3]
type = PlaySnd
trigger1 = Time = 0
value = 1

[State 106,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------
;勝利
;---------------------タイムオーバー負け
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 190, セリフ]
type = PlaySnd
trigger1 = Time = 0
value = 4,29

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;-----------------------------
;win decider to selected player
;-----------------------------
;win decider
;Part I
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 =  Var(4) = 1
trigger2 = P2Name = "Terry Bogard" || P4Name = "Terry Bogard" 
trigger3 = P2Name = "Kim Kaphwan"  || P4Name = "Kim Kaphwan" 
trigger4 = P2Name = "Heidern" || P4Name = "Heidern"
trigger5 = P2Name = "Ryuji yamazaki" || P4Name = "Ryuji yamazaki"
trigger6 = P2Name = "Geese Howard" || P4Name = "Geese Howard" 
trigger7 = P2Name = "Kain R Heinlein" || P4Name = "Kain R Heinlein"
trigger8 = P2Name = "Orochi" || P4Name = "Orochi"
trigger9 = P2Name = "Goenitz"|| P4Name = "Goenitz"
trigger10 = P2Name = "Billy Kane 03 " || P4Name = "Billy Kane 03 "
trigger11 = P2Name = "Billy Kane" || P4Name = "Billy Kane"
trigger12 = P2Name = "Mr. Big" || P4Name = "Mr. Big"
trigger13 = P2Name = "Shiranui Mai" || P4Name = "Shiranui Mai"
trigger14 = P2Name = "Rock"   || P4Name = "Rock"  
trigger15 = P2Name = "Andy Bogard"   || P4Name = "Andy Bogard"
trigger16 = P2Name = "Joe Higashi"   || P4Name = "Joe Higashi"
trigger17 = P2Name = "Blue Mary"   || P4Name = "Blue Mary"
trigger18 = P2Name = "Takuma Sakazaki" || P4Name = "Takuma Sakazaki"
trigger19 = P2Name = "Tung Fu Rue"  || P4Name = "Tung Fu Rue"
value = 176

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,150

[State 180, 5]
type = ChangeState
trigger1 = Var(1) = [0,25]
value = 181

[State 180, 6]
type = ChangeState
trigger1 = Var(1) = [26,50]
value = 182

[State 180, 7]
type = ChangeState
trigger1 = Var(1) = [51,75]
value = 183

[State 180, 7]
type = ChangeState
trigger1 = Var(1) = [76,100]
value = 184

[State 180, 7]
type = ChangeState
trigger1 = Var(1) = [101,150]
trigger1 = PalNo = 4
value = 177

;------------------------------------------------------------------------------------
;Part II , valid state can be 181 to 186 
;check you CNS file if one of the statedef exist, if it does then change-
;to another statedef that does not exist in order to avoid crash program.

; WIN STATE 1
[Statedef 176]
type = S
ctrl = 0
anim = 176
velset = 0,0

[State 181]
type = PlaySnd
trigger1 = Animelem = 2
value = 3,7
volume = 255

[State 176, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 3401]
type = Helper
trigger1 = time = 150
trigger1 = MatchOver = 1
trigger1 = numhelper(180) = 0
helpertype = normal
stateno = 184
name = "score"
id      = 180
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1

[State 176, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1



; WIN STATE 2
[Statedef 177]
type = S
ctrl = 0
anim = 177
velset = 0,0

[State 181]
type = PlaySnd
trigger1 = Animelem = 2
value = 3,4
volume = 255

[State -2, HSDM BG] ; Hidden SDM background
type = Explod
trigger1 = time = 0
scale = 1.075, 1.075
anim = 178 ;change this value
postype = back
pos = 0,0
bindtime = 20
sprpriority = -3
supermove = 1
ownpal = 1
id = 178

[State 181]
type = PlaySnd
trigger1 = animelem = 1
value = 4,4
volume = 255

[State 3000,1]
type = RemoveExplod
trigger1= time = 20  
id = 178            

[State 176, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 3401]
type = Helper
trigger1 = time = 150
trigger1 = MatchOver = 1
trigger1 = numhelper(180) = 0
helpertype = normal
stateno = 184
name = "score"
id      = 180
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1

[State 176, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;-----------------勝利ポーズ「大きく手を開いて」
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181]
type = AssertSpecial
trigger1 = Time = [0,190]
flag = RoundNotOver

[State 181]
type = PlaySnd
trigger1 = time = 1
value = 3,4

[State 3401]
type = Helper
trigger1 = time = 150
trigger1 = MatchOver = 1
trigger1 = numhelper(180) = 0
helpertype = normal
stateno = 184
name = "winner"
id      = 180
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1

[State 181]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;--------------------- 勝利ポーズ「ふんぞり返る」
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182]
type = AssertSpecial
trigger1 = Time = [0,260]
flag = RoundNotOver

[State 182]
type = PlaySnd
trigger1 = Animelem = 1
value = 5, 11
volume = 255 

[State 3401]
type = Helper
trigger1 = time = 150
trigger1 = MatchOver = 1
trigger1 = numhelper(180) = 0
helpertype = normal
stateno = 184
name = "winner"
id      = 180
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1

[State 182]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;------------------------ 勝利ポーズ「笑い」
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 183]
type = AssertSpecial
trigger1 = Time = [0,260]
flag = RoundNotOver

[State 3401]
type = Helper
trigger1 = time = 150
trigger1 = MatchOver = 1
trigger1 = numhelper(180) = 0
helpertype = normal
stateno = 184
name = "winner"
id      = 180
postype = back
pos = 0,0
keyctrl = 0
ownpal = 1

[State 182]
type = PlaySnd
trigger1 = time = 0
value = 3,7
;------------------------ヘルパー勝利画面
[Statedef 184]
type = S
physics = S
movetype = I
anim = 189
sprpriority = 30
juggle = 15
ctrl = 0

[State 3200, 8]
type = bgpalfx
trigger1 = Time = 0
time = 400
mul = 230,230,230
invertall = 1
ignorehitpause = 0

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 15
range = 0,3

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0,320]
flag = RoundNotOver
flag2 = nobardisplay
flag3 = noFG

[State 190, セリフ];フン
type = PlaySnd
trigger1 = time = 0
trigger1 = var(15) = 0
value = 4,34
volume = 255

[State 190, セリフ];雑魚は
type = PlaySnd
trigger1 = time = 50
trigger1 = var(15) = 0
value = 4,35
volume = 255

[State 190, セリフ];雑魚は
type = PlaySnd
trigger1 = time = 175
trigger1 = var(15) = 0
value = 4,37
volume = 255

[State 190, セリフ];ちょっとは
type = PlaySnd
trigger1 = time = 0
trigger1 = var(15) = 1
value = 4,36
volume = 255

[State 190, セリフ];私の敵では
type = PlaySnd
trigger1 = time = 140
trigger1 = var(15) = 1
value = 4,37
volume = 255

[State 190, セリフ];フフ
type = PlaySnd
trigger1 = time = 0
trigger1 = var(15) = 2
value = 4,38
volume = 255

[State 190, セリフ];これが完全復活の
type = PlaySnd
trigger1 = time = 90
trigger1 = var(15) = 2
value = 4,39
volume = 255

[State 190, セリフ];私の力を
type = PlaySnd
trigger1 = time = 0
trigger1 = var(15) = 3
value = 4,40
volume = 255

[State 190, セリフ];たいした奴だ
type = PlaySnd
trigger1 = time = 180
trigger1 = var(15) = 3
value = 4,41
volume = 255

[State 2500, 1]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(184) = 0
id = 184
anim = 184
postype = left
pos = ifelse(teamside = 1,0,320),0
ontop = 1
removetime = 350
ignorehitpause = 1
facing = ifelse(teamside = 1,1,-1)
sprpriority = 4

[State 2500, 1]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(751) = 0
id = 751
anim = 751
postype = left
pos = ifelse(teamside = 1,0,320),0
ontop = 1
removetime = 350
ignorehitpause = 1
facing = ifelse(teamside = 1,1,-1)
sprpriority = 4

[State 2500, 1]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(185) = 0
trigger1 = facing = 1
id = 185
anim = 185+var(15)
postype = left
pos = 0,0
ontop = 1
removetime = 350
ignorehitpause = 1
facing = 1
sprpriority = 5

[State 2500, 1]
type = Explod
trigger1 = time = 0
trigger1 = numexplod(185) = 0
trigger1 = facing = -1
id = 185
anim = 185+var(15)
postype = light
pos = 0,0
ontop = 1
removetime = 350
ignorehitpause = 1
facing = 1;ifelse(teamside = 1,1,-1)
sprpriority = 5

[State 196]
type = destroyself
trigger1 = animTime = 0

; Choose Intro Pose
;----------------

[StateDef 190]
type = S
movetype = I
physics = S
velset = 0,0
ctrl = 0

[State 190, invincibility]
type = NotHitBy
trigger1 = 1
value = SCA

[State 190, ChangeState]
type = ChangeState
trigger1 = P2Name = "Terry Bogard" || P4Name = "Terry Bogard"
value = 193

[State 190, ChangeState]
type = ChangeState
trigger1 = P2Name = "Krauser" || P4Name = "Krauser"
trigger2 =  P2Name = "Kain R Heinlein" || P4Name = "Kain R Heinlein"
trigger3 = P2Name = "Billy Kane" || P4Name = "Billy Kane"
trigger4 = P2Name = "Billy Kane 03 " || P4Name = "Billy Kane 03 "
trigger5 = P2Name = "Rock"   || P4Name = "Rock" 
value = 196

[State 190, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 1

[State 190, 1]
type = ChangeState
trigger1 = 1
value = 194


;----------------------
;Intro VS Terry Bogard
;----------------------

[Statedef 193]
type = S
physics = S
ctrl = 0
anim = 193
velset = 0,0

[State 195]
type = PlaySnd
trigger1 = animelem = 2
value = 3,3

[State 190, 3]
type = AssertSpecial
trigger1 = time = [0, 180]
flag = intro
flag2 = nomusic

[state 190, 4]
type = AssertSpecial
trigger1 = RoundNo = 1
trigger1 = RoundState < 2
flag = NoBarDisplay

;-------------------チームバトル時イントロ
[Statedef 194]
type = A
movetype = I
physics = N
anim = 194
ctrl = 0
velset =0,0


[State 195]
type = PlaySnd
trigger1 = time = 25
value = 3, 9

[State 190, 3]
type = AssertSpecial
trigger1 = time = [0, 120]
flag = intro
flag2 = nomusic


;--------------------挑発
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195]
type = PlaySnd
trigger1 = time = 0
value = 3,3

[State 195, 1]
type = CtrlSet
trigger1 = AnimTime = 0
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------
;Intro VS Krauser
;----------------------

[Statedef 196]
type = S
physics = S
ctrl = 0
anim = 196
velset = 0,0

[State 195]
type = PlaySnd
trigger1 = time = 225
value = 4,34
volume = 255

[State 190, 3]
type = AssertSpecial
trigger1 = time = [0, 300]
flag = intro
flag2 = nomusic

[state 190, 4]
type = AssertSpecial
trigger1 = RoundNo = 1
trigger1 = RoundState < 2
flag = NoBarDisplay

;-------------------------------------
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0

[State 40]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 40]
type = VarSet
trigger1 = command = "holdfwd"
trigger1 = var(8) != 2
var(8) = 1

[State 40]
type = VarSet
trigger1 = command = "holdback"
trigger1 = var(8) != -2
var(8) = -1

[State 40]
type = VarSet
triggerall = Time = 0
triggerall = command = "holdfwd"
trigger1 = command = "longjump"
trigger2 = prevstateno = 100
var(8) = 2

[State 40]
type = VarSet
trigger1 = Time = 0
trigger1 = command = "holdback"
trigger1 = command = "longjump"
var(8) = -2

[State 40]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = var(8) != 0 && var(8) != 1 && var(8) != -1
trigger1 = command = "holdup"
trigger2 = command != "holdup"
value = 48

[State 40]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(var(8)=0, const(velocity.jump.neu.x), ifelse(var(8)>0, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-----------------------
[Statedef 48]
type    = A
physics = A
velset = 0, -7.0
ctrl = 1

[State 510]
type = PlaySnd
trigger1 = time = 0
value = 4,44

[State 48]
type = AfterImage
triggerall = Time = 0
trigger1 = var(8) = 2 || var(8) = -2
time = 13
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2
length = 5

[State 48]
type = VelSet
trigger1 = Time = 0
trigger1 = command = "holdup"
y = -8.5

[State 48]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = 1
x = 3.4

[State 48]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = 2
x = 4

[State 48]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = -1
x = -3.4

[State 48]
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = -2
x = -4.6

[State 48]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X = 0
trigger1 = command = "holdup"
value = 41

[State 48]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = command != "holdup"
value = 42

[State 48]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command = "holdup"
value = 42

[State 48]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X < 0
trigger1 = command = "holdup"
value = 43

[State 48]
type = ChangeAnim
trigger1 = Vel y > -2 && pos Y < -70
trigger1 = Vel X > 0
trigger1 = SelfAnimExist(45)
persistent = 0
value = 43

[State 48]
type = ChangeAnim
trigger1 = Vel y > -2 && pos Y < -70
trigger1 = Vel X < 0
trigger1 = SelfAnimExist(46)
persistent = 0
value = 43

[State 48]
type = ChangeAnim
trigger1 = Vel y > -1 && pos Y >= -70
trigger1 = Anim != 45 && Anim != 46
persistent = 0
value = 43

[State 48]
type = veladd
trigger1 = Time >= 25
y = 0.1
;---------------------------前転
[Statedef 510]
type    = S
physics = S
anim = 511
ctrl = 0
velset = 0

[State 350, snd]
type = Poweradd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -1000

[State 510]
type = PlaySnd
trigger1 = time = 0
value = 3,11       

[State 510]
type = Nothitby
trigger1 = Time = 0
value = SCA
time = 30

[State 510]
type = Playerpush
trigger1 = Time >= 9
trigger1 = Time < 24
value = 0

[State 510]
type = Velset
trigger1 = Time >= 8
trigger1 = Time < 22
x = 6.5

[State 510]
type = Velset
trigger1 = Time = 22
x = 0

[State 500,5]
type=Afterimage
trigger1=Time=2
time=12
trans=add1
length=10

[State 510]
type = Hitby
trigger1 = Time >= 0
value = SCA, NT,ST,HT

[State 510]
type = Playsnd
trigger1 = Time = 0
value = 0,0

[State 510]
type = Posadd
trigger1 = animtime = 0
x = 10

[State 510]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------後転
[Statedef 511]
type = S
movetype = I
physics = N
anim = 512
velset = 0
ctrl = 0

[State 350, snd]
type = Poweradd
trigger1 = prevstateno = 150 || prevstateno = 151
trigger1 = AnimElem = 1
value = -1000

[State 511]
type = PlaySnd
trigger1 = time = 0
value = 3,11          

[State 511]
type = Nothitby
trigger1 = Time = 0
value = SCA
time = 31

[State 511]
type = Playsnd
trigger1 = Time = 0
value = 0,0

[State 500,5]
type=Afterimage
trigger1=Time=2
time=12
trans=add1
length=10

[State 510]
type = Playerpush
trigger1 = Time >= 9
trigger1 = Time < 24
value = 0

[State 510]
type = Velset
trigger1 = Time >= 8
trigger1 = Time < 22
x = -6.5

[State 510]
type = Velset
trigger1 = Time = 22
x = 0

[State 511]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------ガードキャンセル前転
[Statedef 512]
type    = S
movetype = I
physics = N
anim = 511
ctrl = 0
velset = 0
poweradd = 0

[State 512]
type = VarAdd
triggerall = time = 0
trigger1 = var(3) = 1
trigger1 = var(31) > 0
trigger2 = var(3) = 2
trigger2 = var(31) > 0
trigger3 = var(3) = 3
trigger3 = var(31) > 0
var(31) = -1000

[State 512]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 4
trigger2 = var(3) = 1
trigger2 = var(31) = 0
trigger3 = var(3) = 3
trigger3 = var(31) = 0
trigger4 = var(3) = 5
value = -1000

[State 512]
type = EnvColor
trigger1 = Time = 0
value = 248,248,248
time = 1
under = 1


[State 510]
type = Nothitby
trigger1 = Time = 0
value = SCA
time = 30

[State 510]
type = Playerpush
trigger1 = Time >= 8
trigger1 = Time < 22
value = 0

[State 510]
type = Velset
trigger1 = Time >= 8
trigger1 = Time < 22
x = 6.5

[State 510]
type = Velset
trigger1 = Time = 24
x = 0

[State 500,5]
type=Afterimage
trigger1=Time=2
time=12
trans=add1
length=10

[State 510]
type = Hitby
trigger1 = Time >= 0
value = SCA, NT,ST,HT

[State 510]
type = Playsnd
trigger1 = Time = 0
value = 0,0

[State 510]
type = Posadd
trigger1 = animtime = 0
x = 15

[State 510]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------GC後転
[Statedef 513]
type    = S
movetype = I
physics = N
anim = 512
ctrl = 0
velset = 0
poweradd = 0

[State 512]
type = VarAdd
triggerall = time = 0
trigger1 = var(3) = 1
trigger1 = var(31) > 0
trigger2 = var(3) = 2
trigger2 = var(31) > 0
trigger3 = var(3) = 3
trigger3 = var(31) > 0
var(31) = -1000

[State 512]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 4
trigger2 = var(3) = 1
trigger2 = var(31) = 0
trigger3 = var(3) = 3
trigger3 = var(31) = 0
trigger4 = var(3) = 5
value = -1000

[State 511]
type = Nothitby
trigger1 = 1
value = SCA

[State 500,5]
type=Afterimage
trigger1=Time=2
time=12
trans=add1
length=10

[State 510]
type = Playerpush
trigger1 = Time >= 9
trigger1 = Time < 24
value = 0

[State 510]
type = Velset
trigger1 = Time >= 8
trigger1 = Time < 22
x = -6.5

[State 510]
type = Velset
trigger1 = Time = 22
x = 0

[State 511]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------GC吹っとばし攻撃
[Statedef 514]
type = S
movetype = A
physics = S
juggle  = 0
anim = 280
ctrl = 0
poweradd = 0
velset = 0

[State 512]
type = VarAdd
triggerall = time = 0
trigger1 = var(3) = 1
trigger1 = var(31) > 0
trigger2 = var(3) = 2
trigger2 = var(31) > 0
trigger3 = var(3) = 3
trigger3 = var(31) > 0
var(31) = -1000

[State 512]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 4
trigger2 = var(3) = 1
trigger2 = var(31) = 0
trigger3 = var(3) = 3
trigger3 = var(31) = 0
trigger4 = var(3) = 5
value = -1000

[State 280, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 3,8

[State 514]
type = Nothitby
trigger1 = 1
value = SCA

[State 280, hit]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype = Back
damage = 30
getpower = 80,35
guardflag = M
pausetime = 12,12
sparkxy = 0,-55
sparkno = S701
guard.sparkno =S704
hitsound = S1,8
guardsound = S6,26
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -5.0,-3.0
air.velocity = -5.5,-4.7
fall = 1

[State 280]
type = PosAdd
trigger1 = AnimTime = 0
x = 15

[State 280, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------ガードキャンセルフロントステップ
[Statedef 515]
type    = S
movetype = I
physics = N
anim = 101
ctrl = 1
poweradd = -500

[State 515]
type = PlaySnd
trigger1 = time = 3
value = 4,10

[State 515]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 515]
type = Velset
trigger1 = time = 0
x = 5

[State 515]
type = Veladd
trigger1 = animelem = 2
x = -.2

[State 515]
type = ChangeState
trigger1 = animtime = 0
value = 102

[State 515]
type = EnvColor
trigger1 = Time = 0
value = 248,248,248
time = 1
under = 1

[State 515]
type = Nothitby
trigger1 = 1
value = SCA
time = 1

[State 500,5]
type=Afterimage
trigger1=Time=2
time=12
trans=add1
length=10
;------------------------攻撃避け
[Statedef 516]
type = S
movetype = I
physics = S
anim = 513
velset = 0
ctrl = 0
sprpriority = -1

[State 516]
type = PlaySnd
trigger1 = Time = 1
value = 3,11

[State 516]
type = NotHitBy
trigger1 = 1
value = ,NA,SA,HA,NP,SP,HP

[State 516]
type = PlayerPush
trigger1 = 1
value = 0

;避け攻撃
[State -1,sake]
type=Changestate
triggerall = time = [10,30]
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "x"
trigger4 = command = "y"
value=517

[State 800, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------避け攻撃
[Statedef 517]
type = S
movetype = A
physics = S
anim = 514
velset = 0
ctrl = 0
juggle = 15

[State 517]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = Medium
damage    = 72
guardflag = H
pausetime = 12,12
getpower = 0,0
sparkno = S701
guard.sparkno =S704
sparkxy = -10,-90
hitsound   = S1,6
guardsound = S1,4
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8
guard.hittime = 22
air.velocity = -2.2,-3.2

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = time = [9,13]
trigger1 = movehit
trigger1 = numhelper(231) = 0
helpertype = normal
stateno = 231
name = "score"
id      = 231
postype = left
pos = 0, 500
ignorehitpause = 1

[State 517]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------遠距離立ち弱パンチ
[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 15                      
velset = 0,0                   
ctrl = 0                         
anim = 200                       
sprpriority = 2                  

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(11) = 1

[State 200, セリフ]
type = PlaySnd
triggerall = Random <= 650
trigger1 = time = 0
value = 3,11

[State 200, hit]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA 
damage = 26, 0                   
animtype = Light                 
guardflag = MA
hitflag = MAF                    
getpower = 60,15
givepower = 40,10
priority = 3, Hit   
pausetime = 6+var(12), 8  
sparkno = S700  
sparkxy = -25, -91   
hitsound = S1,10  
guard.sparkno =S703
guardsound = S1,4               
ground.type = High
ground.slidetime = 10+Var(13)
ground.hittime  = 12+2*(Var(13))
ground.velocity = -4-var(13)
airguard.velocity = -2,-2
air.velocity = -3,-2
air.hittime = 12
air.juggle = 15

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time < 9
trigger1 = numhelper(201) = 0
helpertype = normal
stateno = 201
name = "score"
id      = 201
postype = left
pos = 0, 500
ignorehitpause = 1

[State 200, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------点数加算
[Statedef 201]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 100

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 13
;-----------------近距離　立ち弱パンチ
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 15
ctrl = 0
velset = 0,0
anim = 240

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(11) = 1

[State 240, セリフ]
type = PlaySnd
triggerall = Random <= 650
trigger1 = time = 0
value = 3,11

[State 240, hit]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Light
damage    = 26
guardflag = M
pausetime = 10,8
sparkno = S700
sparkxy = -15,-100
hitsound   = S1,10
getpower = 70,15
givepower = 40,10
guardsound = S1,4
guard.sparkno =S703
ground.type = High
ground.slidetime = 10+Var(13)
ground.hittime  = 12+2*(Var(13))
ground.velocity = -3.5-var(13)
air.velocity = -2.5,-4
air.juggle = 15

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time < 9
trigger1 = numhelper(201) = 0
helpertype = normal
stateno = 201
name = "score"
id      = 201
postype = left
pos = 0, 500
ignorehitpause = 1

[State 240, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------立ち 弱キック
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 15
ctrl = 0
velset = 0,0
anim = 210

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(11) = 1

[State 210, セリフ]
type = PlaySnd
triggerall = Random <= 650
trigger1 = time = 0
value = 3,11

[State 210, hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Light
damage    = 30
getpower = 60,20
givepower = 40,10
guardflag = M
pausetime = 8,8
sparkno = S700
sparkxy = -25,-40
hitsound   = S1,9
guardsound = S1,4
guard.sparkno =S703
ground.type = Low
ground.slidetime = 10+var(13)
ground.hittime  = 12+2*(Var(13))
ground.velocity = -3-var(13)
air.velocity = -2.5,-3.5

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time < 9
trigger1 = numhelper(211) = 0
helpertype = normal
stateno = 211
name = "score"
id      = 211
postype = left
pos = 0, 500
ignorehitpause = 1

[State 210, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------点数加算
[Statedef 211]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 200

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 9

;------------------------近距離立ち弱キック
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 15
ctrl = 0
velset = 0,0
anim = 250

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(11) = 1

[State 250, セリフ]
type = PlaySnd
triggerall = Random <= 250
trigger1 = time = 0
value = 4, 47

[State 250, hit]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Light
damage    = 30
getpower = 70,20
givepower = 40,10
guardflag = M
pausetime = 10,8
sparkno = S700
sparkxy = -15,-71
hitsound   = S1,9
guard.sparkno =S703
guardsound = S1,4
ground.type = Low
ground.slidetime = 10+Var(13)
ground.hittime  = 12+2*(Var(13))
ground.velocity = -3-var(13)
air.velocity = -2.5,-3.5

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time < 8
trigger1 = numhelper(251) = 0
helpertype = normal
stateno = 251
name = "score"
id      = 251
postype = left
pos = 0, 500
ignorehitpause = 1

[State 250, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------点数加算
[Statedef 251]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 200

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 14
;----------------遠距離立ち強パンチ
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 15
ctrl = 0
velset = 0,0
anim = 220

[State 220, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 220, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 5, 3

[State 220, hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = hard
damage    = 78
getpower = 100,40
givepower = 70,10
guardflag = MA
pausetime = 9,12
sparkno = S701
guard.sparkno = S704
sparkxy = -20,-70
hitsound   = S1,7
guardsound = S1,3
guard.sparkno =S700
guard.hittime = 20
guard.ctrltime = 20
ground.type = High
ground.slidetime = 12+Var(13)
ground.hittime  = 15+2*(Var(13))
ground.velocity = -7.5-var(13)
air.velocity = -4,-5

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time < 13
trigger1 = numhelper(221) = 0
helpertype = normal
stateno = 221
name = "score"
id      = 221
postype = left
pos = 0, 500
ignorehitpause = 1

[State 220, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------点数加算
[Statedef 221]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 300

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 15
;----------------近距離立ち強パンチ
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 15
ctrl = 0
velset = 0,0
anim = 260

[State 260, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 260, セリフ]
type = PlaySnd
trigger1 = animelem = 1
value = 3,8

[State 260, hit]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = hard
damage    = 72
guardflag = MA
pausetime = 10,4
sparkno = S701
getpower = 100,40
givepower = 70,10
guard.sparkno = S704
sparkxy = -42,-70
hitsound   = S1,7
guard.sparkno =S700
guardsound = S1,3
guard.hittime = 20
guard.ctrltime = 20
ground.type = High
ground.slidetime = 25+2*(Var(13))
ground.hittime  = 22+3*(Var(13))
ground.velocity = -6.5-var(13)
air.velocity = -4,-5

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time < 11
trigger1 = numhelper(221) = 0
helpertype = normal
stateno = 221
name = "score"
id      = 221
postype = left
pos = 0, 500
ignorehitpause = 1

[State 260, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------遠距離立ち強キック
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 15
ctrl = 0
velset = 0,0
anim = 230

[State 230, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 230, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 3,8

[State 230, hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = high
damage    = 91
getpower = 100,40
givepower = 70,10
guardflag = MA
pausetime = 8,12
sparkno = S701
guard.sparkno = S704
sparkxy = -35,-60
hitsound   = S1,6
guard.hittime = 25
guardsound = S1,3
ground.type = Low
ground.slidetime = 12+2*(Var(13))
ground.hittime  = 15+3*(Var(13))
ground.velocity = -9-var(13)
air.velocity = -4,-5

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time < 13
trigger1 = numhelper(231) = 0
helpertype = normal
stateno = 231
name = "score"
id      = 231
postype = left
pos = 0, 500
ignorehitpause = 1

[State 230, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------点数加算
[Statedef 231]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 400

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 15
;-----------------------近距離立ち強キック
[Statedef 270]
type = S
movetype = A
physics = S
anim = 270
ctrl = 0
juggle = 15
velset = 0,0

[State 270, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 270, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 3,8

[State 270, 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype  = high
damage    = 72
guardflag = MA
getpower = 70,40
givepower = 70,10
hitflag = MAF
pausetime = 7,7
sparkno = S701
sparkxy = -30,-75
hitsound   = S1,6
guard.sparkno =S704
guardsound = S1,3
ground.type = Low
ground.slidetime = 25
ground.hittime  = 30
ground.velocity = -5+Var(13)
air.velocity = -4,-5

[State 270, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = high
damage    = 18
getpower = 70,40
givepower = 70,10
hitflag = MAF
guardflag = MA
pausetime = 12+var(12),12
sparkno = S701
guard.sparkno =S704
sparkxy = -23,-100
hitsound   = S1,6
guard.hittime = 40
guard.ctrltime = 40
guardsound = S1,3
ground.type = Low
ground.slidetime = 12+2*(Var(13))
ground.hittime  = 15+3*(Var(13))
ground.velocity = -9-2*(Var(13))
air.velocity = -4,-5

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [5,7]
trigger1 = numhelper(211) = 0
helpertype = normal
stateno = 211
name = "score"
id      = 211
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [10,14]
trigger1 = numhelper(271) = 0
helpertype = normal
stateno = 271
name = "score"
id      = 271
postype = left
pos = 0, 500
ignorehitpause = 1

[State 270, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------点数加算
[Statedef 271]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 200

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 18
;---------------------吹っとばし攻撃
[Statedef 280]
type = S
movetype = A
physics = S
juggle  = 15
anim = 280
ctrl = 0
velset = 0,0

[State 280, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 5, 4
volume = 255

[State 280, hit]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype = Back
damage = 104
getpower = 120,40
givepower = 70,10
guardflag = M
pausetime = 12,12
sparkxy = -20,-66
sparkno = S705
guard.sparkno =S704
hitsound = S1,8
guardsound = S1,3
ground.type = High
guard.hittime = 30
guard.ctrltime = 30
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -5.0,-3.0
air.velocity = -5.5,-4.7
fall = 1

[State 280]
type = PosAdd
trigger1 = AnimTime = 0
x = 5

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [13,26]
trigger1 = numhelper(281) = 0
helpertype = normal
stateno = 281
name = "score"
id      = 281
postype = left
pos = 0, 500
ignorehitpause = 1

[State 280, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------点数加算
[Statedef 281]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 800

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 25
;-----------------------→a 雷光回し蹴り
[Statedef 290]
type = S
movetype = A
physics = S
juggle  = 15
anim = 290
ctrl = 0

[State 1000, 1]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1060
add = 255,255,255
time = 1
ignorehitpause = 1


[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1060
var(31) = -230

[State 290, セリフ]
type = PlaySnd
trigger1 = time = 0
value = 3,8

[State 1100]
type = velset
trigger1 = Animelem = 1,>= 0
trigger1 = Animelem = 5,<= 0
x = 4

[State 290, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype  = Medium
damage    = 72
guardflag = M
pausetime = 12,12
getpower = ifelse(var(31) = 0,100,0),ifelse(var(31) = 0,40,0)
givepower = 70,10
sparkno = S701
guard.sparkno =S704
sparkxy = -58,-76
hitsound   = S1,6
guardsound = S1,3
ground.type = Low
ground.slidetime = 16+2*(Var(13))
ground.hittime  = 19+2*(Var(13))
ground.velocity = -11-var(13)
air.velocity = -2.2,-3.2

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [17,19]
trigger1 = numhelper(291) = 0
helpertype = normal
stateno = 291
name = "score"
id      = 291
postype = left
pos = 0, 500
ignorehitpause = 1

[State 1401]
type = PalFX
triggerall = Time = 0
trigger1 = prevstateno = 1103 |prevstateno = 1153|prevstateno = 290
add = 255,255,255
time = 1
ignorehitpause = 1

[State 290, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------点数加算
[Statedef 291]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 500

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 25
;------------------------→A
[Statedef 300]
type = S
movetype = I
physics = N
poweradd = 0
anim = 300
ctrl = 0

[state 300];属性変更
type = StatetypeSet
trigger1 = Animelem = 4
value = A

[State 300, セリフ]
type = PlaySnd
trigger1 = animelem = 4
value = 3,11

[State 300]
type = VelSet
trigger1 = Animelem = 4
x = 4
y = -3

[State 1453]
type = Gravity
trigger1 = time > 10

[State 300, 終了]
type = ChangeState
;trigger1 = Animelem = 7
trigger1 = Vel Y > 0 && Pos Y >= 4
value = 301
;---------------------攻撃
[Statedef 301]
type = S
movetype = A
physics = S
anim = 301
velset = 0,0
ctrl = 0
juggle = 15

[state 300];属性変更
type = StatetypeSet
trigger1 = time = 0
value = S

[State 1402];地面に立たせる
type = PosSet
trigger1 = time = 0
y = 0

[State 301]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 72
guardflag = H
pausetime = 12,12
getpower = 0,0
sparkno = S701
guard.sparkno =S704
sparkxy = -10,-90
hitsound   = S1,6
guardsound = S1,4
ground.type = Low
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -3
guard.hittime = 30
air.velocity = -2.2,-3.2

[State 301]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------- a
[Statedef 350]
type = S
movetype = A
physics = S
juggle  = 15
anim = 350
ctrl = 0

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(11) = 1

[State 280, hit]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Light
damage    = 26
guardflag = MA
pausetime = 6+var(12),8
sparkno = S700
sparkxy = -35,-95
hitsound   = S1,10
getpower = 70,15
givepower = 40,10
guardsound = S1,4
guard.sparkno =S703
ground.type = High
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = -3.5+var(13)
air.velocity = -2.5,-4

[State 3401]
type = Helper
trigger1 = time = [4,11]
trigger1 = movehit
trigger1 = numhelper(350) = 0
helpertype = normal
stateno = 201
name = "score"
id      = 350
postype = left
pos = 0, 500
ignorehitpause = 1

[State 280]
type = PosAdd
trigger1 = AnimTime = 0
x = 5

[State 280, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------b
[Statedef 351]
type    = S
movetype= A
physics = S
juggle  = 15
ctrl = 0
velset = 0,0
anim = 351

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(11) = 1

[State 210, hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Light
damage    = 30
getpower = 60,20
givepower = 40,10
guardflag = M
pausetime = 6+var(12),8
sparkno = S700
sparkxy = -50,-50
hitsound   = S1,9
guardsound = S1,4
guard.sparkno =S703
ground.type = Low
ground.slidetime = 10
ground.hittime  = 14
ground.velocity = -3+var(13)
air.velocity = -2.5,-3.5

[State 3401]
type = Helper
trigger1 = time = [6,11]
trigger1 = movehit
trigger1 = numhelper(351) = 0
helpertype = normal
stateno = 251
name = "score"
id      = 351
postype = left
pos = 0, 500
ignorehitpause = 1

[State 210, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------c
[Statedef 352]
type    = S
movetype= A
physics = S
juggle  = 15
ctrl = 0
velset = 0,0
anim = 352

[State 220, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 220, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 3,8

[State 220, hit]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Medium
damage    = 78
getpower = 100,40
givepower = 70,10
guardflag = MA
pausetime = 6+var(12),12
sparkno = S701
guard.sparkno = S704
sparkxy = -76,-73
hitsound   = S1,7
guardsound = S1,3
guard.sparkno =S700
guard.hittime = 20
guard.ctrltime = 20
ground.type = low
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -9.5
air.velocity = -4,-5

[State 3401]
type = Helper
trigger1 = time = [8,14]
trigger1 = movehit
trigger1 = numhelper(352) = 0
helpertype = normal
stateno = 231
name = "score"
id      = 352
postype = left
pos = 0, 500
ignorehitpause = 1


[State 220, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------d
[Statedef 353]
type = S
movetype = A
physics = S
juggle  = 10
anim = 353
ctrl = 0

[State 220, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 290, セリフ]
type = PlaySnd
trigger1 = time = 0
value = 3,8

[State 1100]
type = velset
trigger1 = Animelem = 2,>= 0
trigger1 = Animelem = 6,<= 0
x = 4

[State 290, 2]
type = HitDef
trigger1 = Animelem = 6
attr = S, NA
animtype  = Medium
damage    = 72
guardflag = M
pausetime = 18,12
getpower = 100,40
givepower = 70,10
sparkno = S701
guard.sparkno =S704
sparkxy = -50,-78
hitsound   = S1,6
guardsound = S1,3
ground.type = Low
ground.slidetime = 6
ground.hittime  = 14
ground.velocity = -4+var(13),-3.2
air.velocity = -2.2,-3.2
fall = 1
fall.recover = 0

[State 3401]
type = Helper
trigger1 = time = [15,19]
trigger1 = movehit
trigger1 = numhelper(350) = 0
helpertype = normal
stateno = 291
name = "score"
id      = 350
postype = left
pos = 0, 500
ignorehitpause = 1

[State 290, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------→c
[Statedef 354]
type    = S
movetype= A
physics = S
juggle  = 15
ctrl = 0
velset = 0,0
anim = 354

[State 220, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 220, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 3,8

[State 220, hit]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 78
getpower = 100,40
givepower = 70,10
guardflag = MA
pausetime = 12,12
sparkno = S701
guard.sparkno = S704
sparkxy = -40,-70
hitsound   = S1,7
guardsound = S1,3
guard.sparkno =S700
guard.hittime = 20
guard.ctrltime = 20
ground.type = High
ground.slidetime = 12
ground.hittime  = 20
ground.velocity = -7.5
air.velocity = -4,-5

[State 3401]
type = Helper
trigger1 = time = [9,12]
trigger1 = movehit
trigger1 = numhelper(354) = 0
helpertype = normal
stateno = 231
name = "score"
id      = 354
postype = left
pos = 0, 500
ignorehitpause = 1


[State 220, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------→d
[Statedef 355]
type    = S
movetype= A
physics = S
juggle  = 15
ctrl = 0
velset = 0,0
anim = 355

[State 220, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 220, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 3,8

[State 270, 2]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype  = high
damage    = 72
guardflag = MA
getpower = 70,40
givepower = 70,10
hitflag = MA
pausetime = 6,7
sparkno = S701
sparkxy = -29,-102
hitsound   = S1,6
guard.sparkno =S704
guardsound = S1,3
ground.type = Low
ground.slidetime = 5
ground.hittime  = 30
ground.velocity = -2
air.velocity = -4,-5

[State 270, 2]
type = HitDef
trigger1 = animelem = 6
attr = S, NA
animtype  = high
damage    = 18
getpower = 70,40
givepower = 70,10
hitflag = MA
guardflag = MA
pausetime = 12+var(12),12
sparkno = S701
guard.sparkno =S704
sparkxy = -42,-72
hitsound   = S1,6
guard.hittime = 40
guard.ctrltime = 40
guardsound = S1,3
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8+var(13)
air.velocity = -4,-5

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [12,15]
trigger1 = numhelper(211) = 0
helpertype = normal
stateno = 211
name = "score"
id      = 211
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [24,32]
trigger1 = numhelper(271) = 0
helpertype = normal
stateno = 291
name = "score"
id      = 271
postype = left
pos = 0, 500
ignorehitpause = 1


[State 220, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------しゃがみ弱パンチ
[Statedef 356]
type = C
movetype = A
physics = C
juggle  = 15
anim = 356
velset = 0
ctrl = 0

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(11) = 1

[State 400, 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Random < 500
value = 3,11

[State 400, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
animtype = Light
damage = 25
guardflag = L
getpower = 70,40
givepower = 70,10
pausetime = 10,9
sparkno = S700
sparkxy = -37,-61
hitsound = S1,10
guard.sparkno =S703
guardsound = S1,4
ground.type = Low
ground.slidetime = 9
ground.hittime = 14
ground.velocity = -4
air.velocity = -1.2,-3

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [5,7]
trigger1 = numhelper(356) = 0
helpertype = normal
stateno = 362
name = "score"
id      = 356
postype = left
pos = 0, 500
ignorehitpause = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;------------------------しゃがみb
[Statedef 357]
type = C
movetype = A
physics = C
juggle  = 15
anim = 357
velset = 0
ctrl = 0

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(11) = 1

[State 400, 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Random < 500
value = 3,11

[State 410, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
animtype = Light
damage = 25
getpower = 70,40
givepower = 70,10
guardflag = L
pausetime = 11,11
sparkno = S700
sparkxy = -50,-10
hitsound = S1,9
guard.sparkno =S703
guardsound = S1,4
ground.type = Low
ground.slidetime = 9
ground.hittime = 14
ground.velocity = -4.1+var(13)
air.velocity = -1.4,-3

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [4,11]
trigger1 = numhelper(357) = 0
helpertype = normal
stateno = 363
name = "score"
id      = 357
postype = left
pos = 0, 500
ignorehitpause = 1

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------しゃがみc
[Statedef 358]
type = C
movetype = A
physics = C
anim = 358
juggle  = 0
velset = 0
ctrl = 0

[State 420, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 420, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3,11

[State 420, 3]
type = HitDef
trigger1 = Animelem = 4
attr = C, NA
animtype = up
getpower = 100,40
givepower = 70,10
damage = 70
guardflag = M
pausetime = 12+var(12),12
sparkno = S701
sparkxy = -24,-108
hitsound = S1,7
guard.sparkno =S704
guardsound = S1,3
guard.hittime = 40
ground.type = High
ground.slidetime = 16
ground.hittime = 25
ground.velocity = -3,-6
air.velocity = -2.5,-3.3
fall = 1
fall.recover = 0

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [7,12]
trigger1 = numhelper(358) = 0
helpertype = normal
stateno = 291
name = "score"
id      = 358
postype = left
pos = 0, 500
ignorehitpause = 1

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;----------------------しゃがみ強キック
[Statedef 359]
type = C
movetype = A
physics = C
juggle  = 15
anim = 359
velset = 0
ctrl = 0

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3,11

[State 430, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage   = 80
getpower = 100,40
givepower = 70,10
guardflag = L
pausetime = 11,12
sparkno = S701
sparkxy = -65,-30
hitsound   = S1,6
guard.sparkno =S704
guardsound = S1,3
ground.type = Trip
ground.slidetime = 18
ground.hittime  = 25
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = -2,-3
guard.velocity = -6
air.velocity = -2.4,-3.5
airguard.velocity = -3,-3
fall = 1

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [11,16]
trigger1 = numhelper(359) = 0
helpertype = normal
stateno = 231
name = "score"
id      = 359
postype = left
pos = 0, 500
ignorehitpause = 1

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------→しゃがみc
[Statedef 360]
type = C
movetype = A
physics = C
anim = 360
juggle  = 15
velset = 0
ctrl = 0

[State 420, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 420, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3,11

[State 420, 3]
type = HitDef
trigger1 = time = 0
attr = C, NA
animtype = hard
getpower = 100,40
givepower = 70,10
damage = 75
guardflag = M
pausetime = 12+var(12),12
sparkno = S701
sparkxy = -53,-90
hitsound = S1,7
guard.sparkno =S704
guardsound = S1,3
guard.hittime = 40
ground.type = High
ground.slidetime = 16
ground.hittime = 20
ground.velocity = -3
air.velocity = -2.5,-3.3

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [11,12]
trigger1 = numhelper(360) = 0
helpertype = normal
stateno = 231
name = "score"
id      = 360
postype = left
pos = 0, 500
ignorehitpause = 1

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;----------------------しゃがみ強キック
[Statedef 361]
type = C
movetype = A
physics = C
juggle  = 15
anim = 359
velset = 0
ctrl = 0

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3,11

[State 430, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage   = 80
getpower = 100,40
givepower = 70,10
guardflag = L
pausetime = 11,12
sparkno = S701
sparkxy = -60,-30
hitsound   = S1,6
guard.sparkno =S704
guardsound = S1,3
ground.type = low
ground.slidetime = 18
ground.hittime  = 25
guard.hittime = 30
guard.ctrltime = 30
ground.velocity = -2
guard.velocity = -6
air.velocity = -2.4,-3.5
airguard.velocity = -3,-3

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [5,7]
trigger1 = numhelper(211) = 0
helpertype = normal
stateno = 211
name = "score"
id      = 211
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [8,14]
trigger1 = numhelper(361) = 0
helpertype = normal
stateno = 231
name = "score"
id      = 361
postype = left
pos = 0, 500
ignorehitpause = 1

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------点数加算
[Statedef 362]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 100

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 35
;--------------------------------点数加算
[Statedef 363]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 200

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 35
;------------------しゃがみ弱パンチ
[Statedef 400]
type = C
movetype = A
physics = C
juggle  = 15
anim = 400
velset = 0
ctrl = 0

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(11) = 1

[State 400, 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Random < 500
value = 3,11

[State 400, 3]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
animtype = Light
damage = 25
guardflag = L
getpower = 70,40
givepower = 70,10
pausetime = 10,9
sparkno = S700
sparkxy = -19,-61
hitsound = S1,10
guard.sparkno =S703
guardsound = S1,4
ground.type = Low
ground.slidetime = 9+2*(Var(13))
ground.hittime = 9+2*(Var(13))
ground.velocity = -5-var(13)
air.velocity = -1.2,-3

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [5,8]
trigger1 = numhelper(201) = 0
helpertype = normal
stateno = 201
name = "score"
id      = 201
postype = left
pos = 0, 500
ignorehitpause = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;------------------------しゃがみ弱キック
[Statedef 410]
type = C
movetype = A
physics = C
juggle  = 15
anim = 410
velset = 0
ctrl = 1

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(11) = 1

[State 400, 2]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Random < 500
value = 3,11

[State 410, 3]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
animtype = Light
damage = 25
getpower = 70,40
givepower = 70,10
guardflag = L
pausetime = 10+var(12),11
sparkno = S700
sparkxy = -30,-5
hitsound = S1,9
guard.sparkno =S703
guardsound = S1,4
ground.type = Low
ground.slidetime = 9+2*(Var(13))
ground.hittime = 10+2*(Var(13))
ground.velocity = -4.1-var(13)
air.velocity = -1.4,-3

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [4,7]
trigger1 = numhelper(251) = 0
helpertype = normal
stateno = 251
name = "score"
id      = 251
postype = left
pos = 0, 500
ignorehitpause = 1

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------しゃがみ強パンチ
[Statedef 420]
type = C
movetype = A
physics = C
anim = 420
juggle  = 15
velset = 0
ctrl = 0

[State 420, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 420, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3,11

[State 420, 3]
type = HitDef
triggerall = var(2) != 3
trigger1 = time = 0
attr = C, NA
animtype = Hard
getpower = 100,40
givepower = 70,10
damage = 70
guardflag = M
pausetime = 10,12
sparkno = S701
sparkxy = -27,-82
hitsound = S1,7
guard.sparkno =S704
guardsound = S1,3
guard.hittime = 20
ground.type = High
ground.slidetime = 16+2*(Var(13))
ground.hittime = 20+2*(Var(13))
ground.velocity = -7-var(13)
air.velocity = -2.5,-3.3

[State 420, 3]
type = HitDef
triggerall = var(2) = 3
trigger1 = AnimElem = 2
attr = C, NA
animtype = Hard
getpower = 50,40
givepower = 70,10
damage = 40
guardflag = M
pausetime = 12,12
sparkno = S701
sparkxy = -30,-55
hitsound = S1,7
guard.sparkno =S704
guardsound = S1,3
guard.hittime = 40
ground.type = low
ground.slidetime = 16
ground.hittime = 20
ground.velocity = -2+var(13)
air.velocity = -2.5,-3.3

[State 420, 3]
type = HitDef
triggerall = var(2) = 3
trigger1 = AnimElem = 4
attr = C, NA
animtype = Hard
getpower = 60,40
givepower = 70,10
damage = 40
guardflag = M
pausetime = 12,12
sparkno = S701
sparkxy = -5,-120
hitsound = S1,7
guard.sparkno =S704
guardsound = S1,3
guard.hittime = 40
ground.type = High
ground.slidetime = 16+2*(Var(13))
ground.hittime = 20
ground.velocity = -8-var(13)
air.velocity = -2.5,-3.3

[State 3401]
type = Helper
triggerall = var(2) = 3
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = 4
trigger1 = numhelper(421) = 0
helpertype = normal
stateno = 421
name = "score"
id      = 421
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3401]
type = Helper
triggerall = var(2) = 3
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [8,14]
trigger1 = numhelper(271) = 0
helpertype = normal
stateno = 271
name = "score"
id      = 271
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [4,5]
trigger1 = numhelper(221) = 0
helpertype = normal
stateno = 221
name = "score"
id      = 221
postype = left
pos = 0, 500
ignorehitpause = 1


[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;--------------------------------点数加算
[Statedef 421]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 200

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 36
;----------------------しゃがみ強キック
[Statedef 430]
type = C
movetype = A
physics = C
juggle  = 15
anim = 430
velset = 0
ctrl = 0

[State 430, 1]
type = VarAdd
trigger1 = Time = 0
var(10) = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3,11

[State 430, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage   = 80
getpower = 100,40
givepower = 70,10
guardflag = L
pausetime = 10,12
sparkno = S701
sparkxy = -27,-30
hitsound   = S1,6
guard.sparkno =S704
guardsound = S1,3
ground.type = Trip
ground.slidetime = 18
ground.hittime  = 25
guard.hittime = 36
guard.ctrltime = 36
ground.velocity = -2,-4
guard.velocity = -6
air.velocity = -2.4,-3.5
airguard.velocity = -3,-3
fall = 1
fall.recovertime = 36

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time < 15
trigger1 = numhelper(231) = 0
helpertype = normal
stateno = 231
name = "score"
id      = 231
postype = left
pos = 0, 500
ignorehitpause = 1

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;--------------------------垂直ジャンプ弱パンチ
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 15
ctrl = 0
anim = 600

[State 600, 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Random < 750
value = 3,8

[State 600, hit]
type = HitDef
trigger1 = AnimElem = 3
animtype  = Light
attr = A, NA
damage = 46
guardflag = HA
getpower = 70,40
givepower = 70,10
priority = 3
pausetime = 8,8
sparkno = S700
sparkxy = -10,-58
hitsound   = S1,10
guard.sparkno =S703
guardsound = S1,4
ground.type = High
ground.slidetime = 10+2*(Var(13))
ground.hittime  = 12+2*(Var(13))
ground.velocity = -4-var(13)
air.velocity = -1.3,-3

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [7,13]
trigger1 = numhelper(201) = 0
helpertype = normal
stateno = 201
name = "score"
id      = 201
postype = left
pos = 0, 500
ignorehitpause = 1

;----------------------垂直ジャンプ弱キック
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 15
ctrl = 0
anim = 610

[State 610, 1]
type = PlaySnd
trigger1 = Time = 0
trigger1 = Random < 750
value = 5, 0

[State 610, hit]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage    = 46
animtype  = Light
getpower = 40,20
givepower = 25,12
guardflag = HA
priority = 3
pausetime = 8,9
sparkno = S700
sparkxy = -10,-58
hitsound = S1,9
guard.sparkno =S703
guardsound = S1,4
ground.type = High
ground.slidetime = 10+2*(Var(13))
ground.hittime  = 12+2*(Var(13))
ground.velocity = -4-var(13)
air.velocity = -1.3,-3

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [5,12]
trigger1 = numhelper(251) = 0
helpertype = normal
stateno = 251
name = "score"
id      = 251
postype = left
pos = 0, 500
ignorehitpause = 1

;-----------------------垂直ジャンプ強パンチ
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 620

[State 620, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3,11

[State 620, hit]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 78
guardflag = HA
priority = 4
pausetime = 12,12
getpower = 100,40
givepower = 70,10
sparkno = S701
guard.sparkno =S704
sparkxy = -10,-55
hitsound   = S1,7
guardsound = S1,3
animtype = Med
ground.type = High
ground.slidetime = 12+2*(Var(13))
ground.hittime  = 15+3*(Var(13))
ground.velocity = -5-var(13)
air.velocity = -3,-4

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [7,12]
trigger1 = numhelper(621) = 0
helpertype = normal
stateno = 621
name = "score"
id      = 621
postype = left
pos = 0, 500
ignorehitpause = 1
;--------------------------------点数加算
[Statedef 621]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 300

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 25
;----------------------垂直ジャンプ強キック
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 15
ctrl = 0
anim = 630

[State 630, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3,11

[State 630, hit]
type = HitDef
trigger1 = AnimElem = 5
attr = A, NA
damage    =100
animtype  = Hard
getpower = 80,45
givepower = 25,12
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = S701
guard.sparkno = 41
sparkxy = -10,-58
guard.sparkno =S704
hitsound = S1,6
guardsound = S1,3
ground.type = High
ground.slidetime = 9+2*(Var(13))
ground.hittime  = 18+2*(Var(13))
ground.velocity = -4-var(13)
air.velocity = -1.3,-3

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [13,17]
trigger1 = numhelper(231) = 0
helpertype = normal
stateno = 231
name = "score"
id      = 231
postype = left
pos = 0, 500
ignorehitpause = 1

;----------------------斜めジャンプ弱パンチ
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 6
ctrl = 0
anim = 640

[State 640, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3,8

[State 640, hit]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage    = 45
animtype  = light
getpower = 70,25
givepower = 25,12
guardflag = HA
priority = 3
pausetime = 7,12
sparkno = S700
guard.sparkno =S703
sparkxy = -10,-58
hitsound = S1,10
guardsound = S1,4
ground.type = High
ground.slidetime = 8+2*(Var(13))
ground.hittime  = 18+2*(Var(13))
ground.velocity = -4-var(13)
air.velocity = -1.3,-3

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [6,13]
trigger1 = numhelper(201) = 0
helpertype = normal
stateno = 201
name = "score"
id      = 201
postype = left
pos = 0, 500
ignorehitpause = 1

;-------------------------斜めジャンプ弱キック
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 3
ctrl = 0
anim = 650

[State 650, 1]
type = PlaySnd
trigger1 = Time = 0
value = 5, 0

[State 650, 1]
type = HitDef
trigger1 = AnimElem = 2
animtype  = Light
attr = A, NA
damage = 48
getpower = 70,40
givepower = 50,10
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = S700
sparkxy = -5,-35
hitsound   = S1,9
guard.sparkno =S703
guardsound = S1,4
ground.type = High
ground.slidetime = 10+2*(Var(13))
ground.hittime  = 12+2*(Var(13))
ground.velocity = -4-var(13)
air.velocity = -2,-3

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [5,11]
trigger1 = numhelper(251) = 0
helpertype = normal
stateno = 251
name = "score"
id      = 251
postype = left
pos = 0, 500
ignorehitpause = 1

;----------------------斜めジャンプ強パンチ
[Statedef 660]
type    = A
movetype= A
physics = A
juggle  = 15
ctrl = 0
anim = 660

[State 1101]
type = Varset
trigger1 = time = 0
v = 9
value = 0

[State 1101]
type = Varset
trigger1 = movehit
trigger1 = p2statetype = A
v = 9
value = 1

[State 660, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3,11

[State 660, hit]
type = HitDef
triggerall = var(9) = 0
trigger1 = AnimElem = 3
trigger2 = AnimElem = 5
trigger3 = AnimElem = 7
trigger4 = AnimElem = 9
trigger5 = AnimElem = 11
trigger6 = AnimElem = 13
trigger7 = AnimElem = 15
attr = A, NA
damage    = 22
guardflag = HA
getpower = 50,40
givepower = 70,10
priority = 4
pausetime = 7,7
sparkno = S701
guard.sparkno =S704
sparkxy = -15,-40
hitsound   = S4,18
guardsound = S1,3
animtype = HARD
ground.type = high
ground.slidetime = 14+2*(Var(13))
ground.hittime  = 20
ground.velocity = -1-var(13)
air.velocity = -3,-6
air.hittime = 32

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
;trigger1 = time = [5,11]
trigger1 = numhelper(661) = 0
helpertype = normal
stateno = 661
name = "score"
id      = 661
postype = left
pos = 0, 500
ignorehitpause = 1
;--------------------------------点数加算
[Statedef 661]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 300

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 48
;--------------------------斜めジャンプ強キック
[Statedef 670]
type    = A
movetype= A
physics = A
juggle  = 3
ctrl = 0
anim = 670

[State 670, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 8

[State 680, 1]
type = HitDef
trigger1 = AnimElem = 3
animtype  = Light
attr = A, NA
damage = 48
guardflag = HA
getpower = 100,40
givepower = 70,10
priority = 3
pausetime = 8,8
sparkno = S701
sparkxy = -5,-55
hitsound   = S1,6
guard.sparkno =S704
guardsound = S1,3
ground.type = High
ground.slidetime = 12+2*(Var(13))
ground.hittime  = 20
ground.velocity = -4-var(13)
air.velocity = -2,-3

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [7,15]
trigger1 = numhelper(231) = 0
helpertype = normal
stateno = 231
name = "score"
id      = 231
postype = left
pos = 0, 500
ignorehitpause = 1

;------------------------------ジャンプふっとばし
[Statedef 680]
type = A
movetype = A
physics = A
juggle = 15
anim = 630
ctrl = 0

[State 670, 1]
type = PlaySnd
trigger1 = Time = 0
value = 5, 3

[State 670, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
hitflag = MAF
animtype = Back
damage = 140
guardflag = HA
pausetime = 12,16
sparkno = S701
guard.sparkno =S704
sparkxy = -10,-80
hitsound = S1,8
guardsound = S1,3
ground.velocity = -3,-4
air.velocity = -3,-2
airguard.velocity = -2.5,-1
fall = 1
fall.recover = 0
guard.velocity = -8.9
getpower = 130,40
givepower = 80,20


[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [13,17]
trigger1 = numhelper(281) = 0
helpertype = normal
stateno = 281
name = "score"
id      = 281
postype = left
pos = 0, 500
ignorehitpause = 1

;必殺技------------------------------------------------------------------------
;-------------
[Statedef 1005]
type = S
physics = N
movetype = A
anim = 1005
sprpriority = 3
juggle = 15
velset=5,0
ctrl = 0

[State 196] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 196]
type = destroyself
trigger1 = Time = 160
;-------------
[Statedef 1006]
type = S
physics = N
movetype = A
anim = 1005
sprpriority = 3
juggle = 15
velset=0,0
ctrl = 0

[State 196] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 196]
type = destroyself
trigger1 = Time = 260
;-------------
[Statedef 1007]
type = S
physics = N
movetype = A
anim = 1005
sprpriority = 3
juggle = 15
velset=7,0
ctrl = 0

[State 196] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 196]
type = destroyself
trigger1 = Time = 160
;------------------烈風拳（飛び道具）
[Statedef 1000]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
poweradd=ifelse(var(31) = 0,100,0)
sprpriority=2
anim=1000

[State 0, 1]
type = ChangeAnim
trigger1 = var(2) = 2
trigger1 = Time = 0
value = 1006

[State 1000, 1]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1050
trigger2 = prevstateno = 1010|prevstateno = 1060
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1050
trigger2 = prevstateno = 1010|prevstateno = 1060
var(31) = -128

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1000
var(31) = -256

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2, 8

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4, 25

[State 1000]
type = projectile
trigger1 = time = 11
projanim = 1001
projremovetime = -1
projhitanim = 1002
projpriority = 1
ProjID = 1000
offset = 10,0
velocity = 6, 0
attr = S,SP
animtype = hard
damage = 50,10
guardflag = MA
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkxy = 0,-100
hitsound = S4,9
guardsound = S1,3
ground.type = high
ground.slidetime = 15
ground.hittime = 27
ground.velocity = -5,0
guard.hittime = 25
guard.ctrltime = 25
air.velocity = -4.4,-5
air.juggle = 15

[State 1005];helper
type = Helper
trigger1 = AnimElem = 4
helpertype = normal
stateno = 1005
name = "tobi"
id      = 1005
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1

[State 1000]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------烈風拳（その場）
[Statedef 1010]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
poweradd=ifelse(var(31) = 0,100,0)
sprpriority=2
anim=ifelse(var(2) = 1,1008,1004)

[State 0, 1]
type = ChangeAnim
trigger1 = var(2) = 2
trigger1 = Time = 0
value = 1007

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1060
var(31) = -128

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1010
var(31) = -256

[State 1010]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4, 24

[State 1010]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2, 8

[State 1000];96
type = projectile
triggerall = var(2) = 1
trigger1 = time = 9
projanim = 1003
projremovetime = 17
projhitanim = 1003
projremanim = 1003
projpriority = 5
ProjID = 1010
offset = 10,0
projhits = 1
velocity = 0, 0
attr = S,SP
animtype = hard
damage = 70,10
hitflag = MAF
guardflag = M
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 0,-170
hitsound = S4,9
guardsound = S1,3
ground.type = high
ground.slidetime = 7
ground.hittime = 15
ground.velocity = -7
guard.hittime = 39
guard.ctrltime = 30
air.velocity = -4.4,-5
air.fall = 1
air.juggle = 15

[State 1000];02浮かせ
type = projectile
triggerall = var(2) = 2
trigger1 = time = 8
projanim = 1003
projremovetime = 17
projhitanim = 1003
projremanim = 1003
projpriority = 5
projID = 1000
offset = 10,0
projhits = 1
velocity = 0, 0
attr = S,SP
animtype = hard
damage = 70,10
hitflag = MA
guardflag = M
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 0,-170
hitsound = S4,9
guardsound = S1,3
ground.type = high
ground.slidetime = 5
ground.hittime = 10
ground.velocity = -1.5,-8
air.velocity = -4.4,-5
fall = 1
fall.recover = 0

[State 1000]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------ダブル烈風拳（飛び道具）
[Statedef 1050]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
poweradd=ifelse(var(31) = 0,100,0)
sprpriority=2
anim=1050

[State 0, 1]
type = ChangeAnim
trigger1 = var(2) = 2
trigger1 = Time = 0
value = 1056

[State 1000, 1]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1050
trigger2 = prevstateno = 1010|prevstateno = 1060
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1050
trigger2 = prevstateno = 1010|prevstateno = 1060
var(31) = -128

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1050
var(31) = -256

[State 1050]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2, 2

[State 1060]
type = PlaySnd
trigger1 = AnimElem = 12
value = 2, 11

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 12
value = 4, 25

[State 1050];初弾
type = projectile
trigger1 = time = 10
projanim = 1051
projremovetime = 15
projhitanim = 1051
projremanim = 1051
projID = 1050
projpriority = 5
offset = 45,0
projhits = 1
velocity = 0, 0
attr = S,SP
animtype = hard
damage = 20,10
hitflag = MAF
guardflag = MA
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 0,-70
hitsound = S4,9
guardsound = S1,3
ground.type = high
ground.slidetime = 20
ground.hittime = 24
ground.velocity = -6.5,0
air.velocity = -4.4,-5
air.juggle = 15

[State 1050];2段目
type = projectile
trigger1 = AnimElem = 13
projanim = 1052
projremovetime = -1
projhitanim = 1055
projID = 1010
projpriority = 1;7
offset = 10,0
velocity = 7, 0
attr = S,SP
animtype = hard
damage = 71,10
guardflag = MA
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 0,-70
hitsound = S4,9
guardsound = S1,3
guard.hittime = 40
guard.ctrltime = 40
ground.type = high
ground.slidetime = 30
ground.hittime = 34
ground.velocity = -6,0
air.velocity = -4.4,-5
air.juggle = 15

[State 1005];helper
type = Helper
trigger1 = time = 0
helpertype = normal
stateno = 1006
name = "tobi"
id      = 1005
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1

[State 1005];helper
type = Helper
trigger1 = AnimElem = 13
helpertype = normal
stateno = 1007
name = "tobi"
id      = 1005
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1

[State 1050]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------ダブル烈風拳（その場）
[Statedef 1060]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
poweradd=ifelse(var(31) = 0,100,0)
sprpriority=2
anim=1050

[State 0, 1]
type = ChangeAnim
trigger1 = var(2) = 2
trigger1 = Time = 0
value = 1057

[State 1000, 1]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1060
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1060|prevstateno = 1000
var(31) = -128

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1060
var(31) = -256

[State 280]
type = velset
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
x = 4

[State 1010]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 13
value = 4, 24

[State 1060]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2, 2

[State 1060]
type = PlaySnd
trigger1 = AnimElem = 12
value = 2, 11

[State 1060]
type = projectile
trigger1 = var(2) = 1
trigger1 = time = 14
trigger2 = var(2) = 2
trigger2 = time = 8
projanim = 1003
projremovetime = 17
projhitanim = 1003
projremanim = 1003
projID = 1060
projpriority = 5
offset = 10,0
projhits = 1
velocity = 0, 0
attr = S,SP
animtype = hard
damage = ifelse(var(2) = 1,80,50),10
hitflag = MA
guardflag = M
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 20,-70
hitsound = S4,9
guardsound = S1,3
ground.type = high
ground.slidetime = 5
ground.hittime = 25
ground.velocity = -1.5,0
air.velocity = -4.4,-5
air.juggle = 15

[State 1060]
type = projectile
trigger1 = AnimElem = 13
projanim = 1053
projremovetime = 16
projhitanim = 1053
projremanim = 1053
projID = 1010
projpriority = 5
offset = 10,0
projhits = 1
velocity = 0, 0
attr = S,SP
animtype = hard
damage = 70,10
hitflag = MA
guardflag = M
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 20,-70
hitsound = S4,9
guardsound = S1,3
ground.type = high
ground.slidetime = 5
ground.hittime = 27
guard.hittime = 27
guard.ctrltime = 27
ground.velocity = -3,-3
air.velocity = -4.4,-5
air.juggle = 15
fall = 1
fall.recover = 0

[State 1060]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------邪影拳弱
[Statedef 1100]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
poweradd=50
sprpriority=2
anim=1100

[State 1100]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 8
volume = 255


[State 1000, 1]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000
trigger2 = prevstateno = 1050|prevstateno = 1060
add = 255,255,255
time = 1
ignorehitpause = 1

;palfx to cancel moves like kof 2002
[State 1401]
type = PalFX
triggerall = Time = 0
trigger1 = prevstateno = 290 | prevstateno = 1100
add = 255,255,255
time = 1
ignorehitpause = 1


[State 1100]
type=ChangeState 
trigger1=AnimTime=0
value=1101
ctrl=1

;-------------------突進
[Statedef 1101];
type = S
movetype = A
physics = N
poweradd = 5
anim = 1101
velset = 0,0
ctrl = 0

[State 3210]
type = AfterImage
trigger1 = time = 0
time = 15
length = 6
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 1100]
type = PlaySnd
trigger1 = time = 1
value = 4,42

[State 1100]
type = PlaySnd
trigger1 = time = 1
value = 4,43

[State 1101];速度を与える
type = VelSet
trigger1 = 1
x = 5

[State 1101];速度を与える
type = VelSet
trigger1 = time = 0
x = 12

[State 1403]
type = VelAdd
trigger1 = Time > 2
x = -0.72


[State 1101]
type=HitDef
trigger1=animelem=1
trigger2=animelem=2
trigger3=animelem=3
attr=S,SA
damage=50,10
getpower=ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MAF
priority=5,Hit
pausetime=8,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-20,-60
hitsound=S4,18
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=15
ground.velocity=-3,0
guard.hittime = 40
guard.ctrltime = 40
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-5,-3
air.hittime=12
air.juggle = 15

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = numhelper(211) = 0
helpertype = normal
stateno = 211
name = "score"
id      = 211
postype = left
pos = 0, 500
ignorehitpause = 1

[State 1105]
type = ChangeState
trigger1 = movecontact = 1
value = 1103
ctrl = 1


[State 1105]
type = ChangeState
trigger1 = Time = 21
value = 1102
ctrl = 1
;-------------------邪影拳ヒットせず
[Statedef 1102]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
sprpriority=2
anim=1102

[State 1101,7]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1

;------------------------邪影拳ヒット
[Statedef 1103]
type=S
movetype=A
physics=N
juggle=15
velset=0,0
ctrl=0
sprpriority=2
anim=1103

[State 1103];速度を与える
type = VelSet
trigger1 = animelem=4
trigger2 = animelem=5
x = 1

[State 1103];速度を与える
type = VelSet
trigger1 = animelem=1
trigger2 = animelem=2
trigger3 = animelem=3
trigger4 = animelem=7
trigger5 = animelem=8
trigger6 = animelem=9
x = 2.4

[State 1103];速度を与える
type = VelSet
trigger1 = animelem=11
x = 0

[State 1103]
type=HitDef
trigger1 = var(9) = 0
trigger1=animelem=4
attr=S,SA
damage=ifelse(var(2) = 1,50,40),10
getpower=ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
givepower = 10,10
animtype=hard
guardflag=M
hitflag=MAF
priority=5,Hit
pausetime=7,6
sparkno=S705
guard.sparkno =S704
sparkxy=-36,-45
hitsound=S1,7
guardsound=S1,3
ground.type=low
ground.slidetime=4
ground.hittime=30
ground.velocity=-2
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-4,-4
air.hittime=12
air.juggle = 15

[State 1103]
type=HitDef
trigger1 = var(9) = 0
trigger1 = animelem=8
attr=S,SA
damage=ifelse(var(2) = 1,65,40),10
getpower=ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
givepower = 10,10
animtype=hard
guardflag=M
hitflag=MAF
priority=5,Hit
pausetime=10,10
sparkno=S705
guard.sparkno =S704
sparkxy=-45,-69
hitsound=S1,8
guardsound=S1,3
ground.type=low
ground.slidetime=1
ground.hittime=15
ground.velocity=-4,-5
guard.hittime = 23
guard.ctrltime = 23
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-4,-4
air.hittime=12
air.juggle = 15
fall = 1

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [10,11]
trigger1 = numhelper(251) = 0
helpertype = normal
stateno = 251
name = "score"
id      = 251
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [20,21]
trigger1 = numhelper(1104) = 0
helpertype = normal
stateno = 1104
name = "score"
id      = 1104
postype = left
pos = 0, 500
ignorehitpause = 1

[State 1103]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;--------------------------------点数加算
[Statedef 1104]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 300

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 45
;-------------------------------------邪影拳強
[Statedef 1150]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
poweradd=ifelse(var(31) = 0,100,0)
sprpriority=2
anim=1150


[State 1000, 1]
type = PalFX
triggerall = Time = 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1060
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1000, 1]
type = PalFX
triggerall = Time = 0
trigger1 = prevstateno = 290 | prevstateno = 1150
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1100]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 8
volume = 255

[State 1150]
type=ChangeState 
trigger1=AnimTime=0
value=1151
ctrl=1
;-------------------;突進
[Statedef 1151]
type = S
movetype = A
physics = N
poweradd = 0
anim = 1101
ctrl = 0

[State 1151]
type = AfterImage
trigger1 = time = 0
time = 15
length = 6
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 1100]
type = PlaySnd
trigger1 = time = 1
value = 4,42

[State 1100]
type = PlaySnd
trigger1 = time = 1
value = 4,43

[State 1101];速度を与える
type = VelSet
trigger1 = time = 0
x = 12

[State 1151]
type=HitDef
trigger1=animelem=1
trigger2=animelem=2
trigger3=animelem=3
attr=S,SA
damage=55,10
getpower=ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MAF
priority=7,Hit
pausetime=8,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S704
sparkxy=-20,-60
hitsound=S4,18
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=15
ground.velocity=-3,0
guard.hittime = 40
guard.ctrltime = 40
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = numhelper(221) = 0
helpertype = normal
stateno = 221
name = "score"
id      = 221
postype = left
pos = 0, 500
ignorehitpause = 1

[State 1701]
type = ChangeState
trigger1 = moveguarded
value = 1102
ignorehitpause = 1

[State 1701]
type = ChangeState
trigger1 = movehit
value = 1153
ignorehitpause = 1

[State 1701]
type = ChangeState
trigger1 = movecontact
value = 1153
ctrl = 1

[State 1155]
type = ChangeState
trigger1 = Time = 15
value = 1102
ctrl = 1

;-------------------------邪影拳ヒット
[Statedef 1153]
type=S
movetype=A
physics=N
juggle=15
velset=0,0
ctrl=0
sprpriority=2
anim=1103

[State 1103];速度を与える
type = VelSet
trigger1 = animelem=4
trigger2 = animelem=5
x = 1

[State 1103];速度を与える
type = VelSet
trigger1 = animelem=1
trigger2 = animelem=2
trigger3 = animelem=3
trigger4 = animelem=7
trigger5 = animelem=8
trigger6 = animelem=9
x = 2.4

[State 1103];速度を与える
type = VelSet
trigger1 = animelem=11
x = 0

[State 1153]
type=HitDef
trigger1 = var(9) = 0
trigger1=animelem=4
attr=S,SA
damage=ifelse(var(2) = 1,65,40),10
getpower=ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
givepower = 10,10
animtype=hard
guardflag=M
hitflag=MAF
priority=5,Hit
pausetime=6,6
sparkno=S705
guard.sparkno =S704
sparkxy=-36,-45
hitsound=S1,7
guardsound=S1,3
ground.type=low
ground.slidetime=3
ground.hittime=30
ground.velocity=-4
guard.hittime = 40
guard.ctrltime = 40
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-4,-4
air.hittime=12
air.juggle = 15

[State 1153]
type=HitDef
trigger1 = var(9) = 0
trigger1=animelem=8
attr=S,SA
damage=ifelse(var(2) = 1,70,65),10
getpower=ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
givepower = 10,10
animtype=hard
guardflag=M
hitflag=MAF
priority=5,Hit
pausetime=5,3
sparkno=S705
guard.sparkno =S704
sparkxy=-45,-69
hitsound=S1,8
guardsound=S1,3
ground.type=low
ground.slidetime=1
ground.hittime=15
ground.velocity=-3,-6
guard.hittime = 27
guard.ctrltime = 27
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-4,-4
air.hittime=12
air.juggle = 15
fall = 1
fall.recover = 0

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [14,15]
trigger1 = numhelper(1104) = 0
helpertype = normal
stateno = 1104
name = "score"
id      = 1104
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [23,37]
trigger1 = numhelper(1154) = 0
helpertype = normal
stateno = 1154
name = "score"
id      = 1154
postype = left
pos = 0, 500
ignorehitpause = 1

;palfx to cancel moves like kof 2002
[State 1401]
type = PalFX
triggerall = Time = 0
trigger1 = prevstateno = 290 |prevstateno = 1153
add = 255,255,255
time = 1
ignorehitpause = 1


[State 1153]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;--------------------------------点数加算
[Statedef 1154]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 45
;----------------------------;疾風拳
[Statedef 1200]
type=A
movetype=A
physics=A
juggle=0
ctrl=0
poweradd=ifelse(var(31) = 0,100,0)
sprpriority=2
anim=1200

[State 198]
type = changeanim
trigger1 = var(2) = 4
trigger1 = Time = 0
value = 1250


[State 1200];速度を与える
type = VelSet
trigger1 = Animelem = 2
x = -3
y = -7

[State 1200];速度を与える
type = VelSet
trigger1 = time = 9
x = -2
y = -7

[State 3104]
type = PosFreeze
trigger1 = time < 9
x = 1
y = 1

[State 1200, セリフ]
type = PlaySnd
trigger1 = time = 0
value = 5, 7
volume = 255

[State 1200, セリフ]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4,45

[State 1060]
type = projectile
triggerall = NumProjID(1211) = 0
trigger1 = AnimElem = 3
projanim = 1201
projremovetime = 11
projhitanim = 1201
projremanim = 1201
projpriority = 5
ProjID = 1211
remvelocity = 0, 0
offset = 10,-100
projhits = 1
velocity = 7, 4
attr = SA,SP
animtype = hard
damage = 70,10
hitflag = MAF
guardflag = H
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 20,-70
hitsound = S4,8
guardsound = S1,3
ground.type = high
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -4,0
air.velocity = -4.4,-5
air.juggle = 15

[State 1401]
type = PalFX
triggerall = Time = 0
trigger1 = prevstateno = 1403|prevstateno = 1453|prevstateno = 1200
add = 255,255,255
time = 1
ignorehitpause = 1


;--------------------------ダブル疾風拳
[Statedef 1250]
type=A
movetype=A
physics=A
juggle=9
velset=0,0
ctrl=0
poweradd=50
sprpriority=2
anim=1250

[State 1250];速度を与える
type = VelSet
trigger1 = Animelem = 2
x = -2
y = -2.5

[State 1250];速度を与える
type = VelSet
trigger1 = Animelem = 4
x = -4
y = -5

[State 1250, セリフ]
type = PlaySnd
trigger1 = time = 0
value = 2,1

[State 1250]
type = projectile
trigger1 = AnimElem = 2
projanim = 1201
projremovetime = 17
projhitanim = 1201
projremanim = 1201
projpriority = 5
remvelocity = 0, 0
offset = 10,-70
projhits = 1
velocity = 5, 5
attr = S,NP
animtype = hard
damage = 40,10
hitflag = M
guardflag = H
pausetime = 3,3
sparkno = 750
sparkky = 20,-70
hitsound = S4,8
guardsound = S6,26
ground.type = high
ground.slidetime = 5
ground.hittime = 10
ground.velocity = -3,0
air.velocity = -4.4,-5

[State 1250]
type = projectile
trigger1 = AnimElem = 4
projanim = 1201
projremovetime = 17
projhitanim = 1201
projremanim = 1201
projpriority = 5
remvelocity = 0, 0
offset = 10,-70
projhits = 1
velocity = 5, 5
attr = S,NP
animtype = hard
damage = 40,10
hitflag = M
guardflag = H
pausetime = 3,3
sparkno = 750
sparkky = 20,-70
hitsound = S4,8
guardsound = S6,26
ground.type = high
ground.slidetime = 5
ground.hittime = 10
ground.velocity = -3,0
air.velocity = -4.4,-5

;-------------------------上段当身
[Statedef 1300]
type = S
movetype = A
physics = S
poweradd = ifelse(var(31) = 0,100,0)
anim = 1300
ctrl = 0

[State 1300, セリフ]
type = PlaySnd
trigger1 = time = 0
value = 3,11

[State 1500]
type = ReversalDef
trigger1 = AnimElem = 1
attr = S, NT
reversal.attr =  A, NA, SA, HA 
;sparkxy = -10,-50
sparkno = S702;-1
pausetime = 15,15
hitsound = S1,10
numhits = 0
p1stateno = 1301
p2stateno = 1302

[State 1300]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;---------------------上段当身成功
[Statedef 1301]
type = S
movetype = A
physics = N
poweradd = ifelse(var(31) = 0,100,0)
anim = 1301
velset=0,0
ctrl = 0

[State 1300, セリフ]
type = PlaySnd
trigger1 = time = 7
value = 4,33         ;21

[State 1300, セリフ]
type = PlaySnd
trigger1 = time = 9
value = 4,22

[State 1300, セリフ]
type = PlaySnd
trigger1 = AnimElem = 9
value = 4,27

[State 280]
type = PosAdd
trigger1 = AnimElem = 4
trigger1 = BackEdgeBodyDist < 30
x = 30

[State 1301];スロー
type = Pause
trigger1 = time = [12,25]
time = 1
movetime = 0

[State 1301]
type = TargetBind
trigger1 = AnimElem = 2
pos = 32, -98

[State 1301]
type = TargetBind
trigger1 = AnimElem = 4
pos = 33, -98

[State 1301]
type = TargetBind
trigger1 = AnimElem = 5
pos = 30, -113

[State 1301]
type = TargetBind
trigger1 = AnimElem = 6
pos = 14, -114

[State 1301]
type = TargetBind
trigger1 = AnimElem = 7
pos = -21, -126

[State 1301]
type = TargetBind
trigger1 = AnimElem = 8
pos = -66, -93

[State 1301]
type = TargetBind
trigger1 = AnimElem = 9
pos = -60, 0

[State 1301]
type = Turn
trigger1 = AnimTime=0

[State 3608]
type = EnvShake
Trigger1 = animelem = 9
time = 16
ampl = -10
freq = 120

[State 1400]
type = Explod
trigger1 = AnimElem = 9
anim = 752
pos = -95,0
postype = p1
sprpriority = -1
bindtime = -1

[State 1301]
type = TargetLifeAdd
trigger1 = AnimElem = 10
value = -150

[State 3000, 1]
type = VarAdd
trigger1 = AnimElem = 10
var(21) = 700

[State 1301]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;-----------------------当身くらい側
[Statedef 1302]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State 1302]
type = ChangeAnim2
trigger1 = time = 0
value = 1302

[State 1303]
type = changeState
trigger1 = AnimTime=0
value = 1303
;-----------------------当身くらい側2
[Statedef 1303]
type = A
movetype = H
physics = N
ctrl = 0
velset = 3,-5

[State 1302]
type = ChangeAnim2
trigger1 = time = 0
value = 1303

[State 1403]
type = VelAdd
trigger1 = Time > 3
y = .32

[State 1302]
type = SelfState
trigger1 = Time > 3
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
;-------------------------中段当身
[Statedef 1310]
type = S
movetype = A
physics = S
poweradd = ifelse(var(31) = 0,100,0)
anim = 1310
ctrl = 0
velset = 0,0

[State 1310, セリフ]
type = PlaySnd
trigger1 = time = 0
value = 3,11

[State 1310]
type = ReversalDef
trigger1 = AnimElem = 1
attr = S, NT
reversal.attr = SC, NA, SA, HA
;sparkxy = 0,-30
sparkno = S702;-1
pausetime = 15,15
hitsound = S1,10 
numhits = 0
p1stateno = 1311
p2stateno = 1312

[State 1310]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;----------------------成功
[Statedef 1311]
type = S
movetype = A
physics = S
poweradd = ifelse(var(31) = 0,50,0)
anim = 1311
ctrl = 0
velset = 0,0

[State 280]
type = PosAdd
trigger1 = AnimElem = 4
trigger1 = BackEdgeBodyDist < 30
x = 30

[State 1300, セリフ]
type = PlaySnd
trigger1 = time = 8
value = 4, 30

[State 1300, セリフ];aqui
type = PlaySnd
trigger1 = time = 8
value = 4,22

[State 1300, セリフ]
type = PlaySnd
trigger1 = AnimElem = 7
value = 4,27

[State 1301]
type = TargetBind
trigger1 = AnimElem = 2
pos = 35, 0

[State 1301]
type = TargetBind
trigger1 = AnimElem = 3
pos = 23, -60

[State 1301]
type = TargetBind
trigger1 = AnimElem = 4
pos = -26, -90

[State 1301]
type = TargetBind
trigger1 = AnimElem = 5
pos = -50, 0

[State 1301]
type = Turn
trigger1 = AnimTime=0

[State 1301]
type = TargetLifeAdd
trigger1 = time = 30
value = -120

[State 3608]
type = EnvShake
Trigger1 = animelem = 5
time = 16
ampl = -10
freq = 120

[State 1400]
type = Explod
trigger1 = AnimElem = 5
anim = 752
pos = -95,0
postype = p1
sprpriority = -1
bindtime = -1

[State 3000, 1]
type = VarAdd
trigger1 = time = 30
var(21) = 700


[State 1301]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;-----------------------当身くらい側
[Statedef 1312]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State 1302]
type = ChangeAnim2
trigger1 = time = 0
value = 1312


[State 1301]
type=ChangeState 
trigger1=AnimTime=0
value=1303

;-------------------------下段当身
[Statedef 1320]
type = S
movetype = A
physics = S
poweradd = ifelse(var(31) = 0,100,0)
anim = 1320
ctrl = 0
velset = 0,0

[State 1320, セリフ]
type = PlaySnd
trigger1 = time = 0
value = 3,11

[State 1320]
type = ReversalDef
trigger1 = AnimElem = 1
attr = S, NT
reversal.attr = SC, NA, SA, HA
;sparkxy = -10,-30
sparkno = S702;-1
pausetime = 0;5
hitsound = S1,10
numhits = 0
p1stateno = 1321
fall = 1
fall.recover = 0

[State 1320]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;-----------------------成功
[Statedef 1321]
type = S
movetype = A
physics = S
poweradd = ifelse(var(31) = 0,100,0)
anim = 1321
ctrl = 0

[State 1321]
type = Pause
trigger1 = time = 0
time = 8
movetime = 1

[State 1321];aqui
type = PlaySnd
trigger1 = time = 10
value = 4, 32

[State 1321]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1321]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NA
animtype  = Medium
damage    = 120
getpower = ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
guardflag = MA
pausetime = 8,12
sparkno = S705
guard.sparkno = S704
sparkxy = -10,-70
hitsound   = S1,7
guardsound = S1,3
guard.sparkno =S700
ground.type = High
ground.slidetime = 3
ground.hittime  = 25
ground.velocity = -4,-7
air.velocity = -4,-5
fall = 1

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = time = [18,26]
trigger1 = numhelper(281) = 0
helpertype = normal
stateno = 281
name = "score"
id      = 281
postype = left
pos = 0, 500
ignorehitpause = 1

[State 1321]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;------------------------飛翔日輪斬
[Statedef 1400]
type = S
movetype = A
physics = S
poweradd = ifelse(var(31) = 0,100,0)
anim = 1400
juggle = 0
ctrl = 0

[State 1400, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 3,8

[State 510]
type = PlaySnd
trigger1 = animelem = 5
value = 4,44

[State 1400]
type = VelSet
trigger1 = time = 0
x = 3

[State 1400]
type = HitDef
trigger1 = AnimElem = 5
attr = A, SA
animtype  = Medium
damage    = ifelse(var(2) = 1,40,30),10
getpower = ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
guardflag = M
pausetime = 8,12
sparkno = S705
guard.sparkno = S704
sparkxy = -10,-70
hitsound   = S1,7
guardsound = S1,3
guard.sparkno =S701
ground.type = High
ground.slidetime = 3
ground.hittime  = 25
ground.velocity = -4,-7
air.velocity = -4,-5
fall = 1
fall.recover = 0

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = numhelper(221) = 0
helpertype = normal
stateno = 221
name = "score"
id      = 221
postype = left
pos = 0, 500
ignorehitpause = 1

[State 1000, 1]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1050
trigger2 = prevstateno = 1010|prevstateno = 1060
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1401]
type = PalFX
triggerall = Time = 0
trigger1 = prevstateno = 1103 |prevstateno = 1153|prevstateno = 1400
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1050
trigger2 = prevstateno = 1010|prevstateno = 1060
var(31) = -128

[State 1400, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 1402
ctrl = 1
;------------------飛翔日輪斬:上昇
[Statedef 1402]
type = A
movetype = I
physics = N
velset = 2.5,-9
anim = 1401
ctrl = 0

[State 1400, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 6,13

[State 1400]
type = Gravity
trigger1 = 1

[State 1401]
type = ChangeState
trigger1 = time = 18
value = 1403
;-----------------------飛翔日輪斬:下降
[Statedef 1403]
type = A
movetype = A
physics = N
anim = 1403
ctrl = 0
juggle = 0

[State 1400, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 6,13

[State 1400, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 4,23

[State 1121,VelSet]
type = VelSet
trigger1 = 1
x = 3

[State 1400]
type = Gravity
trigger1 = 1

[State 1400]
type = Explod
trigger1 = AnimElem = 2
anim = 1402
pos = 15,-75
postype = p1
sprpriority = 2
bindtime = -1

[State 1400]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
animtype  = Medium
damage    = ifelse(var(2) = 1,60,50)
getpower = ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
guardflag = MA
pausetime = 10,12
sparkno = S705
guard.sparkno = S704
sparkxy = -10,-70
;hitsound   = S4,23
guardsound = S1,3
guard.sparkno =S701
ground.type = High
ground.slidetime = 3
ground.hittime  = 25
ground.velocity = -4,-2
guard.hittime = 20
guard.ctrltime = 20
air.velocity = -5,-5
air.juggle = 0
fall = 1
fall.recover = 0


[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = time = [8,14]
trigger1 = movehit
trigger1 = numhelper(221) = 0
helpertype = normal
stateno = 221
name = "score"
id      = 221
postype = left
pos = 0, 500
ignorehitpause = 1

[State 1401]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 10
value = 1404
;---------------------着地state
[Statedef 1404]
type = S
movetype = I
physics = S
anim = 47
ctrl = 0
velset = 0,0
sprpriority = 2
juggle = ifelse(var(31) = 0,15,0)

[State -3, Landing Sound]
type = PlaySnd
trigger1 = Time = 0
value = 1, 2

[State 1402];地面に立たせる
type = PosSet
trigger1 = time = 0
y = 0

[State 1402];立ちstateに戻る
type = Changestate
trigger1 = time = 6
value = 0
ctrl = 1
;--------------------------飛翔日輪斬強
[Statedef 1450]
type = S
movetype = A
physics = S
poweradd = ifelse(var(31) = 0,100,0)
anim = 1450
juggle = 0
ctrl = 0

[State 1450, セリフ]
type = PlaySnd
trigger1 = animelem = 4
value = 3,8

[State 1450, セリフ]
type = PlaySnd
trigger1 = animelem = 9
value = 4,44

[State 1450]
type = VelSet
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
x = 7

[State 1100, 2]
type = ReversalDef
triggerall = var(2) = 1
trigger1 = AnimElem = 7
attr = S, SA
reversal.attr = SCA, NA, SA, HA, NP, SP, HP
numhits = 0
pausetime = 12,15
sparkno = -1
sparkxy = 50,-40
hitsound = S1,4

[State 1450]
type = HitDef
trigger1 = AnimElem = 9
attr = A, SA
animtype  = Medium
damage    = ifelse(var(2) = 1,80,50),10
getpower = ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
guardflag = MA
pausetime = 8,12
sparkno = S705
guard.sparkno = S704
sparkxy = -10,-70
hitsound   = S1,7
guardsound = S1,3
guard.sparkno =S701
ground.type = High
ground.slidetime = 3
ground.hittime  = 25
ground.velocity = -4,-7
air.velocity = -4,-9.5
fall = 1
fall.recover = 0

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = movehit
trigger1 = numhelper(231) = 0
helpertype = normal
stateno = 231
name = "score"
id      = 231
postype = left
pos = 0, 500
ignorehitpause = 1

[State 1000, 1]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1050
trigger2 = prevstateno = 1010|prevstateno = 1060
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1401]
type = PalFX
triggerall = Time = 0
trigger1 = prevstateno = 1103 |prevstateno = 1153|prevstateno = 1450
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1050
trigger2 = prevstateno = 1010|prevstateno = 1060
var(31) = -128

[State 1450, 終了]
type = ChangeState
trigger1 = AnimTime = 0
value = 1452
ctrl = 1
;-------------------------飛翔日輪斬:上昇
[Statedef 1452]
type = A
movetype = I
physics = N
velset = 3.5,-10
anim = 1452
ctrl = 0

[State 1450, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 6,13

[State 1452]
type = Gravity
trigger1 = 1

[State 1452]
type = ChangeState
trigger1 = time = 20
value = 1453
;------------------------強飛翔日輪斬:下降
[Statedef 1453]
type = A
movetype = A
physics = N
velset = 3,0.1
anim = 1403
ctrl = 0
juggle = 0

[State 1453, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 6,13

[State 1400, セリフ]
type = PlaySnd
trigger1 = animelem = 2
value = 4,23

[State 1453]
type = Gravity
trigger1 = 1

[State 1400]
type = Explod
trigger1 = AnimElem = 2
anim = 1402
pos = 15,-75
postype = p1
sprpriority = 2
bindtime = -1

[State 1453]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
animtype  = Medium
damage    = ifelse(var(2) = 1,80,70),10
getpower = ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
guardflag = MA
pausetime = 8,12
sparkno = S705
guard.sparkno = S704
sparkxy = -10,-70
;hitsound   = S4,23
guardsound = S1,3
guard.sparkno =S701
ground.type = High
ground.slidetime = 3
ground.hittime  = 25
ground.velocity = -4,-2
guard.hittime = 20
guard.ctrltime = 20
air.velocity = -5,-5
fall = 1
fall.recover = 0

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = time = [8,16]
trigger1 = movehit
trigger1 = numhelper(291) = 0
helpertype = normal
stateno = 291
name = "score"
id      = 291
postype = left
pos = 0, 500
ignorehitpause = 1

[State 1453]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 10
value = 1404
;-------------------------雷鳴豪破
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
poweradd = 70
anim = 1500
sprpriority = -1

[State 1500]
type = HitDef
trigger1 = animelem = 2
attr = C, NT          ;Attributes: Standing, Normal Throw
hitflag = FD          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
p1facing = 1 ;Turn if holding forwards
p2facing = 1          ;Force p2 to face KFM
p1stateno = 1502      ;On success
p2stateno = 1503      ;If hit,
guard.dist = 0        ;This prevents p2 from going into a guard state if close

[State 1500]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------つかみ成功
[Statedef 1502]
type    = S
movetype= A
physics = N
anim = 1501
poweradd = 20
sprpriority = -1

[State 1502]
type = PosAdd
trigger1 = AnimElem = 8
trigger1 = BackEdgeBodyDist < 30
x = 30

[State 1502]
type = PlaySnd
trigger1 = time = 0
value = 4, 1

[State 1502]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 13        

[State 1502]
type = PlaySnd
trigger1 = AnimElem = 4, = 20
value = 5, 10 

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 10
value = 4, 26

[State 1502]
type = PlaySnd
trigger1 = AnimElem = 15
value = 3, 11          

[State 1502]
type = Explod
trigger1 = AnimElem = 1
anim = 702
pos = 24,-4
postype = p1
sprpriority = 3
bindtime = -1

[State 3000, 1]
type = VarAdd
trigger1 = AnimElem = 11
var(21) = 700

[State 1502]
type = Explod
trigger1 = AnimElem = 1
anim = 1606
pos = 44,-100
postype = p1
sprpriority = 2
bindtime = -1
ontop = 1

[State 1502]
type = Explod
trigger1 = AnimElem = 11
anim = 1502
pos = -44,-10
postype = p1
sprpriority = 2
bindtime = -1

[State 1502]
type = EnvShake
Trigger1 = AnimElem = 11
time = 18
ampl = -10
freq = 105

[State 1502]
type = TargetBind
trigger1 = AnimElem = 1
pos = 35, -8

[State 1502]
type = TargetBind
trigger1 = AnimElem = 3
pos = 30, -75

[State 1502]
type = TargetBind
trigger1 = AnimElem = 4
pos = 36, -122

[State 1502]
type = TargetBind
trigger1 = AnimElem = 6
pos = 22, -122

[State 1502]
type = TargetBind
trigger1 = AnimElem = 7
pos = 11, -122

[State 1502]
type = TargetBind
trigger1 = AnimElem = 8
pos = -3, -122

[State 1502]
type = TargetBind
trigger1 = AnimElem = 9
pos = -34, -112

[State 1502]
type = TargetBind
trigger1 = AnimElem = 10
pos = -62, -82

[State 1502]
type = TargetLifeAdd
trigger1 = AnimElem = 11
value = -30

[State 1502]
type = Turn
trigger1 = AnimTime = 0


[State 1502]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------やられ側
[Statedef 1503]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 1503]
type = VelSet
trigger1 = time = 73
x = 4
y = 20

[State 1503]
type = PalFX
trigger1 = time > 70 && Time % 2
time = 19
add = 0,20,75
color = 0
invertall = 1

[State 1503]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100


[State 1503]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1503
;-----------------------------------
[Statedef 1504]
type    = A
movetype= H
physics = N
velset = -6,-1

[State 1604]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1604

[State 5]
type = gravity
trigger1 = 1

[State 1604] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;---------------------------RB2烈風拳（飛び道具）
[Statedef 1600]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
poweradd=ifelse(var(31) = 0,100,0)
sprpriority=2
anim=1600

[State 1000, 1]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1050
trigger2 = prevstateno = 1010|prevstateno = 1060
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1600]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 5
volume = 255

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 4
value = 4, 25

[State 1600]
type = projectile
trigger1 = AnimElem = 6
projanim = 1001
projremovetime = -1
projhitanim = 1002
projID = 1600
projpriority = 1
offset = 10,0
velocity = 6, 0
attr = S,SP
animtype = hard
damage = 70,10
guardflag = MA
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 20,-70
hitsound = S4,8
guardsound = S1,3
ground.type = high
ground.slidetime = 8
ground.hittime = 27
ground.velocity = -7,0
guard.hittime = 25
guard.ctrltime = 25
air.velocity = -4.4,-5
air.juggle = 15

[State 1005];helper
type = Helper
trigger1 = AnimElem = 5
helpertype = normal
stateno = 1005
name = "tobi"
id      = 1005
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1

[State 1600]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------RB2ダブル烈風拳（飛び道具）
[Statedef 1610]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
poweradd=ifelse(var(31) = 0,100,0)
sprpriority=2
anim=1610

[State 1000, 1]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1050
trigger2 = prevstateno = 1010|prevstateno = 1060
add = 255,255,255
time = 1
ignorehitpause = 1


[State 1610]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2, 2

[State 1610]
type = PlaySnd
trigger1 = AnimElem = 12
value = 2, 11

[State 1000]
type = PlaySnd
trigger1 = AnimElem = 11
value = 4, 25

[State 1610];初弾
type = projectile
trigger1 = AnimElem = 5
projanim = 1054
projremovetime = 24
projhitanim = 1054
projremanim = 1054
projID = 1610
projpriority = 5
offset = 35,0
projhits = 1
velocity = 0, 0
attr = S,SP
animtype = hard
damage = 20,10
hitflag = MAF
guardflag = M
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 20,-70
hitsound = S4,8
guardsound = S1,3
ground.type = high
ground.slidetime = 20
ground.hittime = 26
ground.velocity = -7.5,0
air.velocity = -4.4,-5
air.juggle = 8

[State 1610];2段目
type = projectile
;triggerall = p2bodydist X > 50
trigger1 = AnimElem = 14
projanim = 1052
projremovetime = -1
projhitanim = 1055
projID = 1610
projpriority = 3
offset = 30,0
velocity = 7, 0
attr = S,SP
animtype = hard
damage = 75,10
guardflag = MA
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = -20,-70
hitsound = S4,8
guardsound = S1,3
ground.type = high
ground.slidetime = 9
ground.hittime = 20
ground.velocity = -5,0
guard.hittime = 25
guard.ctrltime = 25
air.velocity = -4.4,-5
air.juggle = 7

[State 1005];helper
type = Helper
trigger1 = time = 0
helpertype = normal
stateno = 1006
name = "tobi"
id      = 1005
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1

[State 1005];helper
type = Helper
trigger1 = AnimElem = 12
helpertype = normal
stateno = 1007
name = "tobi"
id      = 1005
postype = p1
pos = 10, 0
keyctrl = 0
ownpal = 1

[State 1610]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------------
[Statedef 1620]
type=S
movetype=A
physics=S
juggle=0
velset=0,0
ctrl=0
poweradd=ifelse(var(31) = 0,100,0)
sprpriority=2
anim=1004

[State 0, 1]
type = ChangeAnim
trigger1 = var(2) = 2
trigger1 = Time = 0
value = 1007

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1060
var(31) = -128

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1010
var(31) = -256

[State 1010]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4, 24

[State 1010]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 5
volume = 255

[State 1000];02浮かせ
type = projectile
;trigger1 = p2bodydist X <= 40
trigger1 = animelem = 5 
projanim = 1003
projremovetime = 17
projhitanim = 1003
projremanim = 1003
projpriority = 5
projID = 1000
offset = 10,0
projhits = 1
velocity = 0, 0
attr = S,SP
animtype = hard
damage = 70,10
hitflag = MA
guardflag = M
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 0,-170
hitsound = S4,9
guardsound = S1,3
ground.type = high
ground.slidetime = 5
ground.hittime = 10
ground.velocity = -1.5,-9.5
air.velocity = -3.4,-9.5
fall = 1
fall.recover = 0

[State 1401]
type = PalFX
triggerall = Time = 0
trigger1 = prevstateno = 1103 |prevstateno = 1153|prevstateno = 1620
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1401]
type = PalFX
triggerall = Time = 0
trigger1 = prevstateno = 290 | prevstateno = 1620
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1000]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------------
[Statedef 1630]
type=S
movetype=A
physics=S
juggle=0
velset=0,0
ctrl=0
poweradd=ifelse(var(31) = 0,100,0)
sprpriority=2
anim=1050

[State 0, 1]
type = ChangeAnim
trigger1 = var(2) = 2
trigger1 = Time = 0
value = 1057

[State 1000, 1]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1060
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1060|prevstateno = 1000
var(31) = -128

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1060
var(31) = -256

[State 280]
type = velset
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
x = 4

[State 1010]
type = PlaySnd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 13
value = 4, 24

[State 1060]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2, 2

[State 1060]
type = PlaySnd
trigger1 = AnimElem = 12
value = 2, 11

[State 1060]
type = projectile
;trigger1 = p2bodydist X <= 40
trigger1 = animelem = 5
projanim = 1003
projremovetime = 17
projhitanim = 1003
projremanim = 1003
projID = 1060
projpriority = 5
offset = 10,0
projhits = 1
velocity = 0, 0
attr = S,SP
animtype = hard
damage = ifelse(var(2) = 1,80,50),10
hitflag = MA
guardflag = M
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 20,-70
hitsound = S4,9
guardsound = S1,3
ground.type = high
ground.slidetime = 5
ground.hittime = 25
ground.velocity = -1.5,0
air.velocity = -4.4,-5
air.juggle = 15

[State 1060]
type = projectile
;triggerall = p2bodydist X <= 50
trigger1 = AnimElem = 13
projanim = 1053
projremovetime = 16
projhitanim = 1053
projremanim = 1053
projID = 1010
projpriority = 5
offset = 10,0
projhits = 1
velocity = 0, 0
attr = S,SP
animtype = hard
damage = 70,10
hitflag = MA
guardflag = M
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 20,-70
hitsound = S4,9
guardsound = S1,3
ground.type = high
ground.slidetime = 5
ground.hittime = 27
guard.hittime = 27
guard.ctrltime = 27
ground.velocity = -3,-9.5
air.velocity = -4.4,-9.5
air.juggle = 0
fall = 1
fall.recover = 0

[State 1401]
type = PalFX
triggerall = Time = 0
trigger1 = prevstateno = 1103 |prevstateno = 1153|prevstateno = 1630
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1401]
type = PalFX
triggerall = Time = 0
trigger1 = prevstateno = 290 | prevstateno = 1630
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1060]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------RB邪影拳弱
[Statedef 1700]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
poweradd=ifelse(var(31) = 0,100,0)
sprpriority=2
anim=1100

[State 1401]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1703|prevstateno = 1751|prevstateno = 1153
trigger2 = prevstateno = 1753|prevstateno = 1600|prevstateno = 1610
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1703|prevstateno = 1751|prevstateno = 1153
trigger2 = prevstateno = 1753|prevstateno = 1600|prevstateno = 1610
var(31) = -128

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1703
var(31) = -128

[State 1700]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2,7

[State 1700]
type=ChangeState 
trigger1=AnimTime=0
value=1701
ctrl=1

;------------------;突進
[Statedef 1701]
type = S
movetype = A
physics = S
poweradd = 5
anim = 1101
ctrl = 0

[State 1701]
type = AfterImage
trigger1 = time = 0
time = 15
length = 6
trans = add1
palcolor = 250
palinvertall = 0
paladd = 10,10,25
timegap = 2
framegap = 2

[State 1100]
type = PlaySnd
trigger1 = var(2) = 3
trigger1 = time = 1
value = 4,42

[State 1701];速度を与える
type = VelSet
trigger1 = 1
x = 5

[State 1701]
type=HitDef
trigger1=animelem=1
trigger2=animelem=2
trigger3=animelem=3
attr=S,SA
damage=60,10
getpower = ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=8,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S704
sparkxy=0,-55
hitsound=S1,10
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=25
ground.velocity=-2,0
guard.hittime = 40
guard.ctrltime = 40
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = numhelper(221) = 0
helpertype = normal
stateno = 221
name = "score"
id      = 221
postype = left
pos = 0, 500
ignorehitpause = 1

[State 1701]
type = ChangeState
trigger1 = var(2) = 3
trigger1 = moveguarded
value = 1702
ignorehitpause = 1

[State 1701]
type = ChangeState
trigger1 = var(2) = 3
trigger1 = movehit
value = 1703
ignorehitpause = 1

[State 1701]
type = ChangeState
trigger1 = var(2) != 3
trigger1 = movecontact
value = 1703
ctrl = 1

[State 1701]
type = ChangeState
trigger1 = Time = 18
value = 1102
ctrl = 1
;--------------------------邪影拳ヒットせず
[Statedef 1702]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
sprpriority=2
anim=1102

[State 1101,7]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;--------------------------邪影拳ヒット
[Statedef 1703]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
sprpriority=2
anim=1701

[State 1703];速度を与える
type = VelSet
trigger1 = 1
x = 1.2

[State 1703]
type=HitDef
trigger1=time=0
attr=S,SA
damage=40,10
getpower=ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
givepower = 10,10
animtype=hard
guardflag=M
hitflag=MAF
priority=5,Hit
pausetime=5,3
sparkno=S705
guard.sparkno =S704
sparkxy=-30,-75
hitsound=S1,8
guardsound=S1,3
ground.type=low
ground.slidetime=1
ground.hittime=15
ground.velocity=-5,-3
guard.hittime = 27
guard.ctrltime = 27
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-4,-4
air.hittime=12
fall = 1
fall.recover = 0

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = time = [9,15]
trigger1 = movehit
trigger1 = numhelper(231) = 0
helpertype = normal
stateno = 231
name = "score"
id      = 231
postype = left
pos = 0, 500
ignorehitpause = 1

[State 1703]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;------------------------RB邪影拳強
[Statedef 1750]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
poweradd=ifelse(var(31) = 0,100,0)
sprpriority=2
anim=1700

[State 1401]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1701|prevstateno = 1751
trigger2 = prevstateno = 1753|prevstateno = 1600|prevstateno = 1610
add = 255,255,255
time = 1
ignorehitpause = 1


[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1701|prevstateno = 1751
trigger2 = prevstateno = 1753|prevstateno = 1600|prevstateno = 1610
var(31) = -128

[State 1750]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2,7

[State 1750]
type=ChangeState 
trigger1=AnimTime=0
value=1751
ctrl=1

;-------------------;突進
[Statedef 1751]
type = S
movetype = A
physics = S
poweradd = 5
anim = 1101
ctrl = 0

[State 1751]
type = AfterImage
trigger1 = time = 0
time = 15
length = 6
trans = add1
palcolor = 250
palinvertall = 0
paladd = 10,10,25
timegap = 2
framegap = 2

[State 1751];速度を与える
type = VelSet
trigger1 = 1
x = 8

[State 1751]
type=HitDef
trigger1=animelem=1
trigger2=animelem=2
trigger3=animelem=3
attr=S,SA
damage=ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
getpower=60,30
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=8,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S704
sparkxy=0,-85
hitsound=S1,10
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=20
ground.velocity=-2,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3401]
type = Helper
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = numhelper(221) = 0
helpertype = normal
stateno = 221
name = "score"
id      = 221
postype = left
pos = 0, 500
ignorehitpause = 1

[State 1751]
type = ChangeState
trigger1 = movecontact = 1
value = 1753
ctrl = 1

[State 1751]
type = ChangeState
trigger1 = Time = 18
value = 1102
ctrl = 1
;----------------------邪影拳ヒットせず
[Statedef 1752]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
sprpriority=2
anim=1102

[State 1101,7]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;----------------------------邪影拳ヒット
[Statedef 1753]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
sprpriority=2
anim=1750

[State 1753];速度を与える
type = VelSet
trigger1 = AnimElem = 4, <= 1
x = 3.2

[State 1753]
type=HitDef
trigger1=time=0
attr=S,SA
damage=50,10
getpower=ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
givepower = 10,10
animtype=hard
guardflag=M
hitflag=MAF
priority=5,Hit
pausetime=5,3
sparkno=S705
guard.sparkno =S704
sparkxy=-30,-55
hitsound=S1,8
guardsound=S1,3
ground.type=low
ground.slidetime=1
ground.hittime=25
ground.velocity=-5
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-4,-4
air.hittime=12

[State 1753]
type=HitDef
trigger1=animelem=10
attr=S,SA
damage=50,10
getpower=ifelse(var(31) = 0,60,0),ifelse(var(31) = 0,30,0)
givepower = 10,10
animtype=diagup
guardflag=M
hitflag=MAF
priority=5,Hit
pausetime=5,3
sparkno=S705
guard.sparkno =S704
sparkxy = -30,-95
hitsound=S1,8
guardsound=S1,3
ground.type=low
ground.slidetime=1
ground.hittime=15
ground.velocity=-5,-6
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-4,-4
air.hittime=12
fall = 1

[State 1753]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;-----------------------------真空投げ
[Statedef 1800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1800
sprpriority = -1

[State 1000, 1]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1050
trigger2 = prevstateno = 1010|prevstateno = 1060
add = 255,255,255
time = 1
ignorehitpause = 1

[State 1100, 1]
type = VarAdd
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1000|prevstateno = 1050
trigger2 = prevstateno = 1010|prevstateno = 1060
var(31) = -128

[State 1800, 1]
type = HitDef
trigger1=enemy,stateno!=[120,155]
Trigger1 = animelem=1
attr = S, ST          ;Attributes: Standing, Normal Throw
hitflag = M          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
p1facing = 1 ;Turn if holding forwards
p2facing = 1          ;Force p2 to face KFM
p1stateno = 1801       ;On success, KFM changes to state 810
p2stateno = 1802      ;If hit, p2 changes to state 820 in KFM's cns
guard.dist = 0        ;This prevents p2 from going into a guard state if close

[State 1800, 2]
type = ChangeState
Trigger1 = AnimTime=0
value = 0
ctrl = 1
;--------------------------------成功
[Statedef 1801]
type    = S
movetype= A
physics = N
anim = 1801
poweradd = 0
sprpriority = 3

[State 1801]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 1

[State -2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 4, 22

[State 1801]
type = PlaySnd
trigger1 = time = 80   ;AnimElem = 11
value = 3, 11          ;4

[State 3000, 1]
type = VarAdd
trigger1 = AnimElem = 13
var(21) = 700

[State 1801]
type = Explod
trigger1 = AnimElem = 1
anim = 702
pos = 44,-80
postype = p1
sprpriority = 3
bindtime = -1

[State 1801]
type = PosAdd
trigger1 = AnimElem = 1
trigger1 = BackEdgeBodyDist < 30
x = 30

[State 1801]
type = TargetBind
trigger1 = AnimElem = 1
pos = 30, 0

[State 1801]
type = TargetBind
trigger1 = AnimElem = 2
pos = 36, -16

[State 1801]
type = TargetBind
trigger1 = AnimElem = 3
pos = 32, -106

[State 1801]
type = TargetBind
trigger1 = AnimElem = 4
pos = 12, -112

[State 1801]
type = TargetBind
trigger1 = AnimElem = 5
pos = -12, -122

[State 1801]
type = TargetState
trigger1 = AnimElem = 5
value = 1803

[State 1801]
type = Turn
trigger1 = AnimTime = 0

[State 1801]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------投げられ側
[Statedef 1802]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1802]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1802
;------------------------------------
[Statedef 1803]
type    = S
movetype= H
physics = N
velset = 0,0

[State 1803]
type = VelSet
trigger1 = time = 0
x = 4
y = -4.9

[State 1803]
type = veladd
trigger1 = Time >= 2
y = 0.32

[State 1502]
type = EnvShake
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
time = 13
ampl = -4
freq = 89

[State 1803]
type = LifeAdd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = -120

[State 1803]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
;-----------------------------------98 92 MAX発動
[Statedef 2000]
type = S
movetype = I
physics = S
anim = 2000
velset = 0,0
ctrl = 0

[STate 3000]
type = Explod
trigger1 = time = 1
anim = 754
pos = 28,-60
sprpriority = 2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[State 2000]
type = SprPriority
trigger1 = time = 0
value = 2

[State 2000]
type = VarSet
trigger1 = animelem = 1
v = 31
value = 1000

[State 2000]
type = PlaySnd
trigger1 = animelem = 1
value = 4,15

[State 2000]
type = EnvShake
trigger1 = animelem = 1
time = 15
freq = 150
ampl = 5

[State 2000]
type = AttackMulSet
trigger1 = var(3) = 3
trigger1 = animelem = 1
value = 0.7

[State 2000]
type = AttackMulSet
trigger1 = var(3) = 1
trigger1 = animelem = 1
value = 1.25

[State 2000]
type = PowerAdd
trigger1 = animelem = 1
value = -1000

[State 2000];外枠
type = Explod
trigger1 = var(32) = 1
trigger1 = animelem = 1
anim = 712
id = 712
sprpriority = 8
ontop = 1
ownpal = 1
postype = left
pos = 26,70+var(6)
removetime = -1
ignorehitpause = 1
bindtime = -1

[State 2000]
type = Explod
trigger1 = var(32) = 1
trigger1 = animelem = 1
anim = 714
id = 714
ontop = 1
ownpal = 1
postype = left
pos = 26,70+var(6)
removetime = -1
ignorehitpause = 1
bindtime = -1
facing = 1
supermovetime = -1

[State 2000];外枠
type = Explod
trigger1 = var(32) = 2
trigger1 = animelem = 1
anim = 712
id = 712
sprpriority = 8
ontop = 1
ownpal = 1
postype = right
pos = -88,70+var(6)
removetime = -1
ignorehitpause = 1
bindtime = -1
facing = 1

[State 2000]
type = Explod
trigger1 = var(32) = 2
trigger1 = animelem = 1
anim = 714
id = 714
ontop = 1
sprpriority = 9
ownpal = 1
postype = Right
pos = -26,70+var(6)
removetime = -1
ignorehitpause = 1
bindtime = -1
facing = -1

[State 2000]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;--------------------------------------ゲージため
[Statedef 2100]
type = S
movetype = I
physics = S
anim = 2
velset = 0,0
ctrl = 0

[State 2100];オーラ
type = Explod
trigger1 = numexplod(715) = 0
trigger1 = 1
anim = 715
pos = -10,0
postype = p1
sprpriority = 3
bindtime = -1
id = 715

[State 2100]
type = PlaySnd
trigger1 = time = 0
value = 4, 14
channel = 15

[State 2100]
type = VarAdd
triggerall = Life >= 500
trigger1 = var(16) >= 0
v = 16
ignorehitpause = 1
value = 5

[State 2100]
type = VarAdd
triggerall = Life <= 499
trigger1 = var(16) >= 0
v = 16
ignorehitpause = 1
value = 7

[State 2100]
type = ChangeAnim
trigger1 = animtime = 0
value = 3

[State 2100]
type = ChangeState
trigger1 = Command != "z1"
trigger1 = time > 7
trigger2 = var(16) >= 1000
value = 0
ctrl = 1
;---------------------------MAX発動　EX
[Statedef 2201]
anim = 2201
velset = 0,0
ctrl = 0

[State 2200]
type = AttackMulSet
triggerall = parent,var(3) = 2
trigger1 = time = 0
value = 1.25

[State -2]
type = ParentVarSet
trigger1 = time = 0
v = 17
value = 0

[State 2200]
type = parentVarSet
trigger1 = time = 0
v = 16
value = 0

[State 2200]
type = PlaySnd
trigger1 = time = 0
value = 4,15

[State 2200]
type = parentVarSet
trigger1 = time = 0
v = 31
value = 1000

[State 2200]
type = Explod
trigger1 = parent,var(32) = 1
trigger1 = time = 0
anim = 712
id = 712
sprpriority = 8
ontop = 1
ownpal = 1
postype = left
pos = 26,70+parent,var(6)
removetime = -1
ignorehitpause = 1
bindtime = -1
facing = 1

[State 2200]
type = Explod
trigger1 = parent,var(32) = 1
trigger1 = time = 0
anim = 714
id = 714
ontop = 1
ownpal = 1
postype = left
pos = 26,70+parent,var(6)
removetime = -1
ignorehitpause = 1
bindtime = -1
facing = 1
supermovetime = -1

[State 2200]
type = Explod
trigger1 = parent,var(32) = 2
trigger1 = time = 0
anim = 712
id = 712
sprpriority = 8
ontop = 1
ownpal = 1
postype = right
pos = -88,70+parent,var(6)
removetime = -1
ignorehitpause = 1
bindtime = -1
facing = 1

[State 2200]
type = Explod
trigger1 = parent,var(32) = 2
trigger1 = time = 0
anim = 714
id = 714
ontop = 1
sprpriority = 9
ownpal = 1
postype = Right
pos = -25,70+parent,var(6)
removetime = -1
ignorehitpause = 1
bindtime = -1
facing = -1

[State -2]
type = VarAdd
trigger1 = parent,var(6) = 2
trigger1 = parent,var(31) > 0
v = 31
ignorehitpause = 1
value = -2

[State -2]
type = ModifyExplod
trigger1 = parent,Var(31) != 0
ID = 714
scale = (parent,Var(31)) / 1000.0,1
ontop = 1
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = parent,var(31) <= 0
ID = 714

[State -2]
type = RemoveExplod
trigger1 = parent,var(31) <= 0
ID = 712

[State 3403]
type = destroyself
trigger1 = parent,var(31) <= 0

;---------------------------EX ゲージ 1P
[Statedef 2202]
type    = A
movetype= I
physics = N
anim = 710
velset = 0,0
ctrl = 0

[State 2100]
type = ChangeAnim
trigger1 = animtime = 0
value = 711

[State 2202]
type = destroyself
trigger1 = var(17) = 0
;---------------------------クイックMAX
[Statedef 2300]
type = S
movetype = I
physics = S
anim = 2
velset = 0,0
ctrl = 0

[State 2300]
type = VarSet
trigger1 = time = 0
v = 31
value = 1000

[State 2300]
type = AttackMulSet
trigger1 = var(3) = 3
trigger1 = time = 0
value = 0.7

[State 2300]
type = PowerAdd
trigger1 = time = 0
value = -2000

[State 2000];外枠
type = Explod
trigger1 = var(32) = 1
trigger1 = animelem = 1
anim = 712
id = 712
sprpriority = 8
ontop = 1
ownpal = 1
postype = left
pos = 26,70+var(6)
removetime = -1
ignorehitpause = 1
bindtime = -1

[State 2000]
type = Explod
trigger1 = var(32) = 1
trigger1 = animelem = 1
anim = 714
id = 714
ontop = 1
ownpal = 1
postype = left
pos = 26,70+var(6)
removetime = -1
ignorehitpause = 1
bindtime = -1
facing = 1
supermovetime = -1

[State 2000];外枠
type = Explod
trigger1 = var(32) = 2
trigger1 = animelem = 1
anim = 712
id = 712
sprpriority = 8
ontop = 1
ownpal = 1
postype = right
pos = -88,70+var(6)
removetime = -1
ignorehitpause = 1
bindtime = -1
facing = 1

[State 2000]
type = Explod
trigger1 = var(32) = 2
trigger1 = animelem = 1
anim = 714
id = 714
ontop = 1
sprpriority = 9
ownpal = 1
postype = Right
pos = -26,70+var(6)
removetime = -1
ignorehitpause = 1
bindtime = -1
facing = -1

[State 2300]
type = ChangeState
trigger1 = time = 1
value = 0
ctrl = 1

;-----------------------------C投げ
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = -1

[State 800, 1]
type = HitDef
trigger1=enemy,stateno!=[120,155]
trigger1 = P2MoveType != H
Trigger1 = animelem=1
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
p1facing = 1 ;Turn if holding forwards
p2facing = 1          ;Force p2 to face KFM
p1stateno = 801       ;On success, KFM changes to state 810
p2stateno = 820       ;If hit, p2 changes to state 820 in KFM's cns
guard.dist = 0        ;This prevents p2 from going into a guard state if close

[State 800, 2]
type = ChangeState
Trigger1 = Time=1
value = 260
ctrl = 1

;------------------------成功
[Statedef 801]
type    = S
movetype= A
physics = N
anim = 801
poweradd = 0
sprpriority = 3

[State 801, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 6
value = 6, 18

[State 801, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 1

[State 801, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1, 6   ;3, 8

[State 801]
type = Explod
trigger1 = AnimElem = 1
anim = 702
pos = 34,-70
postype = p1
sprpriority = 3
bindtime = -1

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 35, 0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 2
pos = 36, -116

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 3
pos = 16, -138

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 4
pos = 14, -122

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 5
pos = 32, -76

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 6
pos = 23, 0

[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = -100

[State 1400]
type = Explod
trigger1 = AnimElem = 6
anim = 752
pos = 45,0
postype = p1
sprpriority = 2
bindtime = -1

[State 3000, 1]
type = VarAdd
trigger1 = AnimElem = 5
var(21) = 1000

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------投げられ側
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1640, Velocity]
type = VelSet
trigger1 = time = 56
x = -2
y = -4

[State 5]
type = gravity
trigger1 = time > 56

[State 1302]
type = SelfState
trigger1 = time > 56
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100


[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

;---------------------------D投げ
[Statedef 830]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 830
sprpriority = -1

[State 800, 1]
type = HitDef
trigger1=enemy,stateno!=[120,155]
trigger1 = P2MoveType != H
Trigger1 = animelem=1
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
p1facing = 1 ;Turn if holding forwards
p2facing = 1          ;Force p2 to face KFM
p1stateno = 831       ;On success, KFM changes to state 810
p2stateno = 832     ;If hit, p2 changes to state 820 in KFM's cns
guard.dist = 0        ;This prevents p2 from going into a guard state if close

[State 800, 2]
type = ChangeState
Trigger1 = Time=1
value = 270
ctrl = 1

;--------------------------------成功
[Statedef 831]
type    = S
movetype= A
physics = N
anim = 831
poweradd = 60
sprpriority = 3

[State 821, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 1

[State 801, Throw Sound]
type = PlaySnd
trigger1 = time = 80    ;AnimElem = 11
value = 3, 11           

[State 821]
type = Explod
trigger1 = AnimElem = 1
anim = 702
pos = 24,-40
postype = p1
sprpriority = 3
bindtime = -1

[State 280]
type = PosAdd
trigger1 = AnimElem = 1
trigger1 = BackEdgeBodyDist < 30
x = 30

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 30, 0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 2
pos = 36, -16

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElem = 3
pos = 32, -106

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 4
pos = 14, -122

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElem = 5
pos = -62, -130

[State 810, Hurt 11]
type = TargetState
trigger1 = AnimElem = 6
value = 833

[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 5
value = -100

[State 3000, 1]
type = VarAdd
trigger1 = AnimElem = 5
var(21) = 1000

[State 1301]
type = Turn
trigger1 = AnimTime = 0

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------投げられ側
[Statedef 832]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 832
;------------------------------------
[Statedef 833]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1640, Velocity]
type = VelSet
trigger1 = time = 0
x = 5
y = -5

[State 5]
type = gravity
trigger1 = time > 2

[State 1302]
type = SelfState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 5100
;--------------------------------成功
[Statedef 834]
type    = S
movetype= A
physics = N
anim = 834
poweradd = 60
sprpriority = 3

[State 834, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 1

[State 834, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 11
value = 3, 11         

[State 3000, 1]
type = VarAdd
trigger1 = time = 0
var(21) = 1000

[State 834]
type = Explod
trigger1 = AnimElem = 1
anim = 702
pos = 24,-100
postype = p1
sprpriority = 3
bindtime = -1

[State 834]
type = PosAdd
trigger1 = AnimElem = 1
trigger1 = BackEdgeBodyDist < 30
x = 30


[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 28, -114

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 2
pos = 20, -106


[State 1502]
type = TargetBind
trigger1 = AnimElem = 3
pos = -11, -118

[State 1502]
type = TargetBind
trigger1 = AnimElem = 4
pos = -32, -118

[State 1502]
type = TargetBind
trigger1 = AnimElem = 5
pos = -67, -74

[State 1502]
type = TargetBind
trigger1 = AnimElem = 6
pos = -82, 0

[State 810, Hurt 11]
type = TargetState
trigger1 = AnimElem = 7
value = 836

[State 833]
type = TargetLifeAdd
trigger1 = AnimElem = 6
value = -100

[State 1400]
type = Explod
trigger1 = AnimElem = 6
anim = 752
pos = -105,0
postype = p1
sprpriority = 2
bindtime = -1

[State 1450, セリフ]
type = PlaySnd
trigger1 = AnimElem = 6
value = 4,27

[State 1602]
type = EnvShake
Trigger1 = AnimElem = 6
time = 18
ampl = -5
freq = 100

[State 1502]
type = Turn
trigger1 = AnimTime = 0

[State 834, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------投げられ側
[Statedef 835]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 835

;---------------------
[Statedef 836]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 836

[State 833, Velocity]
type = VelSet
trigger1 = time = 0
x = 2.2
y = -3

[State 833]
type = gravity
trigger1 = time > 4

[State 833]
type = SelfState
trigger1 = time > 19
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
value = 5100
;-----------------------------------レイジングストーム
[Statedef 3000]
type = S
movetype = A
physics = N
anim = 3000
ctrl = 0
velset = 0,0
sprpriority = 2
poweradd = -1000
juggle = 15

[State 1502]
type = Turn
trigger1 = prevstateno = 1311
trigger1 = Time = 0

[State 3000, 1]
type = VarAdd
triggerall = time = 0
trigger1 = var(3) = 2
trigger1 = var(31) > 0
trigger2 = var(3) = 3
trigger2 = var(31) > 0
var(31) = -1000

[State 3000]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 4
trigger2 = var(3) = 1
trigger2 = var(31) = 0
trigger3 = var(3) = 3
trigger3 = var(31) = 0
trigger4 = var(3) = 5
value = -1000

[State 3050]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 3|var(3) = 4
trigger1 = prevstateno = 1010|prevstateno = 1060|prevstateno = 1103|prevstateno = 1153
value = -1000

[State 3000]
type = BGPalFX
trigger1 = Time = 0
time = 26
add = -255,-255,-255

[State 3000]
type = superpause
trigger1 = time = 0
time = 25
anim = -1
pos = 0,-150
movetime = 25
darken = 0

[STate 3000]
type = Explod
trigger1 = time = 2
anim = 706
pos = 0,-140
sprpriority = -2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = time = 11
anim = 754
pos = 0,-140
sprpriority = 2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[State 3000]
type = AfterImage
trigger1 = time = 0
time = 50
length = 6
trans = add1
palcolor = 250
palinvertall = 0
paladd = 10,10,25
timegap = 2
framegap = 2

[State 3000]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 5

[State 3000]
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 14

[State 3000]
type = Explod
triggerall = var(2) = 2|var(2) = 3
trigger1 = animelem = 8
anim = 3003
pos = 0,0
postype = p1
sprpriority = 2
bindtime = -1
ontop = 1

[State 3000]
type = ChangeState
trigger1 = Animtime = 0
value = 3001

;-------------------------攻撃中
[Statedef 3001]
type = S
movetype = A
physics = S
anim = 3001
ctrl = 0
velset = 0,0
sprpriority = 2
juggle = 15

[State 1311]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3001]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 11

[State 3615]
type = EnvShake
Trigger1 = time = 10
time = 25
ampl = -8
freq = 50

[State 3001];02
type = Explod
trigger1 = time = 0
anim = 3005
pos = 0,0
postype = p1
sprpriority = 2
bindtime = -1
ontop = 1


[State 1005];helper
type = Helper
trigger1 = time = 0
helpertype = normal
stateno = 1006
name = "tobi"
id      = 1005
postype = p1
pos = 50, 0
keyctrl = 0
ownpal = 1

[State 3003];02
type = Projectile
trigger1 = time = 11
projanim = 3004
projremanim = 3004
projremove = 0
projsprpriority = 4
projpriority = 100
projID = 3001
damage = ceil(60*ifelse(var(31) > 0,.7,1)),5
postype = p1
pos = 0,0
projremovetime = 60
bindtime = -1
supermove = 1
ignorehitpause = 1
attr = S, HP
hitflag = MAF
guardflag = M
sparkno = -1
sparkxy = -10,-45
pausetime = 0, 13
guard.sparkno = 40
getpower = 0,0
hitsound = S4,9
guardsound = S1,3
projhits = 5
projmisstime = 7
guard.hittime = 40
guard.slidetime = 30
ground.hittime = 30
ground.slidetime = 0
guard.velocity = -5
ground.velocity = -4, -7
air.velocity = -4, -7
air.juggle = 15
air.hittime = 30
fall = 1
fall.recover = 0


[State 9];立ちstateに戻る
type = Changestate
trigger1 = time = 55
value = 3002
ctrl = 1
;---------------------------レイジング終わり
[Statedef 3002]
type = S
movetype = A
physics = S
anim = 3002
ctrl = 0
posadd = 7,0
sprpriority = 2
juggle = 15

[State 3000]
type = Explod
trigger1 = time = 0
anim = 3006
pos = 0,0
postype = p1
sprpriority = 2
bindtime = -1
ontop = 1

[State 3002]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------
[Statedef 3003]
type    = A
movetype= H
physics = N
velset = -1,-8

[State 1403]
type = VelAdd
trigger1 = Time > 2
y = .3

[State 3708]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3011

[State 3708]
type = ChangeAnim2
Trigger1 = Time = 5
value = 3012

[State 3606] 
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground
;---------------------------MAXレイジングストーム
[Statedef 3050]
type = S
movetype = A
physics = N
anim = 3000
ctrl = 0
velset = 0,0
sprpriority = 2
poweradd = 0
juggle = 15


[State 3000]
type = PowerAdd
trigger1 = time = 0
value = -2000


[State 3050]
type = BGPalFX
trigger1 = Time = 0
time = 26
add = -255,-255,-255

[State 3050]
type = superpause
trigger1 = time = 0
time = 25
anim = -1
pos = 0,-150
movetime = 25
darken = 0

[STate 3000]
type = Explod
trigger1 = time = 2
anim = 708
pos = 0,-140
sprpriority = -2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = time = 11
anim = 755
pos = 0,-140
sprpriority = 2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[State 3000]
type = AfterImage
trigger1 = time = 0
time = 50
length = 6
trans = add1
palcolor = 250
palinvertall = 0
paladd = 10,10,25
timegap = 2
framegap = 2

[State 3000]
type = Explod
trigger1 = animelem = 8
anim = 3003
pos = 0,0
postype = p1
sprpriority = 2
bindtime = -1
ontop = 1

[State 3050]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 17

[State 3000];geese max
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 28

[State 3050]
type = ChangeState
trigger1 = Animtime = 0
value = 3051
;-------------------------攻撃中
[Statedef 3051]
type = S
movetype = A
physics = S
anim = 3001
ctrl = 0
velset = 0,0
sprpriority = 2
juggle = 15

[State 1311]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3051]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 11

[State 1000]
type = PlaySnd
trigger1 = time = 10
trigger2 = time = 25
trigger3 = time = 50
trigger4 = time = 70
value = 4, 26

[State 3615]
type = EnvShake
Trigger1 = time = 10
time = 25
ampl = -10
freq = 70

[State 1005];helper
type = Helper
trigger1 = time = 0
helpertype = normal
stateno = 1006
name = "tobi"
id      = 1005
postype = p1
pos = 70, 0
keyctrl = 0
ownpal = 1

[State 3051];96
type = Projectile
trigger1 = time = 5
projanim = 3050
projremanim = 3050
projremove = 0
projsprpriority = 4
projID = 3050
projpriority = 100
damage = 420,10
postype = p1
pos = 0,0
projremovetime = 30
bindtime = -1
supermove = 1
ignorehitpause = 1
attr = S, HP
hitflag = MAF
guardflag = M
sparkno = -1
sparkxy = -10,-45
pausetime = 0, 13
guard.sparkno = 40
getpower = 0,0
hitsound = S1,8
guardsound = S1,3
projhits = 1
projmisstime = 7
guard.hittime = 40
guard.slidetime = 30
ground.hittime = 30
ground.slidetime = 0
guard.velocity = -5
ground.velocity = -4, -7
air.velocity = -4, -7
air.juggle = 15
air.hittime = 30
fall = 1
fall.recover = 0




[State 3000]
type = Explod
trigger1 = time = 13
anim = 3054
pos = 0,0
postype = p1
sprpriority = -3
bindtime = -1
ontop = 0

[State 3051];SVC前1
type = Helper
triggerall = var(2) = 3
trigger1 = time = 5
trigger2 = time = 35
helpertype = normal
stateno = 3053
name = "3053"
id      = 3053
postype = p1
pos = 25, 10
keyctrl = 0
ownpal = 0

[State 3051];SVC前2
type = Helper
triggerall = var(2) = 3
trigger1 = time = 19
trigger2 = time = 26
helpertype = normal
stateno = 3053
name = "3053"
id      = 3053
postype = p1
pos = 65, 10
keyctrl = 0
ownpal = 0

[State 3051];SVC後ろ
type = Helper
triggerall = var(2) = 3
trigger1 = time = 10
trigger2 = time = 50
helpertype = normal
stateno = 3053
name = "3053"
id      = 3053
postype = p1
pos = -35, 10
keyctrl = 0
ownpal = 0


[State 3051]
type = Changestate
trigger1 = time = 40
value = 3052
ctrl = 1
;---------------------------レイジング終わり
[Statedef 3052]
type = S
movetype = A
physics = S
anim = 3002
ctrl = 0
posadd = 7,0
sprpriority = 2
juggle = 15


[State 3052]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;-----------------------------
[Statedef 3053]
type = S
physics = N
movetype = A
anim = 201
sprpriority = 3
juggle = 15
velset = 0,0
ctrl = 0

[State 3053]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3051];SVC前1
type = Projectile
trigger1 = time = 0
projanim = 3051
projremanim = 3051
projremove = 0
projsprpriority = ifelse(Random <= 500 ,0,4)
projID = 3050
projpriority = 100
damage = 420,10
postype = p1
pos = 25,10
projremovetime = 27
bindtime = -1
supermove = 1
ignorehitpause = 1
attr = S, HP
hitflag = MAF
guardflag = M
sparkno = S701
sparkxy = -10,-45
pausetime = 0, 13
guard.sparkno = 40
getpower = 0,0
hitsound = S1,8
guardsound = S1,3
projhits = 1
projmisstime = 7
guard.hittime = 40
guard.slidetime = 30
ground.hittime = 30
ground.slidetime = 0
guard.velocity = -5
ground.velocity = -4, -7
air.velocity = -4, -7
air.juggle = 15
air.hittime = 30
fall = 1
fall.recover = 0
palfx.time = 65
palfx.color = 64
palfx.invertall = 1
palfx.add = 1,1,1
palfx.mul = 256,256,256
palfx.sinadd = 96,96,96,4

[State 3053]
type = destroyself
trigger1 = Time = 1

;-------------------------------------------------羅生門
[Statedef 3100]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3100
sprpriority = 0
poweradd = -1000

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG

[State 3040, 7]
type = EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 30
value = 0,0,0
under = 2
sprpriority = 3 

;[State 3000, 1]
;type = VarAdd
;triggerall = time = 0
;trigger1 = var(3) = 2
;trigger1 = var(31) > 0
;trigger2 = var(3) = 3
;trigger2 = var(31) > 0
;var(31) = -1000

[State 3000]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 4
trigger2 = var(3) = 1
trigger2 = var(31) = 0
trigger3 = var(3) = 3
trigger3 = var(31) = 0
trigger4 = var(3) = 5
value = -1000

[State 3050]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 3|var(3) = 4
trigger1 = prevstateno = 1010|prevstateno = 1060|prevstateno = 1103|prevstateno = 1153
value = -1000

[State 3100]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 5

[State 3100]
type = superpause
trigger1 = animelem=2
time = 15
anim = -1
pos = 28,-60
movetime = 15
darken = 1

[STate 3000]
type = Explod
trigger1 = time = 2
anim = 706
pos = 28,-60
sprpriority = -2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = time = 11
anim = 754
pos = 28,-60
sprpriority = 2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[State 3100]
type = HitDef
triggerall = var(2) != 3
trigger1=enemy,stateno!=[120,155]
trigger1 = animelem=1
attr = S, HT          ;Attributes: Standing, Normal Throw
hitflag = M           ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
p1facing = 1 ;Turn if holding forwards
p2facing = 1          ;Force p2 to face KFM
p1stateno = 3101      ;On success
p2stateno = 3102  
guard.dist = 0        ;This prevents 

[State 3100]
type = HitDef
triggerall = var(2) = 3
trigger1=enemy,stateno!=[120,155]
trigger1 = animelem=1
attr = S, HT          ;Attributes: Standing, Normal Throw
hitflag = M           ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
p1facing = 1 ;Turn if holding forwards
p2facing = 1          ;Force p2 to face KFM
p1stateno = 3106      ;On success
p2stateno = 3107  
guard.dist = 0        ;This prevents 

[State 3100]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------羅生門成功
[Statedef 3101]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3101
sprpriority = -1

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG

[State 3040, 7]
type = EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 30
value = 0,0,0
under = 2
sprpriority = 3 

[State 3101]
type = PlaySnd
trigger1 = AnimElem = 20
value = 4, 2

[State 3101]
type = PlaySnd
trigger1 = time = 40 ;AnimElem = 20
value = 1, 1

[State 3101]
type = PlaySnd
trigger1 = time = 1 ;AnimElem = 31
value = 3,11        

[State 3101]
type = PlaySnd
trigger1 = time = 130 ;AnimElem = 32
value = 4, 4

[State 3101]
type = PlaySnd
trigger1 = time = 210  ;AnimElem = 32
value = 3, 11

[State 3101];足元オーラ
type = Explod
trigger1 = time = 0
anim = 707
removetime = 180
pos = 0,10
postype = p1
sprpriority = 3
bindtime = -1

[State 3101];
type = Explod
trigger1 = animelem = 20
anim = 3105
pos = 47,-74
postype = p1
sprpriority = 3
bindtime = -1
supermovetime = 30

[State 3101];japanese background
type=Explod
trigger1 = animelem = 20
anim=709
pos=0,-50
postype=Back
sprpriority = -3
removetime = 50
bindtime=-1
id=780
supermove=1
supermovetime = 30

[State 3101];左向き時文字
type=Explod
trigger1 = animelem = 20
trigger1 = Facing = -1
anim=709
pos=0,-50
postype=Back
sprpriority = -5
removetime = 50
bindtime=-1
id=780
facing = -1
supermove=1
supermovetime = 30

[State 3101]
type = BGPalFX
trigger1 = Time = 130
time = 50
add = 255,255,255

[State 3101]
type = superpause
trigger1 = animelem = 1
time = 25
anim = -1
pos = 18,-60
movetime = 25
darken = 0

[STate 3000]
type = Explod
trigger1 = time = 2
anim = 706
pos = 35,-60
sprpriority = -2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = time = 11
anim = 754
pos = 35,-60
sprpriority = 2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[State 3101]
type = TargetState
trigger1 = animelem = 20
value = 3103

[State 3000, 1]
type = VarAdd
triggerall = var(2) != 3
trigger1 = AnimElem = 20
var(21) = 2500

[State 3000, 1]
type = VarAdd
triggerall = var(2) = 3
trigger1 = AnimElem = 20
var(21) = 2000

[State 3101]
type = TargetLifeAdd
trigger1 = AnimElem = 20
value = -400

[State 3101]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------羅生門相手くらい
[Statedef 3102]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3102]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3102

[State 1000]
type = ScreenBound
trigger1 = 1
value = 0

[State 3102]
type = Velset
trigger1 = time = 19
y = -14

[State 1403]
type = VelAdd
trigger1 = Time > 20
y = .33

[State 3102]
type = SelfState
trigger1 = time >= 68
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 5100

;-------------------------------壁に向かって飛んでく
[Statedef 3103]
type = A
movetype= H
physics = N
velset = 0,0

[State 1000]
type = ScreenBound
trigger1 = 1
value = 0

[State 3103]
type = VelSet
trigger1 = time = 23
x = -10

[State 3104]
type = ChangeAnim2
trigger1 = Time = 0
value = 3103

[State 3103]
type = ChangeState
triggerall = time > 23
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 3104

[State 3103]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;----------------------------------壁に激突
[Statedef 3104]
type    = A
movetype= H
physics = N

[State 3608]
type = EnvShake
Trigger1 = time = 0
time = 60
ampl = -4
freq = 45

[State 1000]
type = ScreenBound
trigger1 = 1
value = 0

[State 3104]
type = velset
trigger1 = Time < 10
x = 0

[State 3104]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 3104]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 3104]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 3104]
type = ChangeState
trigger1 = Time = 10
value = 3105
;----------------------------------壁に当たり落ちる
[Statedef 3105]
type    = A
movetype= H
physics = N

[State 3105]
type = ScreenBound
trigger1 = 1
value = 0

[State 3105]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3105]
type = VelSet
trigger1 = Time = 0
y = -4

[State 3105]
type = VelSet
trigger1 = Time = 0
x = 2

[State 3105]
type = VelAdd
trigger1 = 1
y = .35

[State 3105] ;Self falling animation
type = ChangeAnim2
trigger1 = Time = 0
;trigger1 = !SelfAnimExist(5052)
value = 3104

[State 3105]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;-----------------------------------SVC羅生門成功
[Statedef 3106]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3106
sprpriority = -1

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG

[State 3040, 7]
type = EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 30
value = 0,0,0
under = 2
sprpriority = 3 

[State 3101]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1, 6

[State 3608]
type = EnvShake
Trigger1 = animelem = 4
time = 6
ampl = -2
freq = 7

[State 3101]
type = Explod
trigger1 = AnimElem = 4
anim = 701
pos = 50,-10
postype = p1
sprpriority = 3
bindtime = -1

[State 3000, 1]
type = VarAdd
trigger1 = AnimElem = 4
var(21) = 500

[State 3101];足元オーラ
type = Explod
trigger1 = time = 0
anim = 707
removetime = 42
pos = 0,10
postype = p1
sprpriority = 3
bindtime = -1

[State 3101]
type = BGPalFX
trigger1 = Time = 0
time = 26
add = -255,-255,-255

[State 3101]
type = superpause
trigger1 = animelem = 1
time = 25
anim = S706
pos = 18,-60
movetime = 25
darken = 0

[State 3101]
type = HitAdd
trigger1 = AnimElem = 4
value = 1

[State 3101]
type = TargetLifeAdd
trigger1 = AnimElem = 4
value = -70

[State 3101]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3110
;------------------------------------羅生門相手くらい
[Statedef 3107]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3102]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3107

[State 3102]
type = SelfState
trigger1 = time >= 98
value = 0
;-----------------------------------SVC MAX羅生門成功
[Statedef 3108]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3108
sprpriority = -1

[State 3108]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
value = 1, 6

[State 3608]
type = EnvShake
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
time = 16
ampl = -2
freq = 7

[State 3000, 1]
type = VarAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
var(21) = 1000

[State 3101]
type = HitAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
value = 1

[State 3108]
type = Explod
trigger1 = AnimElem = 3
anim = 705
pos = 57,-94
postype = p1
sprpriority = 3
bindtime = -1

[State 3108]
type = Explod
trigger1 = AnimElem = 7
anim = 705
pos = 49,-48
postype = p1
sprpriority = 3
bindtime = -1

[State 3108]
type = Explod
trigger1 = AnimElem = 11
anim = 705
pos = 65,-72
postype = p1
sprpriority = 3
bindtime = -1

[State 3108];足元オーラ
type = Explod
trigger1 = time = 0
anim = 707
removetime = 61
pos = 0,10
postype = p1
sprpriority = 3
bindtime = -1

[State 3108]
type = BGPalFX
trigger1 = Time = 0
time = 26
add = -255,-255,-255

[State 3108]
type = superpause
trigger1 = animelem = 1
time = 25
anim = S708
pos = 18,-60
movetime = 25
darken = 0

[State 3108]
type = TargetLifeAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
trigger3 = AnimElem = 11
value = -70

[State 3108]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3110
;------------------------------------羅生門相手くらい
[Statedef 3109]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3109]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3109

[State 3109]
type = SelfState
trigger1 = time >= 98
value = 0
;----------------------------SVC羅生門相手放り投げ
[Statedef 3110]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3111
sprpriority = -1

[State 3101]
type = PlaySnd
trigger1 = time = 1 ;AnimElem = 15
value = 1,  1

[State 3101]
type = PlaySnd
trigger1 = time = 75 ;AnimElem = 15
value = 3,  1

[State 3101]
type = PlaySnd
trigger1 = AnimElem = 15
value = 4, 2

[State 3101];足元オーラ
type = Explod
trigger1 = time = 0
anim = 707
removetime = 100
pos = 0,10
postype = p1
sprpriority = 3
bindtime = -1


[State 3101];
type = Explod
trigger1 = animelem = 15
anim = 3105
pos = 47,-74
postype = p1
sprpriority = 3
bindtime = -1
supermovetime = 30

[State 3101];japanese background
type=Explod
trigger1 = animelem = 20
trigger1 = Facing = 1
anim=709
pos=0,-50
postype=Back
sprpriority = -50
removetime = 50
bindtime=-1
id=780
supermove=1
supermovetime = 30

[State 3101];左向き時文字
type=Explod
trigger1 = animelem = 20
trigger1 = Facing = -1
anim=709
pos=320,0
postype=Back
sprpriority = -50
removetime = 50
bindtime=-1
id=780
facing = -1
supermove=1
supermovetime = 30

[State 3101]
type = BGPalFX
trigger1 = Time = 130
time = 75
add = 255,255,255

[State 3000]
type = superpause
trigger1 = animelem = 15
time = 10
anim = -1
pos = 10,-80
movetime = 10
darken = 0

[State 3101]
type = TargetState
trigger1 = animelem = 2
value = 3111

[State 3101]
type = TargetState
trigger1 = animelem = 15
value = 3112

[State 3101]
type = TargetLifeAdd
trigger1 = AnimElem = 15
value = -480

[State 3000, 1]
type = VarAdd
trigger1 = AnimElem = 15
var(21) = 2000

[State 3101]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------羅生門相手くらい
[Statedef 3111]
type    = S
movetype= H
physics = N
velset = 0,0

[State 3102]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3110

[State 3102]
type = Velset
trigger1 = time = 0
y = -9

[State 1403]
type = VelAdd
trigger1 = Time > 1
y = .22

[State 3102]
type = SelfState
trigger1 = time >= 68
trigger1 = pos y >= 0
trigger1 = vel y > 0
value = 5100

;------------------------------------羅生門相手くらい
[Statedef 3112]
type    = S
movetype= H
physics = N
velset = -5,-4
sprpriority = 3

[State 3102]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = selfanimexist(5052)
value = 5052

[State 3102]
type = ChangeAnim2
trigger1 = Time = 0
trigger1 = !selfanimexist(5052)
value = 3112

[State 1403]
type = VelAdd
trigger1 = Time > 1
y = .21

[State 3105]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100
;------------------------------------MAX羅生門
[Statedef 3150]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3100
sprpriority = 0
poweradd = -2000

[State 3000]
type = superpause
trigger1 = time = 0
time = 25
anim = -1
pos = 0,-150
movetime = 25


[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG

[State 3108]
type = BGPalFX
trigger1 = Time = 0
time = 25
add = 0,0,0

[State 3600]
type = BGPalFX
trigger1 = Time = 0
time = 26
add = -255,-255,-255

[State 3000]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 1
trigger2 = var(3) = 3
trigger3 = var(3) = 4
value = -1000

[State 3000]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 4
value = -1000

[State 3050]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 3|var(3) = 4
trigger1 = prevstateno = 1010|prevstateno = 1050|prevstateno = 1060
trigger2 = prevstateno = 1103|prevstateno = 1153
value = -1000

[State 3100]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 17

[State 3100]
type = superpause
trigger1 = animelem=2
time = 15
anim = -1
pos = 28,-60
movetime = 15
darken = 1

[STate 3000]
type = Explod
trigger1 = time = 11
anim = 755
pos = 28,-60
sprpriority = 2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = time = 2
anim = 708
pos = 28,-60
sprpriority = -2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[State 3100]
type = HitDef
trigger1=enemy,stateno!=[120,155]
trigger1 = animelem=1
attr = S, HT          ;Attributes: Standing, Normal Throw
hitflag = M           ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
sprpriority = 1       ;Draw in front of p2
p1facing = 1 ;Turn if holding forwards
p2facing = 1          ;Force p2 to face KFM
p1stateno = 3151      ;On success
p2stateno = 3102  
guard.dist = 0        ;This prevents 

[State 3100]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------
[Statedef 3151]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3101
sprpriority = -1

[State 3101]
type = PlaySnd
trigger1 = AnimElem = 7
value = 5, 13
volume = 255

[State 3101]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1, 1

[State 3000]
type = superpause
trigger1 = time = 0
time = 25
anim = -1
pos = 0,-150
movetime = 25

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG

[State 3040, 7]
type = EnvColor
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
time = 30
value = 0,0,0
under = 2
sprpriority = 3 

[State 3600]
type = BGPalFX
trigger1 = Time = 0
time = 26
add = -255,-255,-255

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG

[State 3108]
type = BGPalFX
trigger1 = Time = 0
time = 25
add = 0,0,0

[State 3101]
type = PlaySnd
trigger1 = AnimElem = 20
value = 4, 2

[State 3101]
type = PlaySnd
trigger1 = time = 210  ;AnimElem = 32
value = 3, 11

[State 3101]
type = PlaySnd
trigger1 = AnimElem = 32
value = 4, 4

[State 3101];足元オーラ
type = Explod
trigger1 = time = 0
anim = 707
removetime = 180
pos = 0,10
postype = p1
sprpriority = 3
bindtime = -1

[State 3101];
type = Explod
trigger1 = animelem = 20
anim = 3105
pos = 47,-74
postype = p1
sprpriority = 3
bindtime = -1
supermovetime = 30

[State 3101];japanese background
type=Explod
trigger1 = animelem = 20
anim=709
pos=0,-50
postype=Back
sprpriority = -50
removetime = 50
bindtime=-1
id=780
supermove=1
supermovetime = 30

[State 3101];左向き時文字
type=Explod
trigger1 = animelem = 20
trigger1 = Facing = -1
anim=709
pos=0,-50
postype=Back
sprpriority = -50
removetime = 50
bindtime=-1
id=780
facing = -1
supermove=1
supermovetime = 30

[State 3101]
type = BGPalFX
trigger1 = Time = 130
time = 50
add = 255,255,255

[State 3101]
type = superpause
trigger1 = animelem = 1
time = 25
anim = -1
pos = 18,-60
movetime = 25
darken = 0

[STate 3000]
type = Explod
trigger1 = time = 2
anim = 708
pos = 35,-60
sprpriority = -2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = time = 11
anim = 755
pos = 35,-60
sprpriority = 2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[State 3000, 1]
type = VarAdd
trigger1 = AnimElem = 20
var(21) = 5000

[State 3101]
type = TargetLifeAdd
trigger1 = AnimElem = 20
value = -600

[State 3101]
type = TargetState
trigger1 = animelem = 20
value = 3103

[State 3101]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------デッドリーレイブ
[Statedef 3200]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3200
sprpriority = 2
poweradd = -2000

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 3200]
type = PalFX
triggerall = Time = 0
triggerall = var(31) > 0
trigger1 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1010|prevstateno = 1060
add = 255,255,255
time = 2
ignorehitpause = 1

[State 3200]
type = PlaySnd
trigger1 = time = 0
value = 5, 15

[State 3200]
type = BGPalFX
trigger1 = Time = 0
time = 26
add = -255,-255,-255

[State 3000]
type = superpause
trigger1 = animelem = 4
time = 25
anim = -1
pos = 10,-80
movetime = 25
darken = 0

[STate 3000]
type = Explod
trigger1 = animelem = 4
anim = 3455
pos = 10,-95
sprpriority = -2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = time = 20
anim = 3456
pos = 10,-95
sprpriority = -2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -8
freq = 95
phase = 95

[State 3101]
type = PlaySnd
trigger1 = time = 1
value = 4, 51
volume = 255

[State 3200]
type = ChangeState
Trigger1 = var(58) = 1
value = 3201

[State 3200]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3201
ctrl = 1
;-----------------------------------デッドリーレイブダッシュ
[Statedef 3201]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3201
sprpriority = 2

[State -2, HSDM BG] ; Hidden SDM background
type = Explod
trigger1 = 1
scale = 1.075, 1.075
anim = 3457 ;change this value
postype = back
pos = 0,0
bindtime = -1
sprpriority = -3
supermove = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
id = 4503

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = nobardisplay

[State 3211, bgpal]
type = BGPalFX
trigger1 = 1
invertall = 1
time = 2
mul = 0,0,0
ignorehitpause = 1


[State 3201]
type = AfterImage
trigger1 = time = 0
time = 10
length = 6
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2


[State 3201];速度を与える
type = VelSet
trigger1 = 1
x = 7

[State 3201]
type=HitDef
trigger1=animelem=1
trigger2=animelem=2
trigger3=animelem=3
attr=S,HA
damage=20,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=7,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-10,-55
hitsound=S1,10
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=15
ground.velocity=-2,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3201]
type = ChangeState
trigger1 = movecontact = 1
value = 3202
ctrl = 1

[State 3201]
type = ChangeState
trigger1 = movecontact = 1
trigger1 = var(58) = 1
value = 3202

[State 3201]
type = ChangeState
trigger1 = Time = 50
value = 1101
ctrl = 1

;----------------------------------------------ヒット〜A の前
[Statedef 3202]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3202
sprpriority = 2

[State -2, HSDM BG] ; Hidden SDM background
type = Explod
trigger1 = 1
scale = 1.075, 1.075
anim = 3457 ;change this value
postype = back
pos = 0,0
bindtime = -1
sprpriority = -3
supermove = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
id = 4503

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = nobardisplay

[State 3211, bgpal]
type = BGPalFX
trigger1 = 1
invertall = 1
time = 2
mul = 0,0,0
ignorehitpause = 1


[State 3202];速度を与える
type = VelSet
trigger1 = 1
x = 1.5

[State 3201]
type = AfterImage
trigger1 = time = 0
time = 10
length = 6
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3200]
type = ChangeState
value = 3203
triggerall = command = "bx"
trigger1 = statetype != A

[State 3200]
type = ChangeState
trigger1 = var(58) = 1
value = 3203

[State 3202]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------------A
[Statedef 3203]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3203
sprpriority = 2

[State -2, HSDM BG] ; Hidden SDM background
type = Explod
trigger1 = 1
scale = 1.075, 1.075
anim = 3457 ;change this value
postype = back
pos = 0,0
bindtime = -1
sprpriority = -3
supermove = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
id = 4503

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = nobardisplay

[State 3211, bgpal]
type = BGPalFX
trigger1 = 1
invertall = 1
time = 2
mul = 0,0,0
ignorehitpause = 1


[State 3203]
type = playsnd
trigger1 = time = 1
value = 3, 11

[State 3203]
type = AfterImage
trigger1 = time = 0
time = 14
length = 6
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3203];速度を与える
type = VelSet
trigger1 = 1
x = 1

[State 3203]
type=HitDef
trigger1 = animelem = 3
attr=S,HA
damage=25,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=4,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-10,-65
hitsound=S1,10
guardsound=S1,3
ground.type=Low
ground.slidetime=10
ground.hittime=19
ground.velocity=-1,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3200]
type = ChangeState
value = 3204
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3200]
type = ChangeState
value = 3204
trigger1 = var(58) = 1
trigger1 = MoveContact

[State 3203]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------A,A
[Statedef 3204]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3204
sprpriority = 2

[State -2, HSDM BG] ; Hidden SDM background
type = Explod
trigger1 = 1
scale = 1.075, 1.075
anim = 3457 ;change this value
postype = back
pos = 0,0
bindtime = -1
sprpriority = -3
supermove = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
id = 4503

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = nobardisplay

[State 3211, bgpal]
type = BGPalFX
trigger1 = 1
invertall = 1
time = 2
mul = 0,0,0
ignorehitpause = 1


[State 3204]
type = AfterImage
trigger1 = time = 0
time = 28
length = 6
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3204]
type = playsnd
trigger1 = time = 1
value = 3, 11

[State 3204];速度を与える
type = VelSet
trigger1 = 1
x = 1

[State 3204]
type=HitDef
trigger1 = animelem = 3
attr=S,HA
damage=24,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=4,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-15,-45
hitsound=S1,10
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=19
ground.velocity=-1,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3200]
type = ChangeState
value = 3205
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3200]
type = ChangeState
value = 3205
trigger1 = MoveContact
trigger1 = var(58) = 1

[State 3204]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------A,A,B
[Statedef 3205]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3205
sprpriority = 2

[State -2, HSDM BG] ; Hidden SDM background
type = Explod
trigger1 = 1
scale = 1.075, 1.075
anim = 3457 ;change this value
postype = back
pos = 0,0
bindtime = -1
sprpriority = -3
supermove = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
id = 4503

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = nobardisplay

[State 3211, bgpal]
type = BGPalFX
trigger1 = 1
invertall = 1
time = 2
mul = 0,0,0
ignorehitpause = 1


[State 3205]
type = AfterImage
trigger1 = time = 0
time = 28
length = 6
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3205]
type = playsnd
trigger1 = time = 1
value = 3, 11

[State 3205];速度を与える
type = VelSet
trigger1 = 1
x = 1

[State 3205]
type=HitDef
trigger1 = animelem = 3
attr=S,HA
damage=22,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=4,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-25,-35
hitsound=S1,9
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=19
ground.velocity=-1,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3200]
type = ChangeState
value = 3206
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3200]
type = ChangeState
value = 3206
trigger1 = MoveContact
trigger1 = var(58) = 1

[State 3205]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------A,A,B,B
[Statedef 3206]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3206
sprpriority = 2

[State -2, HSDM BG] ; Hidden SDM background
type = Explod
trigger1 = 1
scale = 1.075, 1.075
anim = 3457 ;change this value
postype = back
pos = 0,0
bindtime = -1
sprpriority = -3
supermove = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
id = 4503

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = nobardisplay

[State 3211, bgpal]
type = BGPalFX
trigger1 = 1
invertall = 1
time = 2
mul = 0,0,0
ignorehitpause = 1


[State 3206]
type = AfterImage
trigger1 = time = 0
time = 26
length = 6
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3206]
type = playsnd
trigger1 = time = 1
value = 3, 11

[State 3206];速度を与える
type = VelSet
trigger1 = 1
x = 1

[State 3206]
type=HitDef
trigger1 = animelem = 3
attr=S,HA
damage=27,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=4,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-30,-25
hitsound=S1,6
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=19
ground.velocity=-1,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3200]
type = ChangeState
value = 3207
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3200]
type = ChangeState
value = 3207
trigger1 = MoveContact
trigger1 = var(58) = 1

[State 3206]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------A,A,B,B,C
[Statedef 3207]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3207
sprpriority = 2

[State -2, HSDM BG] ; Hidden SDM background
type = Explod
trigger1 = 1
scale = 1.075, 1.075
anim = 3457 ;change this value
postype = back
pos = 0,0
bindtime = -1
sprpriority = -3
supermove = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
id = 4503

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = nobardisplay

[State 3211, bgpal]
type = BGPalFX
trigger1 = 1
invertall = 1
time = 2
mul = 0,0,0
ignorehitpause = 1


[State 3207]
type = AfterImage
trigger1 = time = 0
time = 29
length = 6
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3207]
type = playsnd
trigger1 = time = 1
value = 3, 11

[State 3207];速度を与える
type = VelSet
trigger1 = 1
x = 1

[State 3207]
type=HitDef
trigger1 = animelem = 5
attr=S,HA
damage=30,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=4,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-12,-90
hitsound=S1,10
guardsound=S1,3
ground.type=high
ground.slidetime=10
ground.hittime=19
ground.velocity=-1,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3200]
type = ChangeState
value = 3208
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3200]
type = ChangeState
value = 3208
trigger1 = MoveContact
trigger1 = var(58) = 1

[State 3207]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------A,A,B,B,C,C
[Statedef 3208]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3208
sprpriority = 2

[State -2, HSDM BG] ; Hidden SDM background
type = Explod
trigger1 = 1
scale = 1.075, 1.075
anim = 3457 ;change this value
postype = back
pos = 0,0
bindtime = -1
sprpriority = -3
supermove = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
id = 4503

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = nobardisplay

[State 3211, bgpal]
type = BGPalFX
trigger1 = 1
invertall = 1
time = 2
mul = 0,0,0
ignorehitpause = 1


[State 3208]
type = AfterImage
trigger1 = time = 0
time = 24
length = 6
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3208]
type = playsnd
trigger1 = time = 1
value = 3, 11

[State 3208];速度を与える
type = VelSet
trigger1 = 1
x = 1

[State 3208]
type=HitDef
trigger1 = animelem = 3
attr=S,HA
damage=29,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=4,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-14,-55
hitsound=S1,7
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=19
ground.velocity=-1,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3200]
type = ChangeState
value = 3209
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3200]
type = ChangeState
value = 3209
trigger1 = MoveContact
trigger1 = var(58) = 1

[State 3208]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------A,A,B,B,C,C,D
[Statedef 3209]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3209
sprpriority = 2

[State -2, HSDM BG] ; Hidden SDM background
type = Explod
trigger1 = 1
scale = 1.075, 1.075
anim = 3457 ;change this value
postype = back
pos = 0,0
bindtime = -1
sprpriority = -3
supermove = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
id = 4503

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = nobardisplay

[State 3211, bgpal]
type = BGPalFX
trigger1 = 1
invertall = 1
time = 2
mul = 0,0,0
ignorehitpause = 1


[State 3209]
type = AfterImage
trigger1 = time = 0
time = 22
length = 6
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3209]
type = playsnd
trigger1 = time = 1
value = 3, 11

[State 3209];速度を与える
type = VelSet
trigger1 = 1
x = 1

[State 3209]
type=HitDef
trigger1 = animelem = 2
attr=S,HA
damage=30,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=4,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-12,-50
hitsound=S1,6
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=19
ground.velocity=-1,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3200]
type = ChangeState
value = 3210
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3200]
type = ChangeState
value = 3210
trigger1 = MoveContact
trigger1 = var(58) = 1

[State 3209]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------A,A,B,B,C,C,D,D
[Statedef 3210]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3210
sprpriority = 2

[State -2, HSDM BG] ; Hidden SDM background
type = Explod
trigger1 = 1
scale = 1.075, 1.075
anim = 3457 ;change this value
postype = back
pos = 0,0
bindtime = -1
sprpriority = -3
supermove = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
id = 4503

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = nobardisplay

[State 3211, bgpal]
type = BGPalFX
trigger1 = 1
invertall = 1
time = 2
mul = 0,0,0
ignorehitpause = 1


[State 3210]
type = AfterImage
trigger1 = time = 0
time = 23
length = 6
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3210]
type = playsnd
trigger1 = time = 1
value = 3, 11

[State 3210];速度を与える
type = VelSet
trigger1 = 1
x = 1

[State 3210]
type=HitDef
trigger1 = animelem = 2
attr=S,HA
damage=26,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=4,10
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-14,-70
hitsound=S1,6
guardsound=S1,3
ground.type=high
ground.slidetime=10
ground.hittime=35
ground.velocity=-1,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3200]
type = ChangeState
value = 3211
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3200]
type = ChangeState
value = 3211
trigger1 = MoveContact
trigger1 = var(58) = 1

[State 3210]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------A,A,B,B,C,C,D,D〜ラスト
[Statedef 3211]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
ctrl = 0
anim = 3211
sprpriority = 2

[State -2, Fix]
type = AssertSpecial
trigger1 = 1
flag = noFG
flag2 = nobardisplay
ignorehitpause = 1


[State 3211, bgpal]
type = BGPalFX
trigger1 = 1
invertall = 1
time = 2
mul = 0,0,0
ignorehitpause = 1

[State 3211]
type = superpause
trigger1 = animelem=4
time = 29
anim = S706
pos = 28,-60
movetime = 29
darken = 1

[State 3211]
type = playsnd
trigger1 = time = 1
value = 4, 28

[State 3211]
type = playsnd
trigger1 = time = 10
value = 4, 17

[State 1050]
type = projectile
trigger1 = time = 31
projanim = 3212
projremovetime = -1
projhitanim = 3212
projhits = 4
projID = 1010
projpriority = 7
offset = 36,-71
velocity = 0, 0
attr = S,HP
animtype = hard
damage = 71,10
guardflag = M
pausetime = 0,0
sparkno = -1
guard.sparkno =-1
sparkky = 0,-70
hitsound = S1,8   ;S4,9
guardsound = S1,3
guard.hittime = 40
guard.ctrltime = 40
ground.type = high
ground.slidetime = 30
ground.hittime = 34
ground.velocity = -6,-2
air.velocity = -4.4,-5
supermovetime = 30
fall = 1
fall.recover = 0
ignorehitpause = 1

[State 3211]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------
[Statedef 3212]
type    = A
movetype= H
physics = S

[State 3212]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = SelfAnimExist(5950) != 1
value = 3213

[State 3212]
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(5950) = 1
value = 5950

[State 3212];速度を与える
type = VelSet
trigger1 = AnimElem = 3
trigger1 = anim = 3213
x = 0
y = 3

[State 1400]
type = Gravity
trigger1 = anim = 3213
trigger1 = 1

[State 3212]
type = changeanim
triggerall = anim = 5950
trigger1 = Animtime = 0||time >= 100
value = 5112

[State 3212]
type = selfstate
trigger1 = Animtime = 0
trigger1 = time >= 100||alive = 0
value = 5150

[State 3212]
type = selfstate
trigger1 = time >= 100
trigger1 = alive = 1
value = 5120

[State 3212]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 10
trigger1 = anim = 3213
value = 5100

;------------------------------------------潜在
[Statedef 3300]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
ctrl = 0
anim = 3300
sprpriority = 2


[State 3300];速度を与える
type = VelSet
trigger1 = AnimElem = 1,>= 0
x = 0.1

[State 3300]
type=HitDef
trigger1 = animelem = 4
attr=S,HA
damage=15,0
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=1,2
guard.pausetime=10,10
sparkno = S700
guard.sparkno =S703
sparkxy=0,-85
hitsound=S1,7
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=35
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12

[State 3300]
type=HitDef
trigger1 = animelem = 6
attr=S,HA
damage=15,0
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=1,2
guard.pausetime=10,10
sparkno = S700
guard.sparkno =S703
sparkxy=0,-85
hitsound=S1,7
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=35
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
p1stateno = 3301  

[State 3300]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------潜在〜雷光回し蹴り
[Statedef 3301]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
ctrl = 0
anim = 3301
sprpriority = 2

[State 3300]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3, 11

[State 3300];速度を与える
type = VelSet
trigger1 = AnimElem = 1,>= 0
x = 3

[State 3300]
type=HitDef
trigger1 = animelem = 5
attr=S,HA
damage=15,0
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=5,10
guard.pausetime=10,10
sparkno = S700
guard.sparkno =S703
sparkxy=0,-85
hitsound=S1,6
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=15
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
p1stateno = 3302     
p2stateno = 5300     

[State 3300]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------潜在〜レーイジング
[Statedef 3302]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
ctrl = 0
anim = 3302
sprpriority = 2
poweradd = -2000

[State 3302];速度を与える
type = VelSet
trigger1 = AnimElem = 3,<= 0
x = 0.5

[State 3302]
type = PlaySnd
trigger1 = AnimElem = 5
value = 2, 9

[State 3300]
type = PlaySnd
trigger1 = AnimElem = 12
value = 2, 10

[State 3302]
type=Explod
trigger1 = AnimElem = 8
anim=716
pos=0,0
postype=Back
sprpriority = -50
removetime = 90
bindtime=-1

[State 3302]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3303
ctrl = 1

;------------------------------------------潜在〜レーイジングストーム
[Statedef 3303]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
ctrl = 0
anim = 3303
sprpriority = 2

[State 3303]
type = PlaySnd
trigger1 = time = 7
value = 4, 11


[State 3303]
type=Explod
trigger1 = time = 0
anim=716
pos=0,0
postype=Back
sprpriority = -50
removetime = 60
bindtime=-1



[State 3303]
type = Explod
trigger1 = time = 0
anim = 711
pos = 0,0
postype = p1
sprpriority = 2
bindtime = -1
ontop = 1

[State 3303]
type = Explod
trigger1 = time = 7
anim = 713
pos = 0,0
postype = p1
sprpriority = 1
bindtime = -1
removetime = 63

[State 3303]
type = Projectile
trigger1 = time = 7
projanim = 712
projremanim = 712
projremove = 0
projsprpriority = 4
projpriority = 100
damage = 400,10
postype = p1
pos = 0,0
projremovetime = 63
bindtime = -1
supermove = 1
ignorehitpause = 1
attr = S, HP
hitflag = MAF
guardflag = M
sparkno = S701
sparkxy = 30,-45
pausetime = 0, 13
guard.sparkno = 40
getpower = 0,0
hitsound = S5,4
guardsound = S5,7
projhits = 1
projmisstime = 7
guard.hittime = 30
guard.slidetime = 30
ground.hittime = 30
ground.slidetime = 0
guard.velocity = -15
ground.velocity = -4, -7
air.velocity = -4, -7
air.hittime = 30
fall = 1
fall.recover = 0

[State 3303]
type = ChangeState
Trigger1 = time = 70
value = 3304
ctrl = 1
;------------------------------------------潜在終わり
[Statedef 3304]
type    = S
movetype= A
physics = S
juggle  = 5
velset = 0,0
ctrl = 0
anim = 3304
sprpriority = 2

[State 3304]
type = Explod
trigger1 = time = 0
anim = 714
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1

[State 3304]
type = Explod
trigger1 = time = 0
anim = 715
pos = 0,0
postype = p1
sprpriority = 1
bindtime = -1

[State 3304]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


;----------------------------------------RBデッドリーレイブ
[Statedef 3500]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3500
sprpriority = 2
poweradd = 0

[State 3000, 1]
type = VarAdd
triggerall = time = 0
triggerall = var(31) > 0
trigger1 = var(3) = 1
trigger2 = var(3) = 2
trigger3 = var(3) = 3
var(31) = -1000

[State 3000]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 1
trigger2 = var(3) = 3
trigger3 = var(3) = 4
value = -1000

[State 3000]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 4
value = -1000

[State 3050]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 3|var(3) = 4
trigger1 = prevstateno = 1010|prevstateno = 1050|prevstateno = 1060
trigger2 = prevstateno = 1103|prevstateno = 1153
trigger3 = prevstateno = 1610|prevstateno = 1600
value = -1000

[State 3203]
type = AfterImage
trigger1 = time = 0
time = 65
length = 9
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3200]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 17

[State 3500];速度を与える
type = VelSet
trigger1 = Time > 26
x = 3

[State 3050]
type = BGPalFX
trigger1 = Time = 0
time = 26
add = -255,-255,-255

[State 3050]
type = superpause
trigger1 = time = 0
time = 25
anim = -1
pos = 20,-100
movetime = 25
darken = 0

[STate 3000]
type = Explod
trigger1 = time = 2
anim = 708
pos = 20,-100
sprpriority = -2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = time = 11
anim = 755
pos = 20,-100
sprpriority = 2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[State 3401]
type = Helper
trigger1 = movehit
trigger1 = numhelper(231) = 0
helpertype = normal
stateno = 3512
name = "score"
id      = 231
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3500]
type=HitDef
trigger1 = !movecontact
trigger1 = Time > 26
attr=S,HA
damage=25,0
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=7,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-10,-55
hitsound=S4,7
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=35
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
p1stateno = 3501
kill = ifelse(p2statetype = A,1,0)

[State 3500]
type = ChangeState
Trigger1 = Time = 70
value = 0
ctrl = 1
;----------------------------------------ヒット〜初段
[Statedef 3501]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3501
sprpriority = 2

[State 3501];速度を与える
type = VelSet
trigger1 = 1
x = 2

[State 3203]
type = AfterImage
trigger1 = time = 0
time = 28
length = 9
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3501]
type=HitDef
trigger1 = time = 0
attr=S,HA
damage=25,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=12,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-61,-88
hitsound=S4,7
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=15
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
kill = ifelse(p2statetype = A,1,0)

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = time = [15,16]
trigger1 = movehit
trigger1 = numhelper(3501) = 0
helpertype = normal
stateno = 3512
name = "score"
id      = 3501
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3500]
type = ChangeState
value = 3502
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3500]
type = TargetLifeadd
trigger1 = animelem = 13
value = -1
kill = 1

[State 3500]
type = TargetState
triggerall = P2StateType != A
trigger1 = P2Life <= 0
trigger1 = animelem = 13
value = 3212

[State 3501]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------A
[Statedef 3502]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3502
sprpriority = 2

[State 3502];速度を与える
type = VelSet
trigger1 = 1
x = 2

[State 3203]
type = AfterImage
trigger1 = time = 0
time = 23
length = 9
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3502]
type=HitDef
trigger1 = animelem = 5
attr=S,HA
damage=40,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=12,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-20,-115
hitsound=S4,7
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=15
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
kill = ifelse(p2statetype = A,1,0)

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = time = [12,16]
trigger1 = movehit
trigger1 = numhelper(3502) = 0
helpertype = normal
stateno = 3512
name = "score"
id      = 3502
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3500]
type = ChangeState
value = 3503
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3500]
type = TargetLifeadd
trigger1 = animelem = 7
value = -1
kill = 1

[State 3500]
type = TargetState
triggerall = P2StateType != A
trigger1 = P2Life <= 0
trigger1 = animelem = 7
value = 3212

[State 3502]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------A,B
[Statedef 3503]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3503
sprpriority = 2

[State 3503];速度を与える
type = VelSet
trigger1 = 1
x = 2

[State 3203]
type = AfterImage
trigger1 = time = 0
time = 18
length = 9
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3503]
type=HitDef
trigger1 = animelem = 3
attr=S,HA
damage=30,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=12,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-65,-47
hitsound=S4,7
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=15
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
kill = ifelse(p2statetype = A,1,0)

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = time = [7,12]
trigger1 = movehit
trigger1 = numhelper(3503) = 0
helpertype = normal
stateno = 3512
name = "score"
id      = 3503
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3500]
type = ChangeState
value = 3504
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3500]
type = TargetLifeadd
trigger1 = animelem = 5
value = -1
kill = 1

[State 3500]
type = TargetState
triggerall = P2StateType != A
trigger1 = P2Life <= 0
trigger1 = animelem = 5
value = 3212

[State 3503]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------A,B,C
[Statedef 3504]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3504
sprpriority = 2

[State 3504];速度を与える
type = VelSet
trigger1 = 1
x = 2

[State 3203]
type = AfterImage
trigger1 = time = 0
time = 14
length = 9
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3504]
type=HitDef
trigger1 = animelem = 2
attr=S,HA
damage=25,5
getpower=0,0
givepower = 25,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=12,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-41,-96
hitsound=S4,7
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=15
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
kill = ifelse(p2statetype = A,1,0)

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = time = [4,8]
trigger1 = movehit
trigger1 = numhelper(3504) = 0
helpertype = normal
stateno = 3512
name = "score"
id      = 3504
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3500]
type = ChangeState
value = 3505
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3500]
type = TargetLifeadd
trigger1 = AnimTime = 0
value = -1
kill = 1

[State 3500]
type = TargetState
triggerall = P2StateType != A
trigger1 = P2Life <= 0
trigger1 = animtime = 0
value = 3212

[State 3504]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------A,B,C,C
[Statedef 3505]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3505
sprpriority = 2

[State 3505];速度を与える
type = VelSet
trigger1 = 1
x = 2

[State 3203]
type = AfterImage
trigger1 = time = 0
time = 25
length = 9
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3505]
type=HitDef
trigger1 = animelem = 5
attr=S,HA
damage=40,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=12,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-51,-25
hitsound=S4,7
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=25
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
kill = ifelse(p2statetype = A,1,0)

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = time = [11,16]
trigger1 = movehit
trigger1 = numhelper(3505) = 0
helpertype = normal
stateno = 3512
name = "score"
id      = 3505
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3500]
type = ChangeState
value = 3506
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3500]
type = TargetLifeadd
trigger1 = animelem = 7
value = -1
kill = 1

[State 3500]
type = TargetState
triggerall = P2StateType != A
trigger1 = P2Life <= 0
trigger1 = animelem = 7
value = 3212

[State 3505]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------A,B,C,C,C
[Statedef 3506]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3506
sprpriority = 2

[State 3506];速度を与える
type = VelSet
trigger1 = 1
x = 2

[State 3203]
type = AfterImage
trigger1 = time = 0
time = 23
length = 9
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3506]
type=HitDef
trigger1 = animelem = 5
attr=S,HA
damage=45,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=12,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-20,-120
hitsound=S4,7
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=20
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
kill = ifelse(p2statetype = A,1,0)

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = time = [12,16]
trigger1 = movehit
trigger1 = numhelper(3506) = 0
helpertype = normal
stateno = 3512
name = "score"
id      = 3506
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3500]
type = ChangeState
value = 3507
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3500]
type = TargetLifeadd
trigger1 = animelem = 7
value = -1
kill = 1

[State 3500]
type = TargetState
triggerall = P2StateType != A
trigger1 = P2Life <= 0
trigger1 = animelem = 7
value = 3212

[State 3506]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------A,B,C,C,C,B
[Statedef 3507]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3507
sprpriority = 2

[State 3507];速度を与える
type = VelSet
trigger1 = 1
x = 2.4

[State 3203]
type = AfterImage
trigger1 = time = 0
time = 25
length = 9
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3507]
type=HitDef
trigger1 = animelem = 6
attr=S,HA
damage=35,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=12,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-54,-76
hitsound=S4,7
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=15
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
kill = ifelse(p2statetype = A,1,0)

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = time = [15,18]
trigger1 = movehit
trigger1 = numhelper(3507) = 0
helpertype = normal
stateno = 3512
name = "score"
id      = 3507
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3500]
type = TargetLifeadd
trigger1 = animelem = 8
value = -1
kill = 1

[State 3500]
type = ChangeState
value = 3508
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3500]
type = TargetState
triggerall = P2StateType != A
trigger1 = P2Life <= 0
trigger1 = animelem = 8
value = 3212

[State 3507]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------A,B,C,C,C,B,C
[Statedef 3508]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3508
sprpriority = 2

[State 3508];速度を与える
type = VelSet
trigger1 = 1
x = 2

[State 3203]
type = AfterImage
trigger1 = time = 0
time = 18
length = 9
trans = add1
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3508]
type=HitDef
trigger1 = animelem = 3
attr=S,HA
damage=40,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=12,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-60,-71
hitsound=S4,7
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=25
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
kill = ifelse(p2statetype = A,1,0)

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = time = [7,11]
trigger1 = movehit
trigger1 = numhelper(3508) = 0
helpertype = normal
stateno = 3512
name = "score"
id      = 3508
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3500]
type = TargetLifeadd
trigger1 = animelem = 5
value = -1
kill = 1

[State 3500]
type = TargetState
triggerall = P2StateType != A
trigger1 = P2Life <= 0
trigger1 = animelem = 5
value = 3212

[State 3500]
type = ChangeState
value = 3509
triggerall = MoveContact
triggerall = random <= 140
triggerall = var(7) = 1
trigger1 = statetype != A

[State 3508]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------A,B,C,C,C,B,C〜ラスト
[Statedef 3509]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3509
sprpriority = 2

[State 3509];速度を与える
type = VelSet
trigger1 = Time > 15
trigger1 = Time < 35
x = 2

[State 3203]
type = AfterImage
trigger1 = time = 0
time = 19
length = 9
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2

[State 3509]
type = superpause
trigger1 = animelem=2
time = 10
anim = -1
pos = 28,-60
movetime = 10
darken = 1

[State 3401]
type = Helper
trigger1 = AnimElem = 4
helpertype = normal
stateno = 3510
name = "3510"
id      = 3510
postype = p1
pos = 56,-76
keyctrl = 0
ownpal = 1

[State 3509]
type = PlaySnd
trigger1 = time = 0
value = 2,3

[State 3509]
type=HitDef
trigger1 = animelem = 5
attr=S,HA
damage=90,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=12,8
guard.pausetime=10,10
sparkno = -1
guard.sparkno =S703
sparkxy=0,-85
hitsound=S4,2
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=35
ground.velocity=-7,-3
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
envshake.time = 20
envshake.ampl = 3
fall = 1
fall.recover = 0
palfx.time = 20
palfx.add = 96,-84,-216
palfx.sinadd = 48,20,16,10
palfx.invertall = 1
palfx.color = 0
envshake.time = 9
envshake.ampl = -4
envshake.freq = 90

[State 3401]
type = Helper
triggerall = var(2) != 3
trigger1 = time = [28,32]
trigger1 = movehit
trigger1 = numhelper(3501) = 0
helpertype = normal
stateno = 3511
name = "score"
id      = 3501
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3509]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------デッドリーラストエフェクト
[Statedef 3510]
type = S
physics = N
movetype = I
anim = 3510
sprpriority = 3
juggle = 15
ctrl = 0

[State 3517]
type = PalFX
trigger1 = Time % 99
time = 1
add = 96,-74,-214
color = 1
invertall = 1

[State 199] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 199]
type = destroyself
trigger1 = AnimTime = 0
;--------------------------------点数加算
[Statedef 3511]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 1500

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 45
;--------------------------------点数加算
[Statedef 3512]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3500]
type = BGPalFX
trigger1 = time = 0
time = 1
add = 250,250,250
ignorehitpause = 1

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 400

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 15
;---------------------------------------------すごい烈風拳
[Statedef 3600]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3600
sprpriority = 2
poweradd = 0

[State 3000, 1]
type = VarAdd
triggerall = time = 0
trigger1 = var(3) = 2
trigger1 = var(31) > 0
trigger2 = var(3) = 3
trigger2 = var(31) > 0
var(31) = -1000

[State 3000]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 4
trigger2 = var(3) = 1
trigger2 = var(31) = 0
trigger3 = var(3) = 3
trigger3 = var(31) = 0
trigger4 = var(3) = 5
value = -1000

[State 3050]
type = PowerAdd
triggerall = time = 0
triggerall = var(3) = 3|var(3) = 4
trigger1 = prevstateno = 1010|prevstateno = 1060|prevstateno = 1103|prevstateno = 1153
trigger2 = prevstateno = 1610
value = -1000

[State 3600]
type = BGPalFX
trigger1 = Time = 0
time = 26
add = -255,-255,-255

[State 3400]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1, 5

[State 3600]
type = superpause
trigger1 = time = 0
time = 25
anim = -1
pos = 0,-50
movetime = 25
darken = 0

[STate 3000]
type = Explod
trigger1 = time = 2
anim = 706
pos = -9,-100
sprpriority = -2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = time = 11
anim = 754
pos = -9,-100
sprpriority = 2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[State 3400]
type = PlaySnd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 24
trigger3 = AnimElem = 5
trigger4 = AnimElem = 18
value = 4, 24
volume = -100

[State 3600]
type = projectile
trigger1 = AnimElem = 11
trigger2 = AnimElem = 24
projanim = 1003
projremovetime = 22
projhitanim = 1003
projremanim = 1003
projID = 3600
projpriority = 5
offset = 10,0
projhits = 1
velocity = 0, 0
attr = S,HP
animtype = hard
damage = ceil(30*ifelse(var(31) > 0,.7,1)),10
hitflag = MAF
guardflag = M
pausetime = 3,3
sparkno = -1
guard.sparkno = -1
sparkky = -20,-70
hitsound = S4,3
guardsound = S1,3
ground.type = high
ground.slidetime = 5
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,-4
air.fall = 1

[State 3600]
type = projectile
trigger1 = AnimElem = 5
trigger2 = AnimElem = 18
projanim = 1053
projremovetime = 16
projhitanim = 1053
projremanim = 1053
projID = 3600
projpriority = 5
offset = 10,0
projhits = 1
velocity = 0, 0
attr = S,HP
animtype = hard
damage = ceil(30*ifelse(var(31) > 0,.7,1)),10
hitflag = MAF
guardflag = M
pausetime = 3,3
sparkno = -1
guard.sparkno = -1
sparkky = -20,-70
hitsound = S4,3
guardsound = S1,3
ground.type = high
ground.slidetime = 5
ground.hittime = 25
ground.velocity = 0,0
air.velocity = 0,-4
air.fall = 1

[State 3600]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3601
ctrl = 1
;--------------------------------とどめ
[Statedef 3601]
type    = S
movetype= A
physics = S
juggle  = 15
velset = 0,0
ctrl = 0
anim = 3601
sprpriority = 2

[State 3400]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 8

[State 3211]
type = Explod
trigger1 = AnimElem = 4
anim = 3212
id = 3601
pos = 38,-71
postype = p1
sprpriority = 3
bindtime = -1
removetime = 24

[State 3210]
type=HitDef
trigger1 = animelem = 6
attr=S,HA
damage=100,10
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MAF
priority=5,Hit
pausetime=12,10
guard.pausetime=10,10
sparkno = S700
guard.sparkno =S703
sparkxy=0,-85
hitsound=S4,3
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=15
ground.velocity=-6,-3
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-5,-3
air.hittime=12
envshake.time = 16
envshake.ampl = -4
envshake.freq = 90
fall = 1
fall.recover = 0

[State 3401]
type = Helper
trigger1 = time = [16,18]
trigger1 = movehit
trigger1 = numhelper(3601) = 0
helpertype = normal
stateno = 291
name = "score"
id      = 3601
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3601]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------MAXすごい烈風拳
[Statedef 3650]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3650
sprpriority = 2
poweradd = -2000

[State 3000, 1]
type = VarAdd
triggerall = time = 0
triggerall = var(31) > 0
trigger1 = var(3) = 1
trigger2 = var(3) = 2
trigger3 = var(3) = 3
var(31) = -1000

[State 3000]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 1
trigger2 = var(3) = 3
trigger3 = var(3) = 4
value = -1000

[State 3000]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 4
value = -1000

[State 3050]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 3|var(3) = 4
trigger1 = prevstateno = 1010|prevstateno = 1050|prevstateno = 1060
trigger2 = prevstateno = 1103|prevstateno = 1153|prevstateno = 1610
value = -1000

[State 3050]
type = playsnd
trigger1 = time = 1
value = 4, 28

[State 3600]
type = BGPalFX
trigger1 = Time = 0
time = 26
add = -255,-255,-255

[State 3400]
type = PlaySnd
trigger1 = AnimElem = 1
value = 4, 17

[State 3600]
type = superpause
trigger1 = time = 0
time = 25
anim = -1
pos = 0,-50
movetime = 25
darken = 0

[STate 3000]
type = Explod
trigger1 = time = 2
anim = 708
pos = -9,-100
sprpriority = -2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = time = 11
anim = 755
pos = -9,-100
sprpriority = 2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[State 3400]
type = PlaySnd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 24
trigger3 = AnimElem = 5
trigger4 = AnimElem = 18
value = 4, 25
volume = -100

[State 1000]
type = projectile
trigger1 = AnimElem = 5
trigger2 = AnimElem = 12
trigger3 = AnimElem = 18
trigger4 = AnimElem = 25
trigger5 = AnimElem = 31
trigger6 = AnimElem = 38
projanim = 1001
projremovetime = -1
projhitanim = 1055
projpriority = 5
projID = 3600
offset = 10,0
velocity = 5, 0
attr = S,HP
animtype = hard
damage = 40,5
guardflag = MA
pausetime = 3,3
sparkno = -1
guard.sparkno =-1
sparkky = 0,-100
hitsound = S4,8
guardsound = S1,3
ground.type = high
ground.slidetime = 15
ground.hittime = 27
ground.velocity = -5,0
air.velocity = -4.4,-5

[State 3600]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3651
ctrl = 1
;--------------------------------とどめ
[Statedef 3651]
type    = S
movetype= A
physics = S
juggle  = 15
velset = 0,0
ctrl = 0
anim = 3601
sprpriority = 2

[State 3400]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3, 8

[State 1610]
type = projectile
trigger1 = AnimElem = 4
projanim = 1052
projremovetime = -1
projhitanim = 1002
projID = 3651
projpriority = 7
offset = 10,0
velocity = 7, 0
attr = S,HP
animtype = diagup
damage = 75,10
guardflag = M
pausetime = 3,3
sparkno = -1
guard.sparkno = -1
sparkky = 20,-70
hitsound = S4,2
guardsound = S1,3
ground.type = high
ground.slidetime = 9
ground.hittime = 28
ground.velocity = -5,-6
air.velocity = -4.4,-5
air.juggle = 15
envshake.time = 20
envshake.ampl = 3
fall = 1
fall.recover = 0

[State 3601]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------SVCデッドリーレイブ
[Statedef 3700]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3700
sprpriority = 2
poweradd = 0

[State 3000, 1]
type = VarAdd
triggerall = time = 0
triggerall = var(31) > 0
trigger1 = var(3) = 1
trigger2 = var(3) = 2
trigger3 = var(3) = 3
var(31) = -1000

[State 3000]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 1
trigger2 = var(3) = 3
trigger3 = var(3) = 4
value = -1000

[State 3000]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 4
value = -1000

[State 3050]
type = PowerAdd
triggerall = time = 0
trigger1 = var(3) = 3|var(3) = 4
trigger1 = prevstateno = 1010|prevstateno = 1050|prevstateno = 1060
trigger2 = prevstateno = 1103|prevstateno = 1153
value = -1000

[State 3200]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 17

[State 3500];速度を与える
type = VelSet
trigger1 = Time > 26
x = 5

[State 3050]
type = BGPalFX
trigger1 = Time = 0
time = 26
add = -255,-255,-255

[State 3050]
type = superpause
trigger1 = time = 0
time = 25
anim = -1
pos = 20,-100
movetime = 25
darken = 0

[STate 3000]
type = Explod
trigger1 = time = 2
anim = 708
pos = 20,-100
sprpriority = -2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[STate 3000]
type = Explod
trigger1 = time = 11
anim = 755
pos = 20,-100
sprpriority = 2
postype = p1
ownpal = 1
supermove = 1
supermovetime = 25
ignorehitpause = 1

[State 3500]
type=HitDef
trigger1 = !movecontact
trigger1 = Time > 26
attr=S,HA
damage=25,0
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=7,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-10,-55
hitsound=S4,7
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=35
ground.velocity=0,0
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
p1stateno = 3702
p2stateno = 3704
envshake.time = 7
envshake.ampl = 1
kill = 0

[State 3500]
type = ChangeState
Trigger1 = Time = 70
value = 0
ctrl = 1

;-------------------ヒットせず
[Statedef 3701]
type=S
movetype=A
physics=S
juggle=15
velset=0,0
ctrl=0
sprpriority=2
anim=3701

[State 1101,7]
type=ChangeState 
trigger1=AnimTime=0
value=0
ctrl=1
;----------------------------------------ヒット〜初段
[Statedef 3702]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3702
sprpriority = 2

;[State 3501];速度を与える
;type = VelSet
;trigger1 = 1
;x = 2

[State 3501]
type=HitDef
trigger1 = AnimElem = 2
attr=S,HA
damage=25,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=5,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-22,-100
hitsound=S4,7
guardsound=S1,3
ground.type=high
ground.slidetime=10
ground.hittime=15
ground.velocity=0,0
envshake.time = 7
envshake.ampl = 1
kill = 0

[State 3501]
type=HitDef
trigger1 = AnimElem = 6
attr=S,HA
damage=25,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=5,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-22,-49
hitsound=S4,7
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=15
ground.velocity=0,0
envshake.time = 20
envshake.ampl = 3
kill = 0

[State 3501]
type=HitDef
trigger1 = AnimElem = 12
attr=S,HA
damage=25,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=5,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-42,-43
hitsound=S4,7
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=15
ground.velocity=0,0
envshake.time = 7
envshake.ampl = 1
kill = 0

[State 3501]
type=HitDef
trigger1 = AnimElem = 19
attr=S,HA
damage=25,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=5,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-17,-119
hitsound=S4,7
guardsound=S1,3
ground.type=high
ground.slidetime=10
ground.hittime=25
ground.velocity=0,0
envshake.time = 7
envshake.ampl = 1
kill = 0

[State 3501]
type=HitDef
trigger1 = AnimElem = 28
attr=S,HA
damage=25,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=5,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-25,-61
hitsound=S4,7
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=15
ground.velocity=0,0
envshake.time = 7
envshake.ampl = 1
kill = 0

[State 3501]
type=HitDef
trigger1 = AnimElem = 31
attr=S,HA
damage=25,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=5,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-31,-5
hitsound=S4,7
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=15
ground.velocity=0,0
envshake.time = 7
envshake.ampl = 1
kill = 0

[State 3501]
type=HitDef
trigger1 = AnimElem = 36
attr=S,HA
damage=25,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=5,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-13,-94
hitsound=S4,7
guardsound=S1,3
ground.type=high
ground.slidetime=10
ground.hittime=25
ground.velocity=0,0
envshake.time = 7
envshake.ampl = 1
kill = 0

[State 3501]
type=HitDef
trigger1 = AnimElem = 44
attr=S,HA
damage=25,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=5,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-25,-77
hitsound=S4,7
guardsound=S1,3
ground.type=high
ground.slidetime=10
ground.hittime=15
ground.velocity=0,0
envshake.time = 7
envshake.ampl = 1
kill = 0

[State 3501]
type=HitDef
trigger1 = AnimElem = 48
attr=S,HA
damage=25,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=5,8
guard.pausetime=10,10
sparkno = S705
guard.sparkno =S703
sparkxy=-33,-70
hitsound=S4,7
guardsound=S1,3
ground.type=low
ground.slidetime=10
ground.hittime=55
ground.velocity=0,0
envshake.time = 7
envshake.ampl = 1
kill = 0


[State 3501]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3703
ctrl = 0
;---------------------------ラスト
[Statedef 3703]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3509
sprpriority = 2

[State 3401]
type = Helper
trigger1 = AnimElem = 4
helpertype = normal
stateno = 3510
name = "3510"
id      = 3510
postype = p1
pos = 56,-76
keyctrl = 0
ownpal = 1

[State 3509]
type = PlaySnd
trigger1 = time = 0
value = 2,3

[State 3509]
type=HitDef
trigger1 = animelem = 5
attr=S,HA
damage=90,5
getpower=0,0
givepower = 15,10
animtype=hard
guardflag=M
hitflag=MA
priority=5,Hit
pausetime=12,8
guard.pausetime=10,10
sparkno = S700
guard.sparkno =S703
sparkxy=0,-85
hitsound=S4,2
guardsound=S1,3
ground.type=hard
ground.slidetime=10
ground.hittime=35
ground.velocity=-7,-3
airguard.velocity=-4.4,-4
air.type=High
air.velocity=-2,-3
air.hittime=12
envshake.time = 20
envshake.ampl = 3
fall = 1
fall.recover = 0
palfx.time = 20
palfx.add = 96,-84,-216
palfx.sinadd = 48,20,16,10
palfx.invertall = 1
palfx.color = 0

[State 3401]
type = Helper
trigger1 = time = [28,30]
trigger1 = movehit
trigger1 = numhelper(3705) = 0
helpertype = normal
stateno = 3705
name = "score"
id      = 3705
postype = left
pos = 0, 500
ignorehitpause = 1

[State 3509]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------相手くらい
[Statedef 3704]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 3

[State 3704]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3102]
type = ChangeAnim2
trigger1 = Time = 0
value = 3704

[State 3105]
type = SelfState
trigger1 = AnimTime = 0
value = 0
;--------------------------------点数加算
[Statedef 3705]
type = S
physics = N
movetype = I
anim = 201
sprpriority = 3
juggle = 15
ctrl = 0

[State 3000, 1]
type = parentVarAdd
trigger1 = time = 0
var(21) = 5000

[State 198] 
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 198]
type = destroyself
trigger1 = time = 45
:---------------------------------------------------------------------------
;空中やられから復活
[Statedef 5200]
type    = C
movetype= H
physics = N
anim = 5200
velset = -3,0


[State 5200]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5200]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5200]
type = Veladd
trigger1 = 1
x = .1

[State 5200]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------気絶
[Statedef 5300]
type    = S
movetype= H
physics = N
velset = 0,0
anim=5300
ctrl=0

[State 5300]
type = posset
trigger1 = time=0
y=0

[State 5300]
type = SelfState
trigger1 = time >= 140
value = 0


;---------------------------------------------------------------------------
; (Credit to ANMC, Bagaliao, and FlowaGirl for the basic helper method concept.)
;
;------------------
; AI Activation Helper State - Primary Version
; (Credit to YongMing for the basic HitPause bugfix concept.)
;
; var(1) - First tick button activation prevention.
; var(2) - Used for pause/superpause and custom state check, basically.
; var(3) - (Super/)Pause & custom state-triggered dir detection disabler.
; var(4) - Persistent direction command detection enabler (due to 2002.04.14).
; var(9) - AutoTurn bug fixer.
; parent's var(57) - Parent's GameTime var, for pause and custom state check.
; parent's var(58) - Parent's primary AI variable.
;
; The code in this state is mostly simply copy/pasteable.
; But if you're using different indices for the parent's variables,
; or if you change your character's basic commands' names, you'll
; of course need to change the code in this state accordingly.

[StateDef 9741]
type = S
movetype = I
physics = N
anim = 9741
ctrl = 0

[State 9741, Safety]; Just in case your opponent is very poorly coded.
type = SelfState
trigger1 = !IsHelper
value = 5050

[State 9741, UglyHack]
type = VarSet
trigger1 = !var(1)
var(2) = 2

[State 9741, PauseCheck]
type = VarSet
trigger1 = GameTime > Parent,var(57)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2
trigger4 = Parent,var(58)
trigger5 = var(3):=0
var(2) = (var(3):=1)+(var(4):=0)

[State 9741, Facing]
type = Turn
trigger1 = var(9):=(Facing != Parent,Facing)
trigger1 = !(var(4):=0)

[State 9741, DirTurnOnAI]
type = ParentVarSet
triggerall = !(var(3) || var(9))
trigger1 = Parent,command = "holdfwd"
trigger2 = Parent,command = "holdback"
trigger3 = Parent,command = "holdup"
trigger4 = Parent,command = "holddown"
trigger5 = !(var(4):=1)
var(58) = var(4)

[State 9741, DirTurnOffAI]
type = ParentVarSet
triggerall = !var(3)
triggerall = Parent,var(58)
trigger1 = command = "holdfwd"
trigger1 = Parent,command = "holdfwd"
trigger2 = command = "holdback"
trigger2 = Parent,command = "holdback"
trigger3 = command = "holdup"
trigger3 = Parent,command = "holdup"
trigger4 = command = "holddown"
trigger4 = Parent,command = "holddown"
var(58) = var(4):=0

[State 9741, ButtonTurnOnAI]
type = ParentVarSet
triggerall = !var(2)
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
var(58) = 1

[State 9741, ButtonTurnOffAI]
type = ParentVarSet
triggerall = !var(2)
trigger1 = command = "a"
trigger1 = Parent,command = "a"
trigger2 = command = "b"
trigger2 = Parent,command = "b"
trigger3 = command = "c"
trigger3 = Parent,command = "c"
trigger4 = command = "x"
trigger4 = Parent,command = "x"
trigger5 = command = "y"
trigger5 = Parent,command = "y"
trigger6 = command = "z"
trigger6 = Parent,command = "z"
trigger7 = command = "start"
trigger7 = Parent,command = "start"
var(58) = -1

[State 9741, UnPauseCheck]
type = VarSet
triggerall = var(2)
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
trigger8 = var(2) = 2
trigger8 = var(2):=0
var(2) = 2

[State 9741, Goodbye]
type = DestroySelf
triggerall = var(1):=1
trigger1 = Parent,var(58)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2


;------------------
; AI Activation Helper State - Compatibly Partnered Version
;
; var(1) - First tick activation prevention
; var(2) - Used for pause/superpause and custom state check, basically.
; var(3) - (Super/)Pause & custom state-triggered dir detection disabler.
; var(4) - Hitpause check.
; var(5) - No button on previous tick.
; var(6) - Any dir on this tick.
; var(7) - Any button on this tick.
; var(8) - Matching partner button detected.
; var(9) - AutoTurn bug fixer.
; var(10)- Buffered dir detection disabler.
; parent's var(57) - Parent's GameTime var, for pause and custom state check.
; parent's var(58) - Parent's primary AI variable.
;
; The code in this state is mostly simply copy/pasteable.
; But if you're using different indices for the parent's variables,
; or if you change your character's basic commands' names, you'll
; of course need to change the code in this state accordingly.

[StateDef 9742]
type = S
movetype = I
physics = N
anim = 9741
ctrl = 0

[State 9742, Safety]; Just in case your opponent is very poorly coded.
type = SelfState
trigger1 = !IsHelper
value = 5050

[State 9742, UglyHack]
type = VarSet
trigger1 = !var(1)
var(2) = var(3):=2

[State 9742, PauseCheck]
type = VarSet
trigger1 = GameTime > Parent,var(57)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2
trigger4 = Parent,var(58)
trigger5 = var(1)
trigger5 = var(3):=0
var(2) = var(3):=1

[State 9742, Facing]
type = Turn
trigger1 = var(9):=(Facing != Parent,Facing)

[State 9742, ParentDirCheck]
type = VarSet
trigger1 = Parent,command = "holdfwd"
trigger2 = Parent,command = "holdback"
trigger3 = Parent,command = "holdup"
trigger4 = Parent,command = "holddown"
trigger5 = var(6):=0
var(6) = 1

[State 9742, BufferCheck]
type = VarSet
trigger1 = var(3) || var(4) || var(10)
var(10) = var(6)

[State 9742, ParentButtonCheck]
type = VarSet
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
trigger8 = var(7):=0
var(7) = 1

[State 9742, SameButtonCheck]
type = VarSet
triggerall = var(7)
triggerall = !var(2)
triggerall = NumPartner
trigger1 = Parent,command = "a"
trigger1 = Partner,command = "a"
trigger2 = Parent,command = "b"
trigger2 = Partner,command = "b"
trigger3 = Parent,command = "c"
trigger3 = Partner,command = "c"
trigger4 = Parent,command = "x"
trigger4 = Partner,command = "x"
trigger5 = Parent,command = "y"
trigger5 = Partner,command = "y"
trigger6 = Parent,command = "z"
trigger6 = Partner,command = "z"
trigger7 = Parent,command = "start"
trigger7 = Partner,command = "start"
trigger8 = var(8):=0
var(8) = 1

[State 9742, DirTurnOnAI]
type = ParentVarSet
trigger1 = var(6)
trigger1 = !(var(9) || var(10))
var(58) = 1

[State 9742, DirTurnOffAI]
type = ParentVarSet
triggerall = var(6)
triggerall = !var(3)
triggerall = Parent,var(58)
trigger1 = command = "holdfwd"
trigger1 = Parent,command = "holdfwd"
trigger2 = command = "holdback"
trigger2 = Parent,command = "holdback"
trigger3 = command = "holdup"
trigger3 = Parent,command = "holdup"
trigger4 = command = "holddown"
trigger4 = Parent,command = "holddown"
var(58) = 0

[State 9742, ButtonTurnOnAI]
type = ParentVarSet
trigger1 = var(5) && var(7)
trigger1 = !(var(2) || var(8))
var(58) = 1

[State 9742, ButtonTurnOffAI]
type = ParentVarSet
triggerall = var(7)
triggerall = !(var(2) || var(8))
trigger1 = command = "a"
trigger1 = Parent,command = "a"
trigger2 = command = "b"
trigger2 = Parent,command = "b"
trigger3 = command = "c"
trigger3 = Parent,command = "c"
trigger4 = command = "x"
trigger4 = Parent,command = "x"
trigger5 = command = "y"
trigger5 = Parent,command = "y"
trigger6 = command = "z"
trigger6 = Parent,command = "z"
trigger7 = command = "start"
trigger7 = Parent,command = "start"
var(58) = -1

[State 9742, UnPauseCheck]
type = VarSet
triggerall = var(2)
triggerall = !var(4)
trigger1 = var(7)
trigger2 = var(2) = 2
trigger2 = var(2):=0
var(2) = 2

[State 9742, Goodbye]
type = DestroySelf
trigger1 = Parent,var(58)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2

[State 9742, HitPauseCheck]
type = VarSet
trigger1 = var(6) || var(7)
trigger2 = !(Parent,HitPauseTime)
var(4) = Parent,HitPauseTime

[State 9742, Delay]
type = VarSet
trigger1 = var(1):=1
var(5) = !var(7)


;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------



[Statedef -2]


; Within StateDef -2, none of your own AI-related code should be placed
; above these next two controllers.

[State -2, StopAI]
type = VarSet
triggerall = var(58) > 0 && !IsHelper
trigger1 = RoundState != 2
trigger2 = !Alive
var(58) = -2
IgnoreHitPause = 1

; This controller is optional.  It allows you treat the AI flag as a boolean
; value rather than an integer value, letting you trigger your AI directives
; with "var(0)" instead of "var(58)>0", and letting you make moves usable only
; by humans by using "!var(0)" instead of "var(58)<1", thus slightly improving
; the size and efficiency of your code.
; Another benefit is that it makes it much easier for users to disable your AI,
; if they so choose.
[State -2, Simplifier]
type = VarSet
triggerall = !IsHelper
trigger1 = var(58) = 1
trigger2 = var(0):=0
var(0) = 1	; Another option is to replace 1 with something like MatchNo, if
		; you want to design your AI to have varying levels of difficulty.
IgnoreHitPause = 1

;---------------------------------------------------------------------------------
;IsHomeTeam Method
[State -2, StopAI]
type = VarSet
triggerall = var(58) > 0 && !IsHelper
trigger1 = RoundState != 2
trigger2 = !Alive
var(58) = 0
IgnoreHitPause = 1

;Part III ,paste this part at the botton of CNS file
;----------------------------------------------------------------------------
;state -2
;----------------------------------------------------------------------------
[State -3, 1]
type = varset
trigger1 = P2Name = "Terry Bogard" || P4Name = "Terry Bogard" 
trigger2 = P2Name = "Kim Kaphwan"  || P4Name = "Kim Kaphwan" 
trigger3 = P2Name = "Heidern" || P4Name = "Heidern"
trigger4 = P2Name = "Ryuji yamazaki" || P4Name = "Ryuji yamazaki"
trigger5 = P2Name = "Geese Howard" || P4Name = "Geese Howard" 
trigger6 = P2Name = "Kain R Heinlein" || P4Name = "Kain R Heinlein"
trigger7 = P2Name = "Orochi" || P4Name = "Orochi"
trigger8 = P2Name = "Goenitz"|| P4Name = "Goenitz"
trigger9 = P2Name = "Billy Kane 03 " || P4Name = "Billy Kane 03 "
trigger10 = P2Name = "Billy Kane" || P4Name = "Billy Kane"
trigger11 = P2Name = "Mr. Big" || P4Name = "Mr. Big"
trigger12 = P2Name = "Shiranui Mai" || P4Name = "Shiranui Mai"
trigger13 = P2Name = "Rock"   || P4Name = "Rock"  
trigger14 = P2Name = "Andy Bogard"   || P4Name = "Andy Bogard"
trigger15 = P2Name = "Joe Higashi"   || P4Name = "Joe Higashi"
trigger16 = P2Name = "Blue Mary"   || P4Name = "Blue Mary"
trigger17 = P2Name = "Takuma Sakazaki" || P4Name = "Takuma Sakazaki"
trigger18 = P2Name = "Tung Fu Rue"  || P4Name = "Tung Fu Rue"
var(4) = 1 ;<= change variable

;from StreetFighter(1)
[State -2, 3]
type = VarSet
trigger1 = P2Name = "Terry Bogard" || P4Name = "Terry Bogard" 
trigger2 = P2Name = "Kim Kaphwan"  || P4Name = "Kim Kaphwan" 
trigger3 = P2Name = "Heidern" || P4Name = "Heidern"
trigger4 = P2Name = "Ryuji yamazaki" || P4Name = "Ryuji yamazaki"
trigger5 = P2Name = "Geese Howard" || P4Name = "Geese Howard" 
trigger6 = P2Name = "Kain R Heinlein" || P4Name = "Kain R Heinlein"
trigger7 = P2Name = "Orochi" || P4Name = "Orochi"
trigger8 = P2Name = "Goenitz"|| P4Name = "Goenitz"
trigger9 = P2Name = "Billy Kane 03 " || P4Name = "Billy Kane 03 "
trigger10 = P2Name = "Billy Kane" || P4Name = "Billy Kane"
trigger11 = P2Name = "Mr. Big" || P4Name = "Mr. Big"
trigger12 = P2Name = "Shiranui Mai" || P4Name = "Shiranui Mai"
trigger13 = P2Name = "Rock"   || P4Name = "Rock"  
trigger14 = P2Name = "Andy Bogard"   || P4Name = "Andy Bogard"
trigger15 = P2Name = "Joe Higashi"   || P4Name = "Joe Higashi"
trigger16 = P2Name = "Blue Mary"   || P4Name = "Blue Mary"
trigger17 = P2Name = "Takuma Sakazaki" || P4Name = "Takuma Sakazaki"
trigger18 = P2Name = "Tung Fu Rue"  || P4Name = "Tung Fu Rue"
v = 4
value = 1 



;弱攻撃空振り音
[State -2]
type = PlaySnd
triggerall = time  = 1
trigger1 = stateno = 200|stateno = 210|stateno = 240|stateno = 250
trigger2 = stateno = 400|stateno = 410
value = 4, 12

;強攻撃空振り音
[State -2]
type = PlaySnd
triggerall = time  = 1
trigger1 = stateno = 220|stateno = 230|stateno = 260|stateno = 270
trigger2 = stateno = 280|stateno = 290|stateno = 420|stateno = 430
value = 4, 13

;弱攻撃うけた時
[State -2]
type = PlaySnd
triggerall = Random < 300
triggerall = Time = 0
trigger1 = anim = 5000
trigger2 = anim = 5001
trigger3 = anim = 5010
value = 3, 5

;中攻撃うけた時
[State -2]
type = PlaySnd
triggerall = Random < 300
triggerall = Time = 0
trigger1 = anim = 5001
trigger2 = anim = 5011
trigger3 = anim = 5021
value = 3, 5

;強攻撃
[State -2]
type = PlaySnd
triggerall = Random < 300
triggerall = Time = 0
trigger1 = anim = 5002
trigger2 = anim = 5012
trigger3 = anim = 5022
value = 3, 6



[State -2]
type = EnvColor
triggerall = movehit
trigger1 = stateno = [3500,3509]
value = 255,255,255
time = 0
ignorehitpause = 1
under = 1

========================================
========================================
;play snd when hit put in state -2 group
========================================
========================================

[State -2,PlaySnd]
type = PlaySnd
triggerall = Time = 1 && Alive
triggerall = StateNo = 5000 || StateNo = 5010
trigger1 = Anim = 5000 || Anim = 5010 || Anim = 5020
value = 5, IfElse((random=[0,333]),12,IfElse((random=[334,666]),12,12))
channel = 0

[State -2,PlaySnd]
type = PlaySnd
triggerall = Time = 1 && Alive
triggerall = StateNo = 5000 || StateNo = 5010
trigger1 = Anim = 5000 || Anim = 5010 || Anim = 5020
value = 3, IfElse((random=[0,333]),5,IfElse((random=[334,666]),5,5))
channel = 0

[State -2,PlaySnd]
type = PlaySND
triggerall = Alive
trigger1 = StateNo = 5000 && Time = 1
trigger1 = GetHitVar(fall)
trigger2 = StateNo = 5020 && Time = 1
trigger3 = StateNo = 5071 && Time = 1
value = 5,IfElse((random=[0,499]),12,12)
channel = 0

;------------------------死んだ時声
[State -2]
type = PlaySnd
trigger1 = Var(5) = 1
trigger1 = alive = 0
value = 2, 4


;-------------------------リカバリー
[State -2]
type = PlaySnd
triggerall = Time = 1
trigger1 = anim = 5200
trigger2 = anim = 5210
value = 3, 11




;-----------------------飛び道具ヒット時スロー
[State -2]
type = Pause
triggerall = p2movetype = H
triggerall = (p2statetype = S) || (p2statetype = C)
trigger1 = projhittime(1000) = [1,5]
trigger2 = projhittime(1600) = [1,5]
trigger3 = projhittime(1610) = [1,5]
trigger4 = projhit(1050) = 1
trigger5 = projhittime(3000) = [1,5]
trigger6 = projhittime(3600) = [1,2]
trigger7 = projhittime(1010) = [1,12]
trigger8 = var(2) = 2
trigger8 = projhittime(1060) = [0,2]
trigger9 = projhittime(1200) = [1,5]
time = 1
movetime = 0

[State -2]
type = Pause
triggerall = p2movetype = H
;triggerall = (p2statetype = S) || (p2statetype = C)
trigger1 = var(2) = 2
trigger1 = projhittime(1010) = [3,10]
time = 1
movetime = 0

[State -2];飛び道具ヒットエフェクト
type = Explod
triggerall = p2movetype = H
trigger1 = projhit1000 = 1
trigger2 = projhit1010 = 1
trigger3 = projhit1600 = 1
trigger4 = projhit1610 = 1
trigger5 = projhit3000 = 1
trigger6 = projhit3650 = 1
trigger7 = projhit1050 = 1
trigger8 = projhit1060 = 1
trigger9 = projhit3600 = 1
trigger10 = projhit3651 = 1
trigger11 = projhit3001 = 1
trigger12 = projhit3002 = 1
anim = ifelse(var(2) = 1|var(2) = 2,705,716)
pos = 0,-40
postype = p2
sprpriority = 2
bindtime = 10
ontop = 1

[State -2];飛び道具ガードエフェクト
type = Explod
triggerall = p2movetype = H
trigger1 = projGuarded1000 = 1
trigger2 = projGuarded1010 = 1
trigger3 = projGuarded1600 = 1
trigger4 = projGuarded1610 = 1
trigger5 = projGuarded3000 = 1
trigger6 = projGuarded3650 = 1
trigger7 = projGuarded1050 = 1
trigger8 = projGuarded1060 = 1
trigger9 = projGuarded3600 = 1
trigger10 = projGuarded3651 = 1
trigger11 = projGuarded3001 = 1
trigger12 = projGuarded3002 = 1
anim = 704
pos = 0,-30
postype = p2
sprpriority = 2
bindtime = 10
ontop = 1
;---------------------------------------extra
[State -2];ゲージ外枠1P
type = Explod
trigger1 = var(32) = 1
trigger1 = var(3) = 2
trigger1 = numexplod(7971) = 0
trigger1 = var(17) = 1
trigger1 = stateno != 2100
id = 7971
anim = 710
postype = left
pos = 20,70+var(6)
bindtime = -1
ownpal = 1
ontop = 0
removetime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
facing = 1
sprpriority = 4

[State -2];ゲージ外枠1P
type = Explod
trigger1 = var(32) = 1
trigger1 = var(3) = 2
trigger1 = numexplod(7972) = 0
trigger1 = var(17) = 1
trigger1 = stateno = 2100
id = 7972
anim = 711
postype = left
pos = 20,70+var(6)
bindtime = -1
ownpal = 1
ontop = 0
removetime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
facing = 1
sprpriority = 4

[State -2];ゲージ外枠2P
type = Explod
trigger1 = var(32) = 2
trigger1 = var(3) = 2
trigger1 = numexplod(7971) = 0
trigger1 = var(17) = 1
trigger1 = stateno != 2100
id = 7971
anim = 710
postype = left
pos = 300,70+var(6)
bindtime = -1
ownpal = 1
ontop = 0
removetime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
facing = -1
sprpriority = 4

[State -2];ゲージ外枠2P
type = Explod
trigger1 = var(32) = 2
trigger1 = var(3) = 2
trigger1 = numexplod(7972) = 0
trigger1 = var(17) = 1
trigger1 = stateno = 2100
id = 7972
anim = 711
postype = left
pos = 300,70+var(6)
bindtime = -1
ownpal = 1
ontop = 0
removetime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
facing = -1
sprpriority = 4

[State -2];ゲージ1P
type = Explod
trigger1 = var(32) = 1
trigger1 = var(3) = 2
trigger1 = numexplod(798) = 0
trigger1 = var(17) = 1
id = 798
anim = 713
postype = left
pos = 20,70+var(6)
bindtime = -1
ownpal = 1
ontop = 0
removetime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
facing = 1
sprpriority = 4

[State 2500, 1]
type = Explod
trigger1 = var(32) = 2
trigger1 = var(3) = 2
trigger1 = numexplod(798) = 0
trigger1 = var(17) = 1
id = 798
anim = 713
postype = left
pos = 300,70+var(6)
bindtime = -1
ownpal = 1
ontop = 1
removetime = -1
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
facing = -1
sprpriority = 4

[State -2]
type = ModifyExplod
trigger1 = var(3) = 2
trigger1 = var(17) = 1
ID = 798
scale = (Var(16)) / 1000.0,1
ontop = 1
ignorehitpause = 1

[State -2];パワー溜めエフェクト消去
type = RemoveExplod
trigger1 = stateno != 2100
ID = 715

[State -2];type mode消去
type = RemoveExplod
trigger1 = RoundState = 2
ID = 1

[State -2];type mode消去
type = RemoveExplod
trigger1 = RoundState = 2
ID = 2

[State -2]
type = RemoveExplod
trigger1 = var(17) = 0
trigger2 = stateno != 2100
trigger3 = var(3) != 2
ID = 7972

[State -2]
type = RemoveExplod
trigger1 = var(17) = 0
trigger2 = stateno = 2100
trigger3 = var(3) != 2
ID = 7971

[State -2]
type = RemoveExplod
trigger1 = var(17) = 0
trigger2 = var(3) = 1|var(3) = 3|var(3) = 4
ID = 798

[State -2]
type = RemoveExplod
trigger1 = var(17) = 0
trigger2 = var(3) = 1|var(3) = 3|var(3) = 4
ID = 797

[State -2]
type = StopSnd
trigger1 = stateno != 2100
channel = 15


;----------------------------------------MAX関連

[State -2]
type = ModifyExplod
trigger1 = Var(31) != 0
ID = 714
scale = (Var(31)) / 1000.0,1
ontop = 1
ignorehitpause = 1

[State -2]
type = AttackMulSet
trigger1 = Var(3) = 2
trigger1 = Var(31) > 0
value = 1.25

[State -2]
type = AttackMulSet
trigger1 = Var(31) <= 0
value = 1

[State -2]
type = RemoveExplod
trigger1 = var(31) <= 0
ID = 714

[State -2]
type = RemoveExplod
trigger1 = var(31) <= 0
ID = 712

;------------------------------タイプチェンジ
[State -3]
type = PalFX
triggerall = (GameTime%2) = 0 
triggerall = stateno != [3000,4999]
trigger1 = Var(31) > 0 
trigger2 = var(3) = 2
trigger2 = life < 250
trigger2 = life > 0 
time = 1
add = 64,64,64
ignorehitpause = 1

[State -2]
type = RemoveExplod
trigger1 = movetype = H
ID = 3601
;-------------------------RUSHヒット調整

;----------------------------
[State -2]
type = AfterImageTime
trigger1 = MoveType = H
time = 0
;----------------------------
[State -2]
type = RemoveExplod
trigger1 = RoundState != 1
ID = 12

[State -2]
type = RemoveExplod
trigger1 = RoundState != 1
ID = 13

[State -3]
type = PlaySnd
triggerall = numhelper(196) = 1
trigger1 = var(2) = 2|var(3) = 2
trigger1 = command = "B"
trigger2 = var(2) = 3|var(3) = 3
trigger2 = command = "F"
trigger3 = var(2) = 2|var(3) = 2
trigger3 = command = "F"
trigger4 = var(2) = 1|var(3) = 1
trigger4 = command = "F"
trigger5 = var(2) = 3|var(3) = 3
trigger5 = command = "B"
trigger6 = var(2) = 4|var(3) = 4
trigger6 = command = "B"
value = 4,16

;------------------------------カウンター処理

[State 1000]
type = AssertSpecial
trigger1 = Var(34) > 0 
flag = nojugglecheck

[State 190];カウンターヒット！
type = varset
triggerall = numexplod(753) = 0
triggerall = Var(35) = 1 
triggerall = Var(34) <= 0 
triggerall = movehit
;triggerall = movehit
trigger1 = stateno < 800
trigger2 = stateno = [1000,1200]
trigger3 = stateno >= 1400
v = 34
value = 25

[State 190];
type = varadd
;trigger1 = numexplod(753) = 0
triggerall = Var(34) > 0 
trigger1 = stateno != [3000,3050]
v = 34
value = -1


[State -2];カウンター表示1P
type = Explod
trigger1 = numexplod(753) = 0
trigger1 = Var(34) > 0 
;trigger1 = movehit
id = 753
anim = 753
postype = left
pos = ifelse(teamside = 1,40,280),80
bindtime = -1
ownpal = 1
ontop = 0
pausemovetime = -1
supermovetime = -1
ignorehitpause = 1
facing = 1
sprpriority = 4

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = 1, 2


[State -3, TurnBackOnAI]
type = VarSet
trigger1 = var(58) = -2 && !IsHelper
trigger1 = Alive && RoundState = 2
var(58) = 1

; It is very important that this controller NOT be moved to State -2.
[State -3, CPU]
type = VarSet
triggerall = var(58)!=1 && !IsHelper
triggerall = !var(56)
triggerall = var(57) = GameTime-1
trigger1 = command = "cpu1"
trigger2 = command = "cpu2"
trigger3 = command = "cpu3"
trigger4 = command = "cpu4"
trigger5 = command = "cpu5"
trigger6 = command = "cpu6"
trigger7 = command = "cpu7"
trigger8 = command = "cpu8"
trigger9 = command = "cpu9"
trigger10 = command = "cpu0"
; Add more as desired.  (See above.)
var(58) = 1

; These next two controllers must be placed here, after the above CPU
; VarSet controller and before the below GameTime VarSet controller.
[State -3, Reset]
type = VarAdd
trigger1 = var(56) > 0 && !IsHelper
var(56) = -1

[State -3, Delay]
type = VarSet
trigger1 = var(57) < GameTime-1 && !IsHelper
var(56) = 31
IgnoreHitPause = 1

; It is very important that this controller NOT be moved to State -2, as putting
; it there would defeat the entire purpose of the controller, allowing the CPU
; VarSet above to erroneously set the AI variable.
; And within State -3, don't put any ChangeState controllers before this
; controller, lest you unnecessarily delay your character's AI activation.
[State -3, GameTimeVar]
type = VarSet
trigger1 = !IsHelper
var(57) = GameTime
IgnoreHitPause = 1

; Within StateDef -3, none of your own AI-related code should come after the code
; provided here (and putting it before the code is also generally a bad idea).
; It's better to use State -1 (or, in special circumstances, State -2) instead.

;---------------------------------------------------------------------------------
; Kamek and Luchini appear to have been the first ones to use the IsHomeTeam AI
; activation concept.
; For slightly better efficiency, feel free to move this controller to State 0
; and set persistent = 0.
[State -3, SetAI]
type = VarSet
triggerall = Alive && RoundState = 2
triggerall = IsHomeTeam && !IsHelper
trigger1 = TeamSide = 2
trigger2 = MatchNo > 1
var(58) = 1

; Within StateDef -3, none of your own AI-related code should come after the SetAI
; controller (and putting it before this controller is also generally a bad idea).
; It's better to use State -1 (or, in special circumstances, State -2) instead.

;---------------------------------------------------------------------------------
;
[State -3, AI Helper - Compatibly Partnered Version]
type = Helper
trigger1 = !var(58) && !IsHelper
trigger1 = !NumHelper(9742)
trigger1 = Alive && RoundState = 2
trigger1 = NumPartner
trigger1 = Partner,SelfAnimExist(9741)
HelperType = normal
name = "AI Helper (Simul Version)"
ID = 9742
pos = 9999999,99999
StateNo = 9742
KeyCtrl = 1
PauseMoveTime = 2147483647
SuperMoveTime = 2147483647

; If you want to use the Guard mode, Dummy mode, Distance, or Button jam dummy
; control options in Training mode without activating the dummy's AI while
; working on the character, then all you need to do is temporarily disable
; this controller.  Or, if you want to permanently disable this controller in
; Training mode, then you could use the Training mode detection code available
; from my site ( http://www.mugenguild.net/~winane/ ), and then just add a
; "(var(59)&63)>30" triggerall to this controller.
; Alternatively, you can just set "Dummy control" to "Manual", press a P2 button
; to kill the AI helper, and then set dummy control back to "Cooperative".  (In
; fact, setting dummy control to manual isn't even necessary, if you press the
; P2 button prior to the first time you pause.)
[State -3, AI Helper]
type = Helper
triggerall = !var(58) && !IsHelper
triggerall = !NumHelper(9741)
triggerall = Alive && RoundState = 2
trigger1 = !NumPartner
trigger2 = !(Partner,SelfAnimExist(9741))
HelperType = normal
name = "AI Helper"
ID = 9741
pos = 9999999,99999
StateNo = 9741
KeyCtrl = 1
PauseMoveTime = 2147483647
SuperMoveTime = 2147483647

[State -3, TurnBackOnAI]
type = VarSet
trigger1 = var(58) = -2 && !IsHelper
trigger1 = Alive && RoundState = 2
var(58) = 1

; It is very important that this controller NOT be moved to State -2, as putting
; it there would defeat the entire purpose of the controller, allowing the
; helper method to erroneously set the AI variable.
; And within State -3, don't put any ChangeState controllers before this
; controller, lest you unnecessarily delay your character's AI activation.
[State -3, GameTimeVar]
type = VarSet
trigger1 = !IsHelper
var(57) = GameTime
IgnoreHitPause = 1

; Within StateDef -3, none of your own AI-related code should come after the code
; provided here (and putting it before the code is also generally a bad idea).
; It's better to use State -1 (or, in special circumstances, State -2) instead.

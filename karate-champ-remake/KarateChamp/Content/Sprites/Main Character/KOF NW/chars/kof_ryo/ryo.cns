;================================================
; Constants and state file for Ryo Sakazaki
;================================================

[Data]
life = 1000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 256
IntPersistIndex = 1,6
FloatPersistIndex =

[Size]
xscale = 1
yscale = 1
ground.back = 18
ground.front = 18
air.back = 10
air.front = 15
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5, -90
mid.pos = -5, -60
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 3
walk.back = -3
run.fwd  = 5.5, 0
run.back = -8,-4
jump.neu = 0,-7.3
jump.back = -3
jump.fwd = 3
runjump.back = 0,0
runjump.fwd = 0,0
airjump.neu = 0,0
airjump.back = 0
airjump.fwd = 0

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .45
stand.friction = .85
crouch.friction = .82
;---------------------------------------------------------------------------
; Var(1)  - モード
; Var(2)  - ジャンプフラグ
; Var(3)  - 汎用
; Var(4)  - スローモーション時間
; Var(5)  - 画面暗転フラグ
; FVar(1) - 
;---------------------------------------------------------------------------
; 勝利ポーズ分岐
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = var(6)
value = 183

[State 180, 1]
type = varrandom
trigger1 = 1
v = 59
range = 0,4

[State 180, 1]
type = ChangeState
trigger1 = 1
value = ifelse(var(59)<2,181+var(59),182+var(59))
;---------------------------------------------------------------------------
; 勝利ポーズ1
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time < 150
flag = roundnotover

[State 181, 1]
type = PlaySnd
trigger1 = AnimElem = 11
value = 300,19
;---------------------------------------------------------------------------
; 勝利ポーズ2
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, 1]
type = AssertSpecial
trigger1 = Time < 200
flag = roundnotover

[State 182, 1]
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 20
value = 200,1

[State 182, 1]
type = PlaySnd
trigger1 = AnimElem = 32
value = 300,19
;---------------------------------------------------------------------------
; 勝利ポーズ3(極限流用)
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 183, 1]
type = AssertSpecial
trigger1 = Time < 200
flag = roundnotover

[State 183, 1]
type = PlaySnd
trigger1 = AnimElem = 24
value = 300,19
;---------------------------------------------------------------------------
; 勝利ポーズ4
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 184, 1]
type = AssertSpecial
trigger1 = Time < 200
flag = roundnotover

[State 184, 1]
type = PlaySnd
trigger1 = AnimElem = 13
value = 300,20
;---------------------------------------------------------------------------
; 勝利ポーズ5
[Statedef 185]
type = S
ctrl = 0
anim = 185
velset = 0,0

[State 185, 1]
type = AssertSpecial
trigger1 = Time < 200
flag = roundnotover
;---------------------------------------------------------------------------
; 勝利ポーズ6
[Statedef 186]
type = S
ctrl = 0
anim = 186
velset = 0,0

[State 186, 1]
type = AssertSpecial
trigger1 = Time < 200
flag = roundnotover

[State 186, 1]
type = PlaySnd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 14
trigger3 = AnimElem = 23
value = 200,1

[State 186, 1]
type = PlaySnd
trigger1 = AnimElem = 32
value = 300,19
;---------------------------------------------------------------------------
; イントロ分岐
[Statedef 190]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State 190, 3]
type = VarSet
trigger1 = palno = [7,12]
var(1) = 1

[State 190, 3]
type = varset
trigger1 = p2Name = "Robert Garcia" || p4Name = "Robert Garcia"
trigger2 = p2Name = "Robert" || p4Name = "Robert"
trigger3 = p2Name = "Yuri Sakazaki" || p4Name = "Yuri Sakazaki"
trigger4 = p2Name = "Yuri" || p4Name = "Yuri"
trigger5 = p2Name = "Takuma Sakazaki" || p4Name = "Takuma Sakazaki"
trigger6 = p2Name = "Takuma" || p4Name = "Takuma"
trigger7 = p2Name = "Marco Rodriguez" || p4Name = "Marco Rodriguez"
trigger8 = p2Name = "Marco" || p4Name = "Marco"
trigger9 = p2Name = "Yuri98" || p4Name = "Yuri98"
var(6) = 1

[State 190, 3]
type = ChangeState
trigger1 = var(6)
value = 192

[State 190, 3]
type = ChangeState
trigger1 = p2Name = "King" || p4Name = "King"
trigger2 = p2Name = "DKing" || p4Name = "DKing"
value = 194

[State 190, 3]
type = ChangeState
trigger1 = 1
value = ifelse(random%10<7,191,193)
;---------------------------------------------------------------------------
; イントロ-1
[Statedef 191]
type = S
ctrl = 0
anim = 191
velset = 0,0

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 191, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 300,18

[State 191, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; イントロ-2(VS極限流)
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 192, 1]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 192, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 300,19

[State 192, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; イントロ-3('98)
[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 193, 1]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 193, 1]
type = PlaySnd
trigger1 = AnimElem = 8
value = 200,11

[State 193, 1]
type = Explod
trigger1 = AnimElem = 3
anim = 6070
pos = -40,-30
vel = -6,-3
accel = 0,.45
ownpal = 1

[State 193, 1]
type = Explod
trigger1 = AnimElem = 8
anim = 6071
pos = -55,-15
vel = -6,-3
accel = 0,.45
ownpal = 1

[State 193, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; イントロ-4(VSキング)
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 194, 1]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 194, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; イントロ-4(VS2K1キング)
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0

[State 195, 1]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; 通常技
;---------------------------------------------------------------------------

; 遠距離立ち弱P
[Statedef 200]
type = S
movetype = A
physics = S
anim = 200
velset = 0
ctrl = 0
juggle = 8

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 60,0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = S8000
guard.sparkno = S8060
sparkxy = -5, -85
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3

[State 200, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 近距離立ち弱P
[Statedef 205]
type = S
movetype = A
physics = S
anim = 205
velset = 0
ctrl = 0
juggle = 8

[State 205, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 55,0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = S8000
guard.sparkno = S8060
sparkxy = -5, -80
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3

[State 205, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 遠距離立ち強P
[Statedef 210]
type = S
movetype = A
physics = S
anim = 210
velset = 0
ctrl = 0
juggle = 8

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 120,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -5, -55
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4,-3

[State 210, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 近距離立ち強P
[Statedef 215]
type = S
movetype = A
physics = S
anim = 215
velset = 0
ctrl = 0
juggle = 8

[State 215, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 100,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -5, -55
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4,-3

[State 215, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 遠距離立ち弱K
[Statedef 220]
type = S
movetype = A
physics = S
anim = 220
velset = 0
ctrl = 0
juggle = 8

[State 220, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 50,0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = S8000
guard.sparkno = S8060
sparkxy = -10, -80
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3

[State 220, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 近距離立ち弱K
[Statedef 225]
type = S
movetype = A
physics = S
anim = 225
velset = 0
ctrl = 0
juggle = 8

[State 225, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 50,0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = S8000
guard.sparkno = S8060
sparkxy = -10, -85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3

[State 225, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 遠距離立ち強K
[Statedef 230]
type = S
movetype = A
physics = S
anim = 230
velset = 0
ctrl = 0
juggle = 8

[State 230, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
damage = 100,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -10, -80
hitsound = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4,-3

[State 230, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 近距離立ち強K
[Statedef 235]
type = S
movetype = A
physics = S
anim = 235
velset = 0
ctrl = 0
juggle = 8

[State 235, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 100,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -5, -30
hitsound = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4,-3

[State 235, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 遠距離立ち強P'98
[Statedef 240]
type = S
movetype = A
physics = S
anim = 240
velset = 0
ctrl = 0
juggle = 8

[State 240, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 120,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -5, -75
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4,-3

[State 240, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 遠距離立ち弱K'98
[Statedef 250]
type = S
movetype = A
physics = S
anim = 250
velset = 0
ctrl = 0
juggle = 8

[State 250, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 50,0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = S8000
guard.sparkno = S8060
sparkxy = -10, -85
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3

[State 250, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 屈み弱P
[Statedef 400]
type = C
movetype = A
physics = C
anim = 400
velset = 0
ctrl = 0
juggle = 8

[State 400, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 50,0
animtype = Light
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = S8000
guard.sparkno = S8060
sparkxy = -5, -60
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3

[State 400, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; 屈み強P
[Statedef 410]
type = C
movetype = A
physics = C
anim = 410
velset = 0
ctrl = 0
juggle = 8

[State 410, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 105,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -10, -70
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
air.velocity = -2,-5

[State 410, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; 屈み弱K
[Statedef 420]
type = C
movetype = A
physics = C
anim = 420
velset = 0
ctrl = 0
juggle = 8

[State 420, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 40,0
animtype = Light
guardflag = L
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = S8000
guard.sparkno = S8060
sparkxy = -5, -5
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -5
air.velocity = -4,-3

[State 420, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; 屈み強K
[Statedef 430]
type = C
movetype = A
physics = C
anim = 430
velset = 0
ctrl = 0
juggle = 12

[State 430, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage = 105,0
animtype = Hard
guardflag = L
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -10, 0
hitsound = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -3.5,-3
air.velocity = -3.5,-3
down.velocity = -3.5,-2
guard.velocity = -8
fall = 1

[State 430, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; ジャンプ弱P
[Statedef 600]
type = A
movetype = A
physics = A
anim = 600
ctrl = 0
juggle = 8

[State 600, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 40,0
animtype = Light
guardflag = HA
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = S8000
guard.sparkno = S8060
sparkxy = -10, -50
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6
air.velocity = -4,-3
;---------------------------------------------------------------------------
; 垂直ジャンプ弱P
[Statedef 605]
type = A
movetype = A
physics = A
anim = 605
ctrl = 0
juggle = 8

[State 605, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 50,0
animtype = Light
guardflag = HA
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = S8000
guard.sparkno = S8060
sparkxy = -10, -50
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6
air.velocity = -4,-3
;---------------------------------------------------------------------------
; ジャンプ強P
[Statedef 610]
type = A
movetype = A
physics = A
anim = 610
ctrl = 0
juggle = 8

[State 610, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
damage = 75,0
animtype = Hard
guardflag = HA
hitflag = MAF
getpower = 150,0
pausetime = 10,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -10, -50
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -6
air.velocity = -4,-3
guard.velocity = -10
;---------------------------------------------------------------------------
; 垂直ジャンプ強P
[Statedef 615]
type = A
movetype = A
physics = A
anim = 615
ctrl = 0
juggle = 8

[State 615, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
damage = 75,0
animtype = Hard
guardflag = HA
hitflag = MAF
getpower = 150,0
pausetime = 10,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -10, -80
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -6
air.velocity = -4,-3
guard.velocity = -10
;---------------------------------------------------------------------------
; ジャンプ弱K
[Statedef 620]
type = A
movetype = A
physics = A
anim = 620
ctrl = 0
juggle = 8

[State 620, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 35,0
animtype = Light
guardflag = HA
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = S8000
guard.sparkno = S8060
sparkxy = -10, -40
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6
air.velocity = -4,-3
;---------------------------------------------------------------------------
; 垂直ジャンプ弱K
[Statedef 625]
type = A
movetype = A
physics = A
anim = 625
ctrl = 0
juggle = 8

[State 625, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 40,0
animtype = Light
guardflag = HA
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = S8000
guard.sparkno = S8060
sparkxy = 0, -45
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 5
ground.hittime  = 10
ground.velocity = -6
air.velocity = -4,-3
;---------------------------------------------------------------------------
; ジャンプ強K
[Statedef 630]
type = A
movetype = A
physics = A
anim = 630
ctrl = 0
juggle = 8

[State 630, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 75,0
animtype = Hard
guardflag = HA
hitflag = MAF
getpower = 150,0
pausetime = 10,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -10, -40
hitsound = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -6
air.velocity = -4,-3
guard.velocity = -10
;---------------------------------------------------------------------------
; 垂直ジャンプ強K
[Statedef 635]
type = A
movetype = A
physics = A
anim = 635
ctrl = 0
juggle = 8

[State 635, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = A, NA
damage = 75,0
animtype = Hard
guardflag = HA
hitflag = MAF
getpower = 150,0
pausetime = 10,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -10, -70
hitsound = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -6
air.velocity = -4,-3
guard.velocity = -10

;---------------------------------------------------------------------------
; 特殊技、特殊動作
;---------------------------------------------------------------------------
; ふっとばし攻撃地上
[Statedef 300]
type = S
movetype = A
physics = S
anim = 300
velset = 0
ctrl = 0
juggle = 12

[State 300, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage = 125,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -10, -65
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4.5,-4
air.velocity = -4.5,-4
guard.velocity = -10
fall = 1

[State 300, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ふっとばし攻撃空中
[Statedef 310]
type = A
movetype = A
physics = A
anim = ifelse(var(1),310,315)
ctrl = 0
juggle = 8

[State 310, 1]
type = HitDef
trigger1 = anim = 315 && AnimElem = 5
trigger2 = anim = 310 && AnimElem = 4
attr = A, NA
damage = 120,0
animtype = Hard
guardflag = MA
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -10, -40
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4.5,-4
air.velocity = -4.5,-4
guard.velocity = -10
fall = 1
;---------------------------------------------------------------------------
; カウンター
[Statedef 320]
type = S
movetype = A
physics = S
anim = 320
velset = 0
ctrl = 0
juggle = 8

[State 320, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 120,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -10, -75
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4.5,-4

[State 320, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 氷柱割り
[Statedef 330]
type = S
movetype = A
physics = S
anim = 330
velset = 0
ctrl = 0
juggle = 8

[State 330, 1]
type = posadd
trigger1 = AnimElem = 4,= 1
x = 6

[State 330, 1]
type = posadd
trigger1 = AnimElem = 4,= 2
x = 4

[State 330, 1]
type = posadd
trigger1 = AnimElem = 4,= 3
x = 2

[State 330, 1]
type = HitDef
trigger1 = prevstateno != [200,430]
trigger1 = AnimElem = 5
attr = S, NA
damage = 85,0
animtype = Hard
guardflag = H
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -10, -30
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4.5,-4

[State 330, 1]
type = HitDef
trigger1 = prevstateno = [200,430]
trigger1 = AnimElem = 5
attr = S, NA
damage = 55,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8070
sparkxy = -10, -30
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4.5,-4

[State 330, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 上段受け
[Statedef 340]
type = S
movetype = A
physics = S
anim = 340
velset = 0
ctrl = 0

[State 340, 1]
type = ReversalDef
trigger1 = AnimElem = 5
reversal.attr = S,NA,SA,HA
pausetime = 12,12
sparkno = S8080
hitsound = S6,0
sprpriority = -1
numhits = 0

[State 340, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 下段受け
[Statedef 350]
type = S
movetype = A
physics = S
anim = 350
velset = 0
ctrl = 0

[State 350, 1]
type = posadd
trigger1 = AnimElem = 4,= 2
x = 4

[State 350, 1]
type = posadd
trigger1 = AnimElem = 6,= 1
trigger2 = AnimElem = 6,= 2
x = 2.5

[State 350, 1]
type = posadd
trigger1 = AnimElem = 6,= 3
trigger2 = AnimElem = 6,= 4
trigger3 = AnimElem = 6,= 5
x = 1

[State 350, 1]
type = ReversalDef
trigger1 = AnimElem = 5
reversal.attr = C,NA,SA,HA
pausetime = 12,12
sparkno = S8080
hitsound = S6,0
sprpriority = -1
numhits = 0

[State 350, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 攻撃避け
[Statedef 800]
type = S
movetype = I
physics = S
anim = 800
velset = 0
ctrl = 0
sprpriority = -1

[State 800, 1]
type = PlaySnd
trigger1 = Time = 1
value = 800,2
channel = 0

[State 800, 1]
type = NotHitBy
trigger1 = 1
value = ,NA,NP,SA,SP,HA,HP

[State 800, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 800, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 緊急回避･前
[Statedef 810]
type = S
movetype = I
physics = S
anim = 810
velset = 0
ctrl = 0
sprpriority = -1

[State 810, 1]
type = NotHitBy
trigger1 = AnimElem = 8,< 0
value = ,NA,NP,SA,SP,HA,HP

[State 810, 1]
type = AfterImage
trigger1 = Time = 0
time = 15
length = 10
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 810, 1]
type = PlayerPush
trigger1 = AnimElem = 8,< 0
value = 0

[State 810, 1]
type = posadd
trigger1 = AnimElem = 3,>= 0 && AnimElem = 8,< 0
x = 5

[State 810, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 緊急回避･後
[Statedef 815]
type = S
movetype = I
physics = S
anim = 815
velset = 0
ctrl = 0
sprpriority = -1

[State 815, 1]
type = NotHitBy
trigger1 = AnimElem = 8,< 0
value = ,NA,NP,SA,SP,HA,HP

[State 815, 1]
type = AfterImage
trigger1 = Time = 0
time = 15
length = 10
framegap = 3
trans = add1
palcontrast = 128,128,128
paladd = 0,0,0
palmul = 1,1,1

[State 815, 1]
type = PlayerPush
trigger1 = AnimElem = 8,< 0
value = 0

[State 815, 1]
type = posadd
trigger1 = AnimElem = 3,>= 0 && AnimElem = 8,< 0
x = -5

[State 815, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ガードキャンセルふっとばし攻撃
[Statedef 820]
type = S
movetype = A
physics = S
anim = 820
velset = 0
ctrl = 0
poweradd = -1000

[State 820, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 820, 1]
type = Pause
trigger1 = Time = 0
time = 4
movetime = 4

[State 820, 1]
type = AssertSpecial
trigger1 = Time < 5
flag = nobardisplay
flag = noBG
flag = noFG

[State 820, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 820, 1]
type = Explod
trigger1 = Time = 2
anim = 8130
pos = 0,-60
sprpriority = 5
pausemovetime = 4
shadow = 0
ownpal = 1

[State 820, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage = 0,0
animtype = Hard
guardflag =
hitflag = MAF
pausetime = 12,12
sparkno = S8010
guard.sparkno = S8030
sparkxy = -10, -50
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4.5,-4
air.velocity = -4.5,-4
fall = 1
fall.recover = 0

[State 820, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ガードキャンセル緊急回避･前
[Statedef 830]
type = S
movetype = I
physics = S
anim = 830
velset = 0
ctrl = 0
sprpriority = -1
poweradd = -1000

[State 830, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 830, 1]
type = AfterImage
trigger1 = Time = 0
time = 30
length = 12
framegap = 3
palcolor = 0
trans = add1
palbright = 96,96,128
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 830, 1]
type = Pause
trigger1 = Time = 0
time = 4
movetime = 4

[State 830, 1]
type = AssertSpecial
trigger1 = Time < 5
flag = nobardisplay
flag = noBG
flag = noFG

[State 830, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 830, 1]
type = Explod
trigger1 = Time = 2
anim = 8130
pos = 0,-60
sprpriority = 5
pausemovetime = 4
shadow = 0
ownpal = 1

[State 830, 1]
type = PlayerPush
trigger1 = AnimElem = 9,< 0
value = 0

[State 830, 1]
type = posadd
trigger1 = AnimElem = 4,>= 0 && AnimElem = 9,< 0
x = 5.5

[State 830, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ガードキャンセル緊急回避･後
[Statedef 835]
type = S
movetype = I
physics = S
anim = 835
velset = 0
ctrl = 0
sprpriority = -1
poweradd = -1000

[State 835, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 835, 1]
type = AfterImage
trigger1 = Time = 0
time = 30
length = 12
framegap = 3
palcolor = 0
trans = add1
palbright = 96,96,128
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 835, 1]
type = Pause
trigger1 = Time = 0
time = 4
movetime = 4

[State 835, 1]
type = AssertSpecial
trigger1 = Time < 5
flag = nobardisplay
flag = noBG
flag = noFG

[State 835, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 835, 1]
type = Explod
trigger1 = Time = 2
anim = 8130
pos = 0,-60
sprpriority = 5
pausemovetime = 4
shadow = 0
ownpal = 1

[State 835, 1]
type = PlayerPush
trigger1 = AnimElem = 9,< 0
value = 0

[State 835, 1]
type = posadd
trigger1 = AnimElem = 4,>= 0 && AnimElem = 9,< 0
x = -5.5

[State 835, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 挑発
[Statedef 840]
type = S
movetype = I
physics = S
anim = 840
velset = 0
ctrl = 0
poweradd = 200

[State 840, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 300,18

[State 840, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 谷落とし(掴み)
[Statedef 900]
type = S
movetype = A
physics = S
anim = 900
velset = 0
ctrl = 0

[State 900, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NT
guardflag =
hitflag = M-
sparkno = -1
sparkxy = 0, 0
priority = 5,dodge
p1stateno = 905
p2stateno = 9000
p2facing = 1

[State 900, 2]
type = ChangeState
trigger1 = Time = 1
value = 215
;---------------------------------------------------------------------------
; 谷落とし-1
[Statedef 905]
type = S
movetype = A
physics = N
anim = 905
velset = 0
sprpriority = 3
poweradd = 150

[State 905, 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,5

[State 905, 1]
type = PlaySnd
trigger1 = AnimElem = 8
value = 50,1

[State 905, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 300,15
channel = 0

[State 905, 1]
type = width
trigger1 = 1
value = 40,0

[State 905, 1]
type = Explod
trigger1 = AnimElem = 3
anim = 8040
pos = 30,-80
sprpriority = 2
ownpal = 1
shadow = 0

[State 905, 1]
type = StateTypeSet
trigger1 = AnimElem = 8
statetype = A

[State 905, 1]
type = velset
trigger1 = AnimElem = 8
x = 4
y = -5

[State 905, 1]
type = veladd
trigger1 = AnimElem = 8,> 0
y = .34

[State 905, 1]
type = sprpriority
trigger1 = AnimElem = 8
value = 0

[State 905, 1]
type = TargetBind
trigger1 = AnimElem = 3,< 0
pos = 30,0

[State 905, 1]
type = TargetBind
trigger1 = AnimElem = 3,>= 0 && AnimElem = 4,< 0
pos = 35,-60

[State 905, 1]
type = TargetBind
trigger1 = AnimElem = 4,>= 0 && AnimElem = 5,< 0
pos = 5,-60

[State 905, 1]
type = TargetBind
trigger1 = AnimElem = 5,>= 0 && AnimElem = 6,< 0
pos = -45,-70

[State 905, 1]
type = TargetBind
trigger1 = AnimElem = 6,>= 0 && AnimElem = 7,< 0
pos = -25,-70

[State 905, 1]
type = TargetBind
trigger1 = AnimElem = 7,>= 0 && AnimElem = 8,< 0
pos = -10,-70

[State 905, 1]
type = TargetBind
trigger1 = AnimElem = 8,>= 0 && AnimElem = 9,< 0
pos = 10,-70

[State 905, 1]
type = TargetBind
trigger1 = AnimElem = 9,>= 0 && AnimElem = 10,< 0
pos = 15,-45

[State 905, 1]
type = TargetBind
trigger1 = AnimElem = 10,>= 0
pos = 15,-20

[State 905, 1]
type = TargetState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 9001

[State 905, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 906
;---------------------------------------------------------------------------
; 谷落とし-2
[Statedef 906]
type = S
movetype = A
physics = S
anim = 906
velset = 0,0

[State 906, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 200,9

[State 906, 1]
type = Explod
trigger1 = AnimElem = 2
anim = 8090
pos = 15,5
sprpriority = 0
ownpal = 1
shadow = 0

[State 906, 1]
type = posset
trigger1 = AnimElem = 2
y = 0

[State 906, 1]
type = TargetBind
trigger1 = AnimElem = 2,< 0
pos = 15,-20

[State 906, 1]
type = TargetBind
trigger1 = AnimElem = 2,>= 0 && AnimElem = 3,< 0
pos = 60,0

[State 906, 1]
type = EnvShake
trigger1 = AnimElem = 2
time = 12
ampl = -8

[State 906, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 2
value = -70

[State 906, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 谷落とし-2(2P処理-1)
[Statedef 9000]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1

[State 9000, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9000

[State 9000, 2]
type = ScreenBound
trigger1 = 1
movecamera = 1,0
;---------------------------------------------------------------------------
; 谷落とし-2(2P処理-1)
[Statedef 9001]
type = A
movetype = H
physics = N

[State 9001, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9001

[State 9001, 4]
type = turn
trigger1 = AnimElem = 2

[State 9001, 4]
type = velset
trigger1 = AnimElem = 3
x = 4
y = -6

[State 9001, 4]
type = veladd
trigger1 = AnimElem = 3,> 0
y = .45

[State 9001, 5]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100
;---------------------------------------------------------------------------
; 巴投げ(掴み)
[Statedef 910]
type = S
movetype = A
physics = S
anim = 900
velset = 0
ctrl = 0
poweradd = 150

[State 910, 1]
type = HitDef
trigger1 = Time = 0
attr = S, NT
guardflag =
hitflag = M-
sparkno = -1
sparkxy = 0, 0
priority = 5,dodge
p1stateno = 915
p2stateno = 9010
p2facing = 1

[State 910, 2]
type = ChangeState
trigger1 = Time = 1
value = 235
;---------------------------------------------------------------------------
; 巴投げ
[Statedef 915]
type = S
movetype = A
physics = S
anim = 915
velset = 0
sprpriority = 2

[State 915, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 5,5

[State 915, 1]
type = PlaySnd
trigger1 = AnimElem = 5
value = 105,0

[State 915, 1]
type = PlaySnd
trigger1 = AnimElem = 4
value = 300,15
channel = 0

[State 915, 1]
type = width
trigger1 = AnimElem = 4
edge = 0,60

[State 905, 1]
type = Explod
trigger1 = AnimElem = 2
anim = 8040
pos = 25,-75
sprpriority = 2
ownpal = 1
shadow = 0

[State 915, 1]
type = posadd
trigger1 = AnimElem = 2,= 0
x = -15

[State 915, 1]
type = posadd
trigger1 = AnimElem = 3,= 0
x = -35

[State 915, 1]
type = posadd
trigger1 = AnimElem = 4,= 0
x = -30

[State 915, 1]
type = TargetBind
trigger1 = AnimElem = 2,< 0
pos = 35,0

[State 915, 1]
type = TargetBind
trigger1 = AnimElem = 2,>= 0 && AnimElem = 3,< 0
pos = 20,-90

[State 915, 1]
type = TargetBind
trigger1 = AnimElem = 3,>= 0 && AnimElem = 4,< 0
pos = 0,-70

[State 915, 1]
type = TargetBind
trigger1 = AnimElem = 4,>= 0 && AnimElem = 5,< 0
pos = -10,-45

[State 915, 1]
type = TargetBind
trigger1 = AnimElem = 5,>= 0 && AnimElem = 5,< 4
pos = -50,-45

[State 915, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 巴投げ(2P処理)
[Statedef 9010]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 0

[State 9010, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9010

[State 9010, 1]
type = ScreenBound
trigger1 = AnimElem = 6,< 4
movecamera = 1,0

[State 9010, 1]
type = velset
trigger1 = AnimElem = 6
x = 4
y = -6

[State 9010, 1]
type = veladd
trigger1 = AnimElem = 6,> 0
y = .45

[State 9010, 2]
type = LifeAdd
trigger1 = Pos Y >= -15 && Vel Y > 0
value = -70

[State 9010, 2]
type = SelfState
trigger1 = Pos Y >= -15 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
; 必殺技
;---------------------------------------------------------------------------

; 虎煌拳弱
[Statedef 1000]
type = S
movetype = A
physics = S
anim = 1000
velset = 0
ctrl = 0
poweradd = 100

[State 1000, 2]
type = posadd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 8
x = 5

[State 1000, 1]
type = Explod
trigger1 = Time = 0
anim = 6000
bindtime = -1
sprpriority = 5
ownpal = 1
id = 1000

[State 1000, 1]
type = Projectile
trigger1 = AnimElem = 6,= 1
attr = S, SP
damage = 100,12
animtype = Medium
guardflag = M
hitflag = MAF
getpower = 100,25
pausetime = 0,6
air.juggle = 4
sparkno = S8020
guard.sparkno = S8080
sparkxy = 0,-10
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 16
ground.velocity = -4.5,-6
air.velocity = -4.5,-6
guard.velocity = -8
fall = 1
fall.recover = 0
projid = 6010
projanim = 6010
projremanim = 6011
projremove = 0
projremovetime = 10
velocity = 3,0
offset = 70,-75

[State 1000, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 虎煌拳強
[Statedef 1005]
type = S
movetype = A
physics = S
anim = 1005
velset = 0
ctrl = 0
poweradd = 100

[State 1005, 2]
type = posadd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 7
trigger3 = AnimElem = 8
;trigger4 = AnimElem = 9
x = 5

[State 1005, 2]
type = posadd
trigger1 = AnimElem = 5,= 1
trigger2 = AnimElem = 5,= 2
trigger3 = AnimElem = 6
x = 8

[State 1005, 1]
type = Explod
trigger1 = AnimElem = 2
anim = 6005
bindtime = -1
sprpriority = 5
ownpal = 1
id = 1000

[State 1005, 1]
type = Projectile
trigger1 = AnimElem = 7
attr = S, SP
damage = 100,12
animtype = Medium
guardflag = M
hitflag = MAF
getpower = 100,25
pausetime = 0,12
air.juggle = 4
sparkno = S8020
guard.sparkno = S8080
sparkxy = 0, -10
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 16
ground.velocity = -4.5,-6
air.velocity = -4.5,-6
guard.velocity = -8
fall = 1
fall.recover = 0
projid = 6010
projanim = 6010
projremanim = 6011
projremove = 0
projremovetime = 10
velocity = 5,0
offset = 70,-75

[State 1005, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 虎咆弱-1
[Statedef 1010]
type = S
movetype = A
physics = N
anim = 1010
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1010,1]
type = NotHitBy
trigger1 = AnimElem = 3,<= 0
value = SCA

[State 1010, 2]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A

[State 1010, 2]
type = posadd
trigger1 = AnimElem = 4
x = 15

[State 1010, 2]
type = velset
trigger1 = AnimElem = 4
x = 1.5
y = -5

[State 1010, 2]
type = velmul
trigger1 = AnimElem = 4,> 0
trigger1 = AnimElem = 5,< 0
x = .93

[State 1010, 2]
type = velset
trigger1 = AnimElem = 5
x = 0

[State 1010, 2]
type = veladd
trigger1 = AnimElem = 4,> 0
y = .47

[State 1010, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 90,10
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 100,0
pausetime = 12,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -40
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -3,-6
air.velocity = -3,-6
fall = 1
fall.recover = 0

[State 1010, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = !movecontact
attr = A, SA
damage = 90,10
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 100,0
pausetime = 12,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -60
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -3,-6
air.velocity = -3,-6
guard.velocity = -8
fall = 1
fall.recover = 0

[State 1010, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1011
;---------------------------------------------------------------------------
; 虎咆強-1
[Statedef 1015]
type = S
movetype = A
physics = N
anim = 1015
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1015,1]
type = NotHitBy
trigger1 = AnimElem = 3,<= 0
value = SCA

[State 1015, 2]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A

[State 1015, 2]
type = posadd
trigger1 = AnimElem = 4
x = 15

[State 1015, 2]
type = velset
trigger1 = AnimElem = 4
x = 4
y = -7.5

[State 1015, 2]
type = velmul
trigger1 = AnimElem = 4,> 0
trigger1 = AnimElem = 5,< 0
x = .93

[State 1015, 2]
type = velset
trigger1 = AnimElem = 5
x = 0

[State 1015, 2]
type = veladd
trigger1 = AnimElem = 4,> 0
y = .47

[State 1015, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 70,9
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 12,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -90
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4,-5
guard.velocity = -8
air.fall = 1
fall.recover = 0

[State 1015, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
damage = 70,9
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 12,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -60
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -3,-6
air.velocity = -3,-6
guard.velocity = -8
fall = 1
fall.recover = 0

[State 1015, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1011

;---------------------------------------------------------------------------
; 虎咆-2
[Statedef 1011]
type = S
movetype = A
physics = S
anim = ifelse(prevstateno = 1010,1011,1016)
velset = 0,0

[State 1011, 2]
type = posset
trigger1 = Time = 0
y = 0

[State 1011, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 飛燕疾風脚弱-1
[Statedef 1020]
type = S
movetype = A
physics = N
anim = 1020
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1010, 2]
type = posadd
trigger1 = AnimElem = 3
x = 20

[State 1020, 2]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A

[State 1020, 2]
type = velset
trigger1 = AnimElem = 4
x = 4
y = -3

[State 1020, 2]
type = veladd
trigger1 = AnimElem = 4,> 0
y = .3

[State 1020, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
damage = 75,9
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 10,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -65
hitsound = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4,-5
guard.velocity = -8
air.fall = 1
fall.recover = 0

[State 1020, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = A, SA
damage = floor(70/2**hitcount)+5,9
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 10,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -65
hitsound = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4,-5
air.velocity = -4,-5
guard.velocity = -8
fall = 1
fall.recover = 0

[State 1020, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1021
;---------------------------------------------------------------------------
; 飛燕疾風脚強-1
[Statedef 1025]
type = S
movetype = A
physics = N
anim = 1025
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1015, 2]
type = posadd
trigger1 = AnimElem = 3
x = 20

[State 1025, 2]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A

[State 1025, 2]
type = velset
trigger1 = AnimElem = 4
x = 6
y = -4.5

[State 1025, 2]
type = veladd
trigger1 = AnimElem = 4,> 0
y = .3

[State 1025, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
damage = 55,7
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -65
hitsound = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4,-5
guard.velocity = -8
air.fall = 1
fall.recover = 0

[State 1025, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = A, SA
damage = 55,7
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -65
hitsound = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -10
air.velocity = -4,-5
guard.velocity = -8
air.fall = 1
fall.recover = 0

[State 1025, 1]
type = HitDef
trigger1 = AnimElem = 9
attr = A, SA
damage = 55,7
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 10,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -65
hitsound = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4,-5
air.velocity = -4,-5
guard.velocity = -8
fall = 1
fall.recover = 0

[State 1025, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1021
;---------------------------------------------------------------------------
; 飛燕疾風脚-2
[Statedef 1021]
type = S
movetype = A
physics = S
anim = ifelse(prevstateno = 1020,1021,1026)
velset = 0,0

[State 1021, 2]
type = posset
trigger1 = Time = 0
y = 0

[State 1021, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 雷神刹弱-1
[Statedef 1030]
type = S
movetype = A
physics = N
anim = 1030
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1030, 2]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A

[State 1030, 2]
type = velset
trigger1 = AnimElem = 2
x = 3
y = -5

[State 1030, 2]
type = veladd
trigger1 = AnimElem = 2,> 0
y = .38

[State 1030, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
damage = 120,15
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 100,0
pausetime = 10,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -75
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4,-4
air.velocity = -4,-4
guard.velocity = -8
fall = 1
fall.recover = 0

[State 1030, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger1 = !movecontact
attr = A, SA
damage = 120,15
animtype = DiagUp
guardflag = M
hitflag = MAF
getpower = 100,0
pausetime = 10,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -75
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = 0,12
air.velocity = -4,12
guard.velocity = -8
fall = 1
fall.recover = 0
fall.envshake.time = 12
fall.envshake.ampl = -6

[State 1030, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1031
;---------------------------------------------------------------------------
; 雷神刹強-1
[Statedef 1035]
type = S
movetype = A
physics = N
anim = 1035
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1035, 2]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A

[State 1035, 2]
type = velset
trigger1 = AnimElem = 2
x = 5
y = -5

[State 1035, 2]
type = veladd
trigger1 = AnimElem = 2,> 0
y = .38

[State 1030, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = A, SA
damage = 140,17
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 100,0
pausetime = 10,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -75
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -4,-4
air.velocity = -4,-4
guard.velocity = -8
fall = 1
fall.recover = 0

[State 1030, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger1 = !movecontact
attr = A, SA
damage = 140,17
animtype = DiagUp
guardflag = M
hitflag = MAF
getpower = 100,0
pausetime = 10,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -75
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = 0,12
air.velocity = -4,12
guard.velocity = -8
fall = 1
fall.recover = 0
fall.envshake.time = 12
fall.envshake.ampl = -6

[State 1035, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1031

;---------------------------------------------------------------------------
; 雷神刹-2
[Statedef 1031]
type = S
movetype = A
physics = S
anim = prevstateno + 1
velset = 0,0

[State 1031, 2]
type = posset
trigger1 = Time = 0
y = 0

[State 1031, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 虎咆疾風拳弱
[Statedef 1040]
type = S
movetype = A
physics = N
anim = 1040
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1040, 2]
type = posadd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
x = -25

[State 1040, 2]
type = velset
trigger1 = AnimElem = 8
x = 5.4

[State 1040, 2]
type = velset
trigger1 = AnimElem = 14
x = 0

[State 1040, 1]
type = HitDef
trigger1 = AnimElem = 11
attr = S, SA
damage = 105,13
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 6,8
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -40
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4,-5

[State 1040, 1]
type = HitDef
trigger1 = AnimElem = 13
attr = S, SA
damage = floor(100/2**hitcount)+5,13
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 6,14
sparkno = S8020
guard.sparkno = S8080
sparkxy = -10, -75
hitsound = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 28
ground.velocity = -12
air.velocity = -4,-5

[State 1040, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 虎咆疾風拳強
[Statedef 1045]
type = S
movetype = A
physics = N
anim = 1045
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1045, 2]
type = posadd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
x = -25

[State 1045, 2]
type = velset
trigger1 = AnimElem = 8
x = 5.4

[State 1045, 2]
type = velset
trigger1 = AnimElem = 14
x = 0

[State 1045, 1]
type = HitDef
trigger1 = AnimElem = 11
attr = S, SA
damage = 120,15
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 6,8
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -40
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4,12

[State 1045, 1]
type = HitDef
trigger1 = AnimElem = 13
attr = S, SA
damage = floor(115/2**hitcount)+5,15
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 6,14
sparkno = S8020
guard.sparkno = S8080
sparkxy = -10, -75
hitsound = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 28
ground.velocity = -12
air.velocity = -4,12

[State 1045, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 暫烈拳弱-1
[Statedef 1050]
type = S
movetype = A
physics = S
anim = 1050
velset = 0
ctrl = 0
juggle = 7
poweradd = 100

[State 1050, 1]
type = ReversalDef
trigger1 = AnimElem = 3,< 0
reversal.attr = SC,NA,SA,HA
pausetime = 12,12
sparkno = S8080
hitsound = S6,0
sprpriority = -1
numhits = 0

[State 1050, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
trigger6 = AnimElem = 20
trigger7 = AnimElem = 23
trigger8 = AnimElem = 26
attr = S, SA
damage = 0,8
animtype = Hard
guardflag = M
hitflag = MA
getpower = 100,0
priority = 5,miss
pausetime = 2,0
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -90
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
guard.velocity = -8
air.velocity = -4,-3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
p1stateno = 1051
p2stateno = 9020
p2facing = 1
snap = 30,0

[State 1050, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 暫烈拳弱-2
[Statedef 1051]
type = S
movetype = A
physics = S
anim = 1051
poweradd = 100

[State 1051, 1]
type = HitAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 7
trigger4 = AnimElem = 10
trigger5 = AnimElem = 13
trigger6 = AnimElem = 16
trigger7 = AnimElem = 19
trigger8 = AnimElem = 22
trigger9 = AnimElem = 25
trigger10= AnimElem = 28
trigger11= AnimElem = 31
value = 1

[State 1051, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 7
trigger4 = AnimElem = 10
trigger5 = AnimElem = 13
trigger6 = AnimElem = 16
trigger7 = AnimElem = 19
trigger8 = AnimElem = 22
trigger9 = AnimElem = 25
trigger10= AnimElem = 28
trigger11= AnimElem = 31
value = floor(-15/2**hitcount)-5
kill = 0

[State 1051, 1]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 7
trigger4 = AnimElem = 10
trigger5 = AnimElem = 13
trigger6 = AnimElem = 16
trigger7 = AnimElem = 19
trigger8 = AnimElem = 22
trigger9 = AnimElem = 25
trigger10= AnimElem = 28
trigger11= AnimElem = 31
value = 5,2

[State 1051, 1]
type = Explod
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 7
anim = 8020
pos = 35,-65
sprpriority = 5
ownpal = 1

[State 1051, 1]
type = Explod
trigger1 = AnimElem = 10
trigger2 = AnimElem = 13
trigger3 = AnimElem = 16
anim = 8020
pos = 35,-75
sprpriority = 5
ownpal = 1

[State 1051, 1]
type = Explod
trigger1 = AnimElem = 19
trigger2 = AnimElem = 22
trigger3 = AnimElem = 25
trigger4 = AnimElem = 28
trigger5 = AnimElem = 31
anim = 8020
pos = 35,-115
sprpriority = 5
ownpal = 1

[State 1051, 1]
type = HitDef
trigger1 = AnimElem = 38
attr = S, SA
damage = 50,0
animtype = Hard
guardflag =
hitflag = MAF
getpower = 150,0
pausetime = 21,21
sparkno = S8020
sparkxy = -5, -65
hitsound = S5,4
guardsound = S6,0
fall = 1
fall.recover = 0
envshake.ampl = -10
envshake.time = 24
p2stateno = 9021

[State 1051, 1]
type = VarSet
trigger1 = MoveHit
trigger1 = AnimElem = 38,>= 0
var(4) = 21
ignorehitpause = 1
persistent = 0

[State 1051, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 暫烈拳弱(P2)
[Statedef 9020]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 9020, 2]
type = ChangeAnim2
trigger1 = Time = 0
value = 9020

[State 9020, 2]
type = velset
trigger1 = Time = 2
y = -.42
;---------------------------------------------------------------------------
; 暫烈拳弱ワイヤーダメージ-1
[Statedef 9021]
type = A
movetype = H
physics = N
ctrl = 0
velset = 0,0

[State 9021, 1]
type = posadd
trigger1 = Time < 24
x = ifelse(time % 2,1,-1)

[State 9021, 1]
type = ChangeAnim
trigger1 = Time < 24
trigger1 = authorname = "mouser" && SelfAnimExist(5900)
value = 5900

[State 9021, 1]
type = ChangeAnim2
trigger1 = Time < 24
trigger1 = anim != 5900
value = 9021

[State 9021, 1]
type = velset
trigger1 = Time = 24
x = -16
y = -4

[State 9021, 1]
type = veladd
trigger1 = Time > 24
y = .4

[State 9021, 1]
type = ChangeState
trigger1 = Time > 24
trigger1 = BackEdgeDist < 15
value = 9022

[State 9021, 1]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100
;---------------------------------------------------------------------------
; 暫烈拳弱ワイヤーダメージ-2
[Statedef 9022]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 9022, 1]
type = ChangeAnim2
trigger1 = Time < 3
value = 9022

[State 9022, 1]
type = ChangeAnim
trigger1 = Time = 3
value = 5030

[State 9022, 1]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = anim = 5030
trigger1 = SelfAnimExist(5035)
value = 5035

[State 9022, 1]
type = ChangeAnim
triggerall = AnimTime = 0
trigger1 = anim = 5030
trigger1 = !SelfAnimExist(5035)
trigger2 = anim = 5035
value = 5050

[State 9022, 1]
type = turn
trigger1 = Time = 3

[State 9022, 1]
type = velset
trigger1 = Time = 3
x = -2.5
y = -8.5

[State 9022, 1]
type = veladd
trigger1 = Time > 3
y = .4

[State 9022, 2]
type = SelfState
trigger1 = Time > 3
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100
;---------------------------------------------------------------------------
; 暫烈拳強-1
[Statedef 1055]
type = S
movetype = A
physics = S
anim = 1055
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1055, 1]
type = ReversalDef
trigger1 = AnimElem = 3,< 0
reversal.attr = SC,NA,SA,HA
pausetime = 12,12
sparkno = S8080
hitsound = S6,0
sprpriority = -1
numhits = 0

[State 1055, 1]
type = HitDef
trigger1 = AnimElem = 5
trigger2 = AnimElem = 8
trigger3 = AnimElem = 11
trigger4 = AnimElem = 14
trigger5 = AnimElem = 17
trigger6 = AnimElem = 20
trigger7 = AnimElem = 23
trigger8 = AnimElem = 26
trigger9 = AnimElem = 29
trigger10= AnimElem = 32
trigger11= AnimElem = 35
trigger12= AnimElem = 38
trigger13= AnimElem = 41
trigger14= AnimElem = 44
trigger15= AnimElem = 47
trigger16= AnimElem = 50
attr = S, SA
damage = 0,8
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 100,0
pausetime = 2,0
priority = 5,miss
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -90
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
guard.velocity = -8
air.velocity = -4,-3
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = -8
p1stateno = 1056
p2stateno = 9020
p2facing = 1
snap = 30,0

[State 1055, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 暫烈拳強-2
[Statedef 1056]
type = S
movetype = A
physics = S
anim = 1056
poweradd = 100

[State 1056, 1]
type = HitAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 7
trigger4 = AnimElem = 10
trigger5 = AnimElem = 13
trigger6 = AnimElem = 16
trigger7 = AnimElem = 19
trigger8 = AnimElem = 22
trigger9 = AnimElem = 25
trigger10= AnimElem = 28
trigger11= AnimElem = 31
value = 1

[State 1056, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 7
trigger4 = AnimElem = 10
trigger5 = AnimElem = 13
trigger6 = AnimElem = 16
trigger7 = AnimElem = 19
trigger8 = AnimElem = 22
trigger9 = AnimElem = 25
trigger10= AnimElem = 28
trigger11= AnimElem = 31
value = floor(-15/2**hitcount)-5
kill = 0

[State 1056, 1]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 7
trigger4 = AnimElem = 10
trigger5 = AnimElem = 13
trigger6 = AnimElem = 16
trigger7 = AnimElem = 19
trigger8 = AnimElem = 22
trigger9 = AnimElem = 25
trigger10= AnimElem = 28
trigger11= AnimElem = 31
value = 5,2

[State 1056, 1]
type = Explod
trigger1 = AnimElem = 1
trigger2 = AnimElem = 4
trigger3 = AnimElem = 7
anim = 8020
pos = 35,-65
sprpriority = 5
ownpal = 1

[State 1056, 1]
type = Explod
trigger1 = AnimElem = 10
trigger2 = AnimElem = 13
trigger3 = AnimElem = 16
anim = 8020
pos = 35,-75
sprpriority = 5
ownpal = 1

[State 1056, 1]
type = Explod
trigger1 = AnimElem = 19
trigger2 = AnimElem = 22
trigger3 = AnimElem = 25
trigger4 = AnimElem = 28
trigger5 = AnimElem = 31
anim = 8020
pos = 35,-115
sprpriority = 5
ownpal = 1

[State 1056, 1]
type = HitDef
trigger1 = AnimElem = 38
attr = S, SA
damage = 50,0
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 21,21
sparkno = S8010
guard.sparkno = S8070
sparkxy = -5, -55
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
fall.recover = 0
envshake.time = 24
envshake.ampl = -10

[State 1056, 1]
type = VarSet
trigger1 = MoveHit
trigger1 = AnimElem = 38,>= 0
var(4) = 21
ignorehitpause = 1
persistent = 0

[State 1056, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 虎煌拳'98弱
[Statedef 1060]
type = S
movetype = A
physics = S
anim = 1060
velset = 0
ctrl = 0
poweradd = 100

[State 1060, 1]
type = Explod
trigger1 = AnimElem = 2
anim = 6020
bindtime = -1
sprpriority = 5
ownpal = 1
id = 1000

[State 1060, 1]
type = Projectile
trigger1 = AnimElem = 6,= 1
attr = S, SP
damage = 90,11
animtype = Medium
guardflag = M
hitflag = MAF
getpower = 100,25
pausetime = 0,12
air.juggle = 4
sparkno = S8020
guard.sparkno = S8080
sparkxy = 10, -5
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 16
ground.velocity = -8
air.velocity = -4,-4.5
guard.velocity = -8
projid = 6030
projanim = 6030
projhitanim = 6031
projremanim = -1
projcancelanim = 6031
velocity = 3.5,0
offset = 60,-75

[State 1060, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 虎煌拳'98強
[Statedef 1065]
type = S
movetype = A
physics = S
anim = 1065
velset = 0
ctrl = 0
poweradd = 100

[State 1065, 1]
type = Explod
trigger1 = AnimElem = 2
anim = 6020
bindtime = -1
sprpriority = 5
ownpal = 1
id = 1000

[State 1065, 1]
type = Projectile
trigger1 = AnimElem = 6,= 1
attr = S, SP
damage = 100,12
animtype = Medium
guardflag = M
hitflag = MAF
getpower = 100,25
pausetime = 0,12
air.juggle = 4
sparkno = S8020
guard.sparkno = S8080
sparkxy = 10, -5
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 16
ground.velocity = -8
air.velocity = -4,-4.5
guard.velocity = -8
projid = 6030
projanim = 6030
projhitanim = 6031
projremanim = -1
projcancelanim = 6031
velocity = 7,0
offset = 60,-75

[State 1065, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 空中虎煌拳弱-1
[Statedef 1070]
type = A
movetype = A
physics = N
anim = 1070
velset = 0,0
ctrl = 0
poweradd = 100

[State 1070, 1]
type = Gravity
trigger1 = AnimElem = 5,>= 0

[State 1070, 1]
type = Projectile
trigger1 = AnimElem = 4,= 1
attr = S, SP
damage = 90,11
animtype = Medium
guardflag = M
hitflag = MAF
getpower = 100,25
pausetime = 0,12
air.juggle = 4
sparkno = S8020
guard.sparkno = S8080
sparkxy = 10, -5
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 16
ground.velocity = -8
air.velocity = -4,-4.5
guard.velocity = -8
projid = 6040
projanim = 6040
projhitanim = 6031
projremanim = 6041
projcancelanim = 6031
velocity = 3.5,4
offset = 55,-60

[State 1070, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1071
;---------------------------------------------------------------------------
; 空中虎煌拳強-1
[Statedef 1075]
type = A
movetype = A
physics = N
anim = 1075
velset = 0,0
ctrl = 0
poweradd = 100

[State 1075, 1]
type = Gravity
trigger1 = AnimElem = 5,>= 0

[State 1075, 1]
type = Projectile
trigger1 = AnimElem = 4,= 1
attr = S, SP
damage = 90,11
animtype = Medium
guardflag = M
hitflag = MAF
getpower = 100,25
pausetime = 0,12
air.juggle = 4
sparkno = S8020
guard.sparkno = S8080
sparkxy = 10, -5
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 8
ground.hittime  = 16
ground.velocity = -8
air.velocity = -4,-4.5
guard.velocity = -8
projid = 6040
projanim = 6045
projhitanim = 6031
projremanim = 6041
projcancelanim = 6031
velocity = 4,5.5
offset = 55,-60

[State 1075, 2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1071
;---------------------------------------------------------------------------
; 空中虎煌拳-2
[Statedef 1071]
type = S
movetype = A
physics = S
anim = 1071
velset = 0,0

[State 1071, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 1071, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 虎咆'98弱-1
[Statedef 1080]
type = S
movetype = A
physics = N
anim = 1080
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1080,1]
type = NotHitBy
trigger1 = AnimElem = 4,<= 0
value = SCA

[State 1080, 2]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A

[State 1080, 2]
type = posadd
trigger1 = AnimElem = 4
x = 15

[State 1080, 2]
type = velset
trigger1 = AnimElem = 4
x = 1.5
y = -5

[State 1080, 2]
type = velmul
trigger1 = AnimElem = 4,> 0
trigger1 = AnimElem = 5,< 0
x = .93

[State 1080, 2]
type = velset
trigger1 = AnimElem = 5
x = 0

[State 1080, 2]
type = veladd
trigger1 = AnimElem = 4,> 0
y = .47

[State 1080, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = 90,11
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 100,0
pausetime = 12,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -40
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -3,-6
air.velocity = -3,-6
guard.velocity = -8
fall = 1
fall.recover = 0

[State 1080, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger1 = !movecontact
attr = A, SA
damage = 110,13
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 12,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -65
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -3,-6
air.velocity = -3,-6
guard.velocity = -8
fall = 1
fall.recover = 0

[State 1080, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1081
;---------------------------------------------------------------------------
; 虎咆'98強-1
[Statedef 1085]
type = S
movetype = A
physics = N
anim = 1085
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1085,1]
type = NotHitBy
trigger1 = AnimElem = 4,<= 0
value = SCA

[State 1085, 2]
type = StateTypeSet
trigger1 = AnimElem = 5
statetype = A

[State 1085, 2]
type = posadd
trigger1 = AnimElem = 5
x = 15

[State 1085, 2]
type = velset
trigger1 = AnimElem = 5
x = 4
y = -7.5

[State 1085, 2]
type = velmul
trigger1 = AnimElem = 5,> 0
trigger1 = AnimElem = 6,< 0
x = .93

[State 1085, 2]
type = velset
trigger1 = AnimElem = 6
x = 0

[State 1085, 2]
type = veladd
trigger1 = AnimElem = 5,> 0
y = .47

[State 1085, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 70,9
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 12,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -90
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4,-5
guard.velocity = -8
air.fall = 1
fall.recover = 0

[State 1085, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = A, SA
damage = 70,9
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 12,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -65
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -3,-6
air.velocity = -3,-6
guard.velocity = -8
fall = 1
fall.recover = 0

[State 1085, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1081
;---------------------------------------------------------------------------
; 虎咆'98-2
[Statedef 1081]
type = S
movetype = A
physics = S
anim = ifelse(prevstateno = 1080,1081,1086)
velset = 0,0

[State 1081, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 1081, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 雷神剛弱
[Statedef 1090]
type = S
movetype = A
physics = N
anim = 1090
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1090, 1]
type = varset
trigger1 = Time = 0
var(3) = 0

[State 1090, 1]
type = varset
trigger1 = command = "kohou_x" || command = "kohou_y"
trigger1 = AnimElem = 7,< 0
var(3) = 1

[State 1090, 1]
type = ReversalDef
trigger1 = AnimElem = 3,< 0
reversal.attr = SC,NA,SA,HA
pausetime = 12,12
sparkno = S8080
hitsound = S6,0
sprpriority = -1
numhits = 0

[State 1090, 1]
type = velset
trigger1 = AnimElem = 4
x = 10

[State 1090, 1]
type = velmul
trigger1 = AnimElem = 4,> 0
trigger1 = AnimElem = 8,< 0
x = .87

[State 1090, 1]
type = velset
trigger1 = AnimElem = 8
x = 0

[State 1090, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
damage = 55,7
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 8,10
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -40
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4,-5

[State 1090, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
damage = 55,7
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 10,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -65
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4,-5

[State 1090, 2]
type = ChangeState
trigger1 = AnimElem = 7
trigger1 = Var(3)
value = 1110

[State 1090, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 雷神剛強
[Statedef 1095]
type = S
movetype = A
physics = N
anim = 1095
velset = 0
ctrl = 0
juggle = 8
poweradd = 100

[State 1095, 1]
type = varset
trigger1 = Time = 0
var(3) = 0

[State 1095, 1]
type = varset
trigger1 = command = "kohou_x" || command = "kohou_y"
trigger1 = AnimElem = 7,< 0
var(3) = 1

[State 1095, 1]
type = ReversalDef
trigger1 = AnimElem = 3,< 0
reversal.attr = SC,NA,SA,HA
pausetime = 12,12
sparkno = S8080
hitsound = S6,0
sprpriority = -1
numhits = 0

[State 1095, 1]
type = velset
trigger1 = AnimElem = 4
x = 11

[State 1095, 1]
type = velmul
trigger1 = AnimElem = 4,> 0
trigger1 = AnimElem = 8,< 0
x = .87

[State 1095, 1]
type = velset
trigger1 = AnimElem = 8
x = 0

[State 1095, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, SA
damage = 55,7
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 8,10
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -40
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4,-5

[State 1095, 1]
type = HitDef
trigger1 = AnimElem = 6
attr = S, SA
damage = 55,7
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 75,0
pausetime = 10,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -65
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -8
air.velocity = -4,-5

[State 1095, 2]
type = ChangeState
trigger1 = AnimElem = 7
trigger1 = Var(3)
value = 1110

[State 1095, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 極限流連舞拳
[Statedef 1100]
type = S
movetype = A
physics = N
anim = 1100
velset = 0
ctrl = 0
juggle = 7
poweradd = 100

[State 1100, 1]
type = posadd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 8
x = 8

[State 1100, 1]
type = posadd
trigger1 = AnimElem = 13
x = 2

[State 1010, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 30,4
animtype = Hard
guardflag =
hitflag = MAF
getpower = 50,0
pausetime = 8,10
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -80
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 18
ground.velocity = 0
air.velocity = -4,-5

[State 1010, 1]
type = HitDef
trigger1 = AnimElem = 12
attr = S, SA
damage = 30,4
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 8,10
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -80
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = 0
air.velocity = -4,-5

[State 1010, 1]
type = HitDef
trigger1 = AnimElem = 18
attr = S, SA
damage = 30,4
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 8,10
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -40
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = 0
air.velocity = -4,-5

[State 1010, 1]
type = HitDef
trigger1 = AnimElem = 19
attr = S, SA
damage = 30,4
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 50,0
pausetime = 12,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -85
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -1,-8
air.velocity = -1,-8
yaccel = .35
fall = 1
fall.recover = 0

[State 1100, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 虎咆強-1
[Statedef 1110]
type = S
movetype = A
physics = N
anim = 1015
velset = 0
ctrl = 0
poweradd = 100

[State 1110, 1]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A

[State 1110, 1]
type = posadd
trigger1 = AnimElem = 4
x = 15

[State 1015, 2]
type = velset
trigger1 = AnimElem = 4
x = 4
y = -7.5

[State 1110, 1]
type = velmul
trigger1 = AnimElem = 4,> 0
trigger1 = AnimElem = 5,< 0
x = .93

[State 1110, 1]
type = velset
trigger1 = AnimElem = 5
x = 0

[State 1110, 1]
type = veladd
trigger1 = AnimElem = 4,> 0
y = .47

[State 1110, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
damage = 70,9
animtype = Hard
guardflag = M
hitflag = MAF
getpower = 100,0
pausetime = 12,12
sparkno = S8020
guard.sparkno = S8080
sparkxy = -5, -65
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -3,-6
air.velocity = -3,-6
guard.velocity = -8
fall = 1
fall.recover = 0

[State 1110, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1011

;---------------------------------------------------------------------------
; 超必殺技
;---------------------------------------------------------------------------
; 覇王翔吼拳弱
[Statedef 3000]
type = S
movetype = A
physics = S
anim = 3000
velset = 0
ctrl = 0
poweradd = ifelse((prevstateno = [1000,1095]),-2000,-1000)

[State 3000, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 3000, 1]
type = SuperPause
trigger1 = Time = 0
time = 30
movetime = 30
darken = 0
anim = -1

[State 3000, 1]
type = Explod
trigger1 = Time = 3
anim = 8110
pos = 5,-70
sprpriority = -1
supermove = 1
shadow = 0
ownpal = 1

[State 3000, 1]
type = BGPalFX
trigger1 = Time = 4
time = 26
add = -255,-255,-255

[State 3000, 1]
type = Explod
trigger1 = Time = 13
anim = 8120
pos = 5,-70
sprpriority = 5
supermove = 1
shadow = 0
ownpal = 1

[State 3000, 1]
type = AssertSpecial
trigger1 = Time < 30
flag = nobardisplay
flag2= noBG
flag3= noFG

[State 3000, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1095]
time = 1
add = 255,255,255

[State 3000, 1]
type = Explod
trigger1 = AnimElem = 4,= 2
anim = 6065
bindtime = -1
supermove = 1
sprpriority = 5
ownpal = 1
id = 1000

[State 3000, 1]
type = Projectile
trigger1 = AnimElem = 6,= 1
attr = A, HP
damage = 225,20
animtype = Up
guardflag = M
hitflag = MA
getpower = 0,0
pausetime = 0,6
sparkno = S8030
guard.sparkno = S8080
sparkxy = 10, 10
hitsound = S5,4
guardsound = S6,0
ground.slidetime = 8
ground.hittime  = 16
ground.velocity = -5,-6
air.velocity = -5,-6
guard.velocity = -8
fall = 1
fall.recover = 0
projid = 6050
projanim = 6050
projhitanim = 6031
projremanim = -1
projcancelanim = 6031
velocity = 4,0
offset = 60,-70
fall.envshake.time = 12
fall.envshake.ampl = -8

[State 3000, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 覇王翔吼拳強
[Statedef 3005]
type = S
movetype = A
physics = S
anim = 3005
velset = 0
ctrl = 0
poweradd = ifelse((prevstateno = [1000,1095]),-2000,-1000)

[State 3005, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 3005, 1]
type = SuperPause
trigger1 = Time = 0
time = 30
movetime = 30
darken = 0
anim = -1

[State 3005, 1]
type = Explod
trigger1 = Time = 3
anim = 8110
pos = 5,-70
sprpriority = -1
supermove = 1
shadow = 0
ownpal = 1

[State 3005, 1]
type = BGPalFX
trigger1 = Time = 4
time = 26
add = -255,-255,-255

[State 3005, 1]
type = Explod
trigger1 = Time = 13
anim = 8120
pos = 5,-70
sprpriority = 5
supermove = 1
shadow = 0
ownpal = 1

[State 3005, 1]
type = AssertSpecial
trigger1 = Time < 30
flag = nobardisplay
flag2= noBG
flag3= noFG

[State 3005, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1095]
time = 1
add = 255,255,255

[State 3005, 1]
type = Explod
trigger1 = AnimElem = 4,= 2
anim = 6065
bindtime = -1
supermove = 1
sprpriority = 5
ownpal = 1
id = 1000

[State 3005, 1]
type = Projectile
trigger1 = AnimElem = 6,= 1
attr = A, HP
damage = 225,20
animtype = Up
guardflag = M
hitflag = MA
getpower = 0,0
pausetime = 0,6
sparkno = S8030
guard.sparkno = S8080
sparkxy = 10, -10
hitsound = S5,4
guardsound = S6,0
ground.slidetime = 8
ground.hittime  = 16
ground.velocity = -5,-6
air.velocity = -5,-6
guard.velocity = -8
fall = 1
fall.recover = 0
projid = 6050
projanim = 6050
projhitanim = 6031
projremanim = -1
projcancelanim = 6031
velocity = 16,0
offset = 60,-70
fall.envshake.time = 12
fall.envshake.ampl = -8

[State 3005, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 覇王翔吼拳MAX
[Statedef 3010]
type = S
movetype = A
physics = S
anim = 3010
velset = 0
ctrl = 0
poweradd = ifelse((prevstateno = [1000,1095]),-3000,-2000)

[State 3010, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 3010, 1]
type = SuperPause
trigger1 = Time = 0
time = 30
movetime = 30
darken = 0
anim = -1

[State 3010, 1]
type = Explod
trigger1 = Time = 3
anim = 8110
pos = 5,-70
sprpriority = -1
supermove = 1
shadow = 0
ownpal = 1

[State 3010, 1]
type = BGPalFX
trigger1 = Time = 4
time = 26
add = -255,-255,-255

[State 3010, 1]
type = Explod
trigger1 = Time = 13
anim = 8120
pos = 5,-70
sprpriority = 5
supermove = 1
shadow = 0
ownpal = 1

[State 3010, 1]
type = AssertSpecial
trigger1 = Time < 30
flag = nobardisplay
flag2= noBG
flag3= noFG

[State 3010, 1]
type = BGPalFX
trigger1 = Time >= 30
trigger1 = ProjHitTime(6060) != 1
time = 2
invertall = 1
ignorehitpause = 1

[State 3010, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1095]
time = 1
add = 255,255,255

[State 3010, 1]
type = Explod
trigger1 = AnimElem = 4;,= 2
anim = 6066
bindtime = -1
supermove = 1
sprpriority = 5
ownpal = 1
id = 1000

[State 3010, 1]
type = Projectile
trigger1 = AnimElem = 6,= 1
attr = A, HP
damage = 85,10
animtype = Up
guardflag = M
hitflag = MAF
getpower = 0,0
pausetime = 1,6
sparkno = S8030
guard.sparkno = S8080
sparkxy = 10, 0
hitsound = S5,4
guardsound = S6,0
air.juggle = 10
ground.slidetime = 8
ground.hittime  = 16
ground.velocity = -5,-7.5
air.velocity = -5,-7.5
guard.velocity = -8
fall = 1
fall.recover = 0
projid = 6060
projanim = 6060
projhitanim = 6061
projremanim = -1
projcancelanim = 6061
projpriority = 15
projhits = 5
projmisstime = 1
velocity = 12,0
offset = 60,-65
fall.envshake.time = 12
fall.envshake.ampl = -8

[State 3010, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 天地覇煌拳
[Statedef 3020]
type = S
movetype = A
physics = S
anim = 3020
velset = 0
ctrl = 0
juggle = 8
poweradd = ifelse((prevstateno = [1000,1095]),-2000,-1000)

[State 3020, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 3020, 1]
type = SuperPause
trigger1 = Time = 0
time = 30
movetime = 30
darken = 0
anim = -1

[State 3020, 1]
type = Explod
trigger1 = Time = 3
anim = 8110
pos = -20,-60
sprpriority = -1
supermove = 1
shadow = 0
ownpal = 1

[State 3020, 1]
type = BGPalFX
trigger1 = Time = 4
time = 26
add = -255,-255,-255

[State 3020, 1]
type = Explod
trigger1 = Time = 13
anim = 8120
pos = -20,-60
sprpriority = 5
supermove = 1
shadow = 0
ownpal = 1

[State 3020, 1]
type = AssertSpecial
trigger1 = Time < 30
flag = nobardisplay
flag2= noBG
flag3= noFG

[State 3020, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1095]
time = 1
add = 255,255,255

[State 3020, 1]
type = AfterImage
trigger1 = Time = 0
time = 74
length = 12
framegap = 3
palcolor = 0
trans = add1
palbright = 96,96,128
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 3020, 1]
type = HitDef
trigger1 = AnimElem = 6
trigger1 = p2movetype != A
attr = S, SA
damage = 145,18
animtype = DiagUp
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 24,24
sparkno = S8030
guard.sparkno = S8080
sparkxy = -10, -80
hitsound = S5,6
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -7.5,-8
air.velocity = -7.5,-8
fall = 1
fall.recover = 0
envshake.time = 24
envshake.ampl = -12

[State 3020, 1]
type = HitDef
trigger1 = AnimElem = 6
trigger1 = p2movetype = A
attr = S, SA
damage = 485,18
animtype = DiagUp
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 24,24
sparkno = S8030
guard.sparkno = S8080
sparkxy = -10, -80
hitsound = S5,6
guardsound = S6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -7.5,-8
air.velocity = -7.5,-8
fall = 1
fall.recover = 0
envshake.time = 24
envshake.ampl = -12

[State 3020, 1]
type = VarSet
trigger1 = MoveHit
var(4) = 20
ignorehitpause = 1
persistent = 0

[State 3020, 2]
type = ChangeState
trigger1 = MoveHit
trigger1 = AnimElem = 7
value = 3021

[State 3020, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 天地覇煌拳MAX
[Statedef 3025]
type = S
movetype = A
physics = S
anim = 3025
velset = 0
ctrl = 0
juggle = 8
poweradd = ifelse((prevstateno = [1000,1095]),-3000,-2000)

[State 3025, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 3025, 1]
type = SuperPause
trigger1 = Time = 0
time = 30
movetime = 30
darken = 0
anim = -1

[State 3025, 1]
type = Explod
trigger1 = Time = 3
anim = 8110
pos = -20,-60
sprpriority = -1
supermove = 1
shadow = 0
ownpal = 1

[State 3025, 1]
type = BGPalFX
trigger1 = Time = 4
time = 26
add = -255,-255,-255

[State 3025, 1]
type = Explod
trigger1 = Time = 13
anim = 8120
pos = -20,-60
sprpriority = 5
supermove = 1
shadow = 0
ownpal = 1

[State 3025, 1]
type = AssertSpecial
trigger1 = Time < 30
flag = nobardisplay
flag2= noBG
flag3= noFG

[State 3025, 1]
type = BGPalFX
trigger1 = Time >= 30
time = 2
invertall = 1
ignorehitpause = 1

[State 3025, 1]
type = EnvShake
trigger1 = AnimElem = 6
time = 18
;ampl = -4

[State 3025, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1095]
time = 1
add = 255,255,255

[State 3025, 1]
type = AfterImage
trigger1 = Time = 0
time = 88
length = 12
framegap = 3
palcolor = 0
trans = add1
palbright = 96,96,128
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 3025, 1]
type = HitDef
trigger1 = AnimElem = 6
trigger1 = p2movetype != A
attr = S, SA
damage = 160,20
animtype = DiagUp
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 24,24
sparkno = S8030
guard.sparkno = S8080
sparkxy = -10, -80
hitsound = S5,6
guardsound = S6,0
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -7.5,-8
envshake.time = 24
envshake.ampl = -12
p2stateno = 9040
p2facing = 1

[State 3025, 1]
type = HitDef
trigger1 = AnimElem = 6
trigger1 = p2movetype = A
attr = S, SA
damage = 520,20
animtype = DiagUp
guardflag = M
hitflag = MAF
getpower = 150,0
pausetime = 24,24
sparkno = S8030
guard.sparkno = S8080
sparkxy = -10, -80
hitsound = S5,6
guardsound = S6,0
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -7.5,-8
envshake.time = 24
envshake.ampl = -12
p2stateno = 9040
p2facing = 1

[State 3025, 1]
type = VarSet
trigger1 = MoveHit
var(4) = 20
ignorehitpause = 1
persistent = 0

[State 3025, 2]
type = ChangeState
trigger1 = MoveHit
trigger1 = AnimElem = 7
value = 3021

[State 3025, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 天地覇煌拳-2
[Statedef 3021]
type = S
movetype = I
physics = S
anim = ifelse(var(1),3021,3022)

[State 3031,1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3021, 1]
type = BGPalFX
trigger1 = prevstateno = 3025
time = 2
invertall = 1
ignorehitpause = 1

[State 3020, 1]
type = AfterImageTime
trigger1 = Time = 0
value = 0

[State 3021, 1]
type = PlaySnd
trigger1 = AnimElem = 8
value = 300,16

[State 3021, 2]
type = TargetDrop
trigger1 = AnimTime = 0

[State 3021, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 天地覇煌拳MAX(P2)-1
[Statedef 9040]
type = A
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 9040,1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9040,1]
type = ChangeAnim
trigger1 = Time < 24
value = ifelse(SelfAnimExist(5052),5052,5030)

[State 9040,1]
type = velset
trigger1 = Time = 24
x = -7.5
y = -8

[State 9041,1]
type = veladd
trigger1 = Time > 24
y = .44

[State 9040,1]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = anim = 5052 && SelfAnimExist(5062)
value = 5062

[State 9040,1]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = anim = 5030 && SelfAnimExist(5035)
value = 5035

[State 9040,1]
type = ChangeAnim
triggerall = AnimTime = 0
trigger1 = anim = 5030 && !SelfAnimExist(5035)
trigger2 = anim = 5035
value = 5050

[State 9040,1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 9041
;---------------------------------------------------------------------------
; 天地覇煌拳MAX(P2)-2
[Statedef 9041]
type = A
movetype = H
physics = N
velset = 0,0

[State 9041,1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9041,1]
type = posset
trigger1 = Time = 0
y = 0

[State 9041,1]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse((anim=[5052,5062]) && SelfAnimExist(5102),5102,5100)

[State 9041,1]
type = velset
trigger1 = AnimTime = 0
trigger1 = anim = [5100,5102]
x = -7
y = -4.5

[State 9041,1]
type = veladd
trigger1 = anim = [5160,5162]
y = .44

[State 9041,1]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = anim = [5100,5102]
value = ifelse(anim=5102 && SelfAnimExist(5162),5162,5160)

[State 9041,1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
trigger1 = anim = [5160,5162]
value = 9042
;---------------------------------------------------------------------------
; 天地覇煌拳MAX(P2)-3
[Statedef 9042]
type = A
movetype = H
physics = N
velset = 0,0

[State 9042,1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9042,1]
type = posset
trigger1 = Time = 0
y = 0

[State 9042,1]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse(anim=5162 && SelfAnimExist(5172),5172,5170)

[State 9042,1]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = anim = [5170,5172]
value = ifelse(anim=5172 && SelfAnimExist(5112),5112,5110)

[State 9042,1]
type = SelfState
trigger1 = Life <= 0 && anim = [5110,5112]
value = 5150

[State 9042,1]
type = ChangeState
trigger1 = anim = [5110,5112]
value = 9043
;---------------------------------------------------------------------------
; 天地覇煌拳MAX(P2)-4
[Statedef 9043]
type = A
movetype = H
physics = N

[State 9043,1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9043,1]
type = ChangeAnim
trigger1 = Time = 20
trigger1 = anim = [5110,5112]
value = ifelse(anim=5112 && SelfAnimExist(5122),5122,5120)

[State 9043,1]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = anim = [5120,5122]
value = 9044
;---------------------------------------------------------------------------
; 天地覇煌拳MAX(P2)-5
[Statedef 9044]
type = S
movetype = H
physics = S

[State 9044,1]
type = ChangeAnim
trigger1 = Time = 0
value = 5300

[State 9044,1]
type = HitFallSet
trigger1 = Time = 0
value = 0
xvel = 0
yvel = 0

[State 9044,1]
type = SelfState
trigger1 = Time = 120
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 竜虎乱舞弱-1
[Statedef 3030]
type = S
movetype = A
physics = S
anim = 3030
velset = 0
ctrl = 0
juggle = 8
poweradd = ifelse((prevstateno = [1000,1095]),-2000,-1000)

[State 3030,1]
type = NotHitBy
trigger1 = AnimElem = 5,<= 0
value = SCA

[State 3030, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 3030, 1]
type = SuperPause
trigger1 = Time = 0
time = 30
movetime = 30
darken = 0
anim = -1

[State 3030, 1]
type = Explod
trigger1 = Time = 3
anim = 8110
pos = 5,-70
sprpriority = -1
supermove = 1
shadow = 0
ownpal = 1

[State 3030, 1]
type = BGPalFX
trigger1 = Time = 4
time = 26
add = -255,-255,-255

[State 3030, 1]
type = Explod
trigger1 = Time = 13
anim = 8120
pos = 5,-70
sprpriority = 5
supermove = 1
shadow = 0
ownpal = 1

[State 3030, 1]
type = AssertSpecial
trigger1 = Time < 30
flag = nobardisplay
flag2= noBG
flag3= noFG

[State 3030, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1095]
time = 1
add = 255,255,255

[State 3030, 1]
type = AfterImage
trigger1 = AnimElem = 7
time = 200
length = 12
framegap = 3
palcolor = 0
trans = add1
palbright = 96,96,128
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 3030, 1]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A
physics = N

[State 3030, 1]
type = velset
trigger1 = AnimElem = 7
x = 10
y = -1

[State 3030, 1]
type = veladd
trigger1 = AnimElem = 7,> 0
y = .17

[State 3030, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = A, HA
damage = 0,20
animtype = Up
guardflag = M
hitflag = MA
getpower = 0,0
pausetime = 0,1
sparkno = -1
guard.sparkno = S8070
sparkxy = -10, -80
hitsound = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -5,-5
air.velocity = -5,-5
guard.velocity = -8
fall = 1
snap = 30,0
p1stateno = 3032

[State 3030, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
trigger2 = moveguarded
value = 3031
;---------------------------------------------------------------------------
; 竜虎乱舞強-1
[Statedef 3035]
type = S
movetype = A
physics = S
anim = 3035
velset = 0
ctrl = 0
juggle = 8
poweradd = ifelse((prevstateno = [1000,1095]),-2000,-1000)

[State 3035,1]
type = NotHitBy
trigger1 = AnimElem = 5,<= 0
value = SCA

[State 3035, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 3035, 1]
type = SuperPause
trigger1 = Time = 0
time = 30
movetime = 30
darken = 0
anim = -1

[State 3035, 1]
type = Explod
trigger1 = Time = 3
anim = 8110
pos = 5,-70
sprpriority = -1
supermove = 1
shadow = 0
ownpal = 1

[State 3035, 1]
type = BGPalFX
trigger1 = Time = 4
time = 26
add = -255,-255,-255

[State 3035, 1]
type = Explod
trigger1 = Time = 13
anim = 8120
pos = 5,-70
sprpriority = 5
supermove = 1
shadow = 0
ownpal = 1

[State 3035, 1]
type = AssertSpecial
trigger1 = Time < 30
flag = nobardisplay
flag2= noBG
flag3= noFG

[State 3035, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1095]
time = 1
add = 255,255,255

[State 3035, 1]
type = AfterImage
trigger1 = AnimElem = 7
time = 200
length = 12
framegap = 3
palcolor = 0
trans = add1
palbright = 96,96,128
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 3035, 1]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A
physics = N

[State 3035, 1]
type = velset
trigger1 = AnimElem = 7
x = 10
y = -1.45

[State 3035, 1]
type = veladd
trigger1 = AnimElem = 7,> 0
y = .12

[State 3035, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = A, HA
damage = 0,20
animtype = Up
guardflag = M
hitflag = MA
getpower = 0,0
pausetime = 0,1
sparkno = -1
guard.sparkno = S8070
sparkxy = -10, -80
hitsound = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -5,-5
air.velocity = -5,-5
guard.velocity = -8
fall = 1
snap = 30,0
p1stateno = 3032

[State 3035, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
trigger2 = moveguarded
value = 3031
;---------------------------------------------------------------------------
; 竜虎乱舞-2
[Statedef 3031]
type = S
movetype = A
physics = N
anim = 3031

[State 3031, 1]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 3031, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3031, 1]
type = velset
trigger1 = Time = 0
y = 0

[State 3031, 1]
type = velmul
trigger1 = AnimElem = 3,< 10
x = .78

[State 3031, 1]
type = velset
trigger1 = AnimElem = 3,= 10
x = 0

[State 3031, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 竜虎乱舞-3
[Statedef 3032]
type = S
movetype = A
physics = N
anim = 3032
velset = 0,0

[State 3032,1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3032,1]
type = PlaySnd
trigger1 = Time = 1
value = 300,12
channel = 0

[State 3032,1]
type = PlaySnd
trigger1 = AnimElem = 51
value = 300,13
channel = 0

[State 3032, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3031, 1]
type = Width
trigger1 = AnimElem = 51,< 0
value = 65

[State 3031, 1]
type = posadd
trigger1 = AnimElem = 51,< 0
x = 1

[State 3032, 1]
type = TargetBind
trigger1 = AnimElem = 2,>= 0 && AnimElem = 56,< 0
pos = 45,0

[State 3032, 1]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 3032, 1]
type = AfterImage
trigger1 = AnimElem = 51
time = 26
length = 12
framegap = 3
palcolor = 0
trans = add1
palbright = 96,96,128
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 3032,1]
type = PlaySnd
trigger1 = AnimElem = 25,= 1
trigger2 = AnimElem = 30,= 1
trigger3 = AnimElem = 43,= 1
value = 5,0

[State 3032,1]
type = PlaySnd
trigger1 = AnimElem = 20,= 1
trigger2 = AnimElem = 38,= 1
value = 5,1

[State 3032,1]
type = PlaySnd
trigger1 = AnimElem = 8,= 1
trigger2 = AnimElem = 11,= 1
value = 5,2

[State 3032,1]
type = PlaySnd
trigger1 = AnimElem = 4,= 1
trigger2 = AnimElem = 6,= 1
trigger3 = AnimElem = 16,= 1
trigger4 = AnimElem = 46,= 1
trigger5 = AnimElem = 50,= 1
value = 5,3

[State 3031, 1]
type = BGPalFX
trigger1 = AnimElem = 4,= 1
trigger2 = AnimElem = 6,= 1
trigger3 = AnimElem = 8,= 1
trigger4 = AnimElem = 11,= 1
trigger5 = AnimElem = 16,= 1
trigger6 = AnimElem = 20,= 1
trigger7 = AnimElem = 25,= 1
trigger8 = AnimElem = 30,= 1
trigger9 = AnimElem = 38,= 1
trigger10= AnimElem = 43,= 1
trigger11= AnimElem = 46,= 1
trigger12= AnimElem = 50,= 1
time = 1
add = 255,255,255

[State 3031, 1]
type = HitAdd
trigger1 = AnimElem = 4,= 1
trigger2 = AnimElem = 6,= 1
trigger3 = AnimElem = 8,= 1
trigger4 = AnimElem = 11,= 1
trigger5 = AnimElem = 16,= 1
trigger6 = AnimElem = 20,= 1
trigger7 = AnimElem = 25,= 1
trigger8 = AnimElem = 30,= 1
trigger9 = AnimElem = 38,= 1
trigger10= AnimElem = 43,= 1
trigger11= AnimElem = 46,= 1
trigger12= AnimElem = 50,= 1
value = 1

[State 3031, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 4,= 1
trigger2 = AnimElem = 6,= 1
trigger3 = AnimElem = 8,= 1
trigger4 = AnimElem = 11,= 1
trigger5 = AnimElem = 16,= 1
trigger6 = AnimElem = 20,= 1
trigger7 = AnimElem = 25,= 1
trigger8 = AnimElem = 30,= 1
trigger9 = AnimElem = 38,= 1
trigger10= AnimElem = 43,= 1
trigger11= AnimElem = 46,= 1
trigger12= AnimElem = 50,= 1
value = -20
kill = 0

[State 3031, 1]
type = Explod
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
trigger4 = AnimElem = 11
trigger5 = AnimElem = 20
trigger6 = AnimElem = 25
trigger7 = AnimElem = 30
trigger8 = AnimElem = 38
trigger9 = AnimElem = 43
trigger10= AnimElem = 46
trigger11= AnimElem = 50
anim = 8030
pos = 60,-70
sprpriority = 5
ownpal = 1

[State 3031, 1]
type = Explod
trigger1 = AnimElem = 16
anim = 8030
pos = 60,-30
sprpriority = 5
ownpal = 1

[State 3031, 1]
type = StateTypeSet
trigger1 = AnimElem = 56
statetype = A

[State 3031, 1]
type = velset
trigger1 = AnimElem = 56
x = 4
y = -10

[State 3031, 1]
type = veladd
trigger1 = AnimElem = 56,> 0
y = .48

[State 3031, 1]
type = velmul
trigger1 = AnimElem = 56,> 0 && AnimElem = 57,< 0
x = .93

[State 3031, 1]
type = velset
trigger1 = AnimElem = 57
x = 0

[State 3031, 1]
type = HitDef
trigger1 = Time = 0
attr = S, HA
damage = 0,0
animtype = Up
guardflag = 
hitflag = MAF+
getpower = 0,0
sparkno = S8030
sparkxy = -5, -50
snap = 60,0
p2stateno = 9030
numhits = 0

[State 3031, 1]
type = HitDef
trigger1 = AnimElem = 54
attr = S, HA
damage = 55,0
animtype = Hard
guardflag =
hitflag = MAF
getpower = 0,0
pausetime = 14,14
sparkno = S8030
sparkxy = -5, -70
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 28
ground.velocity = 0
air.velocity = -2,-6

[State 3031, 1]
type = HitDef
trigger1 = AnimElem = 56
attr = A, HA
damage = 55,0
animtype = Up
guardflag =
hitflag = MAF
getpower = 0,0
pausetime = 13,14
sparkno = S8030
sparkxy = -5, -50
hitsound = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 28
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
fall.recover = 0
envshake.time = 14
envshake.ampl = -12

[State 3031, 1]
type = BGPalFX
trigger1 = MoveHit
time = 1
add = 255,255,255
ignorehitpause = 1

[State 3031, 1]
type = VarSet
trigger1 = MoveHit && AnimElem = 56,>= 0
var(4) = 14
ignorehitpause = 1
persistent = 0

[State 3031, 1]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 3031, 2]
type = ChangeState
trigger1 = AnimElem = 56,> 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3033
;---------------------------------------------------------------------------
; 竜虎乱舞-4
[Statedef 3033]
type = S
movetype = A
physics = S
anim = 3033
velset = 0,0

[State 3033, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3033, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 竜虎乱舞(P2)
[Statedef 9030]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0

[State 9030, 1]
type = HitFallSet
trigger1 = Time = 0
value = 0
xvel = 0
yvel = 0

[State 9030, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9030
;---------------------------------------------------------------------------
; 竜虎乱舞MAX-1
[Statedef 3040]
type = S
movetype = A
physics = S
anim = 3040
velset = 0
ctrl = 0
juggle = 8
poweradd = ifelse((prevstateno = [1000,1095]),-3000,-2000)

[State 3040,1]
type = NotHitBy
trigger1 = AnimElem = 7,<= 0
value = SCA

[State 3040, 1]
type = BGPalFX
trigger1 = Time = 0
time = 4
add = 255,255,255

[State 3040, 1]
type = SuperPause
trigger1 = Time = 0
time = 30
movetime = 30
darken = 0
anim = -1

[State 3040, 1]
type = Explod
trigger1 = Time = 3
anim = 8110
pos = 5,-70
sprpriority = -1
supermove = 1
shadow = 0
ownpal = 1

[State 3040, 1]
type = BGPalFX
trigger1 = Time = 4
time = 26
add = -255,-255,-255

[State 3040, 1]
type = Explod
trigger1 = Time = 13
anim = 8120
pos = 5,-70
sprpriority = 5
supermove = 1
shadow = 0
ownpal = 1

[State 3040, 1]
type = AssertSpecial
trigger1 = Time < 30
flag = nobardisplay
flag2= noBG
flag3= noFG

[State 3040, 1]
type = PalFX
trigger1 = Time < 16 && Time % 2
trigger1 = prevstateno = [1000,1095]
time = 1
add = 255,255,255

[State 3040, 1]
type = BGPalFX
trigger1 = Time >= 30
time = 2
invertall = 1
ignorehitpause = 1

[State 3040, 1]
type = AfterImage
trigger1 = AnimElem = 7
time = 200
length = 12
framegap = 3
palcolor = 0
trans = add1
palbright = 96,96,128
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 3040, 1]
type = StateTypeSet
trigger1 = AnimElem = 7
statetype = A
physics = N

[State 3040, 1]
type = velset
trigger1 = AnimElem = 7
x = 10
y = -1

[State 3040, 1]
type = veladd
trigger1 = AnimElem = 7,> 0
y = .17

[State 3040, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = A, HA
damage = 0,20
animtype = Up
guardflag = M
hitflag = MA
getpower = 0,0
pausetime = 0,1
sparkno = -1
guard.sparkno = S8070
sparkxy = -10, -80
hitsound = S5,2
guardsound = S6,0
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -5,-5
air.velocity = -5,-5
guard.velocity = -8
fall = 1
snap = 30,0
p1stateno = 3042

[State 3040, 2]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
trigger2 = moveguarded
value = 3041
;---------------------------------------------------------------------------
; 竜虎乱舞MAX-2
[Statedef 3041]
type = S
movetype = A
physics = N
anim = 3031

[State 3041, 1]
type = BGPalFX
trigger1 = 1
time = 2
invertall = 1
ignorehitpause = 1

[State 3041, 1]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 3041, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3041, 1]
type = velset
trigger1 = Time = 0
y = 0

[State 3041, 1]
type = velmul
trigger1 = AnimElem = 3,< 10
x = .78

[State 3041, 1]
type = velset
trigger1 = AnimElem = 3,= 10
x = 0

[State 3041, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 竜虎乱舞MAX-3
[Statedef 3042]
type = S
movetype = A
physics = N
anim = 3042
velset = 0,0

[State 3042,1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3042, 1]
type = BGPalFX
trigger1 = 1
time = 2
invertall = 1
ignorehitpause = 1

[State 3042,1]
type = PlaySnd
trigger1 = Time = 1
value = 300,12
channel = 0

[State 3042, 1]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 3042, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3042, 1]
type = Width
trigger1 = AnimElem = 82,< 0
value = 65

[State 3042, 1]
type = posadd
trigger1 = AnimElem = 82,< 0
x = 1

[State 3042, 1]
type = TargetBind
trigger1 = AnimElem = 2,>= 0 && AnimElem = 82,< 0
pos = 45,0

[State 3042,1]
type = PlaySnd
trigger1 = AnimElem = 4,= 1
trigger2 = AnimElem = 6,= 1
trigger3 = AnimElem = 24,= 1
trigger4 = AnimElem = 32,= 1
trigger5 = AnimElem = 57,= 1
trigger6 = AnimElem = 78,= 1
value = 5,0

[State 3042,1]
type = PlaySnd
trigger1 = AnimElem = 20,= 1
trigger2 = AnimElem = 28,= 1
trigger3 = AnimElem = 37,= 1
trigger4 = AnimElem = 52,= 1
trigger5 = AnimElem = 62,= 1
trigger6 = AnimElem = 82,= 1
value = 5,1

[State 3042,1]
type = PlaySnd
trigger1 = AnimElem = 8,= 1
trigger2 = AnimElem = 11,= 1
trigger3 = AnimElem = 16,= 1
trigger4 = AnimElem = 45,= 1
trigger5 = AnimElem = 75,= 1
value = 5,2

[State 3042,1]
type = PlaySnd
trigger1 = AnimElem = 70,= 1
value = 5,3

[State 3042,1]
type = PlaySnd
trigger1 = AnimElem = 88
value = 200,3

[State 3042, 1]
type = BGPalFX
trigger1 = AnimElem = 4,= 1
trigger2 = AnimElem = 6,= 1
trigger3 = AnimElem = 8,= 1
trigger4 = AnimElem = 11,= 1
trigger5 = AnimElem = 16,= 1
trigger6 = AnimElem = 20,= 1
trigger7 = AnimElem = 24,= 1
trigger8 = AnimElem = 28,= 1
trigger9 = AnimElem = 32,= 1
trigger10= AnimElem = 37,= 1
trigger11= AnimElem = 45,= 1
trigger12= AnimElem = 52,= 1
trigger13= AnimElem = 57,= 1
trigger14= AnimElem = 62,= 1
trigger15= AnimElem = 70,= 1
trigger16= AnimElem = 75,= 1
trigger17= AnimElem = 78,= 1
trigger18= AnimElem = 82,= 1
time = 1
add = 255,255,255

[State 3031, 1]
type = HitAdd
trigger1 = AnimElem = 4,= 1
trigger2 = AnimElem = 6,= 1
trigger3 = AnimElem = 8,= 1
trigger4 = AnimElem = 11,= 1
trigger5 = AnimElem = 16,= 1
trigger6 = AnimElem = 20,= 1
trigger7 = AnimElem = 24,= 1
trigger8 = AnimElem = 28,= 1
trigger9 = AnimElem = 32,= 1
trigger10= AnimElem = 37,= 1
trigger11= AnimElem = 45,= 1
trigger12= AnimElem = 52,= 1
trigger13= AnimElem = 57,= 1
trigger14= AnimElem = 62,= 1
trigger15= AnimElem = 70,= 1
trigger16= AnimElem = 75,= 1
trigger17= AnimElem = 78,= 1
trigger18= AnimElem = 82,= 1
value = 1

[State 3031, 1]
type = TargetLifeAdd
trigger1 = AnimElem = 4,= 1
trigger2 = AnimElem = 6,= 1
trigger3 = AnimElem = 8,= 1
trigger4 = AnimElem = 11,= 1
trigger5 = AnimElem = 16,= 1
trigger6 = AnimElem = 20,= 1
trigger7 = AnimElem = 24,= 1
trigger8 = AnimElem = 28,= 1
trigger9 = AnimElem = 32,= 1
trigger10= AnimElem = 37,= 1
trigger11= AnimElem = 45,= 1
trigger12= AnimElem = 52,= 1
trigger13= AnimElem = 57,= 1
trigger14= AnimElem = 62,= 1
trigger15= AnimElem = 70,= 1
trigger16= AnimElem = 75,= 1
trigger17= AnimElem = 78,= 1
trigger18= AnimElem = 82,= 1
value = -20
kill = 0

[State 3042, 1]
type = Explod
trigger1 = AnimElem = 4,= 1
trigger2 = AnimElem = 6,= 1
trigger3 = AnimElem = 8,= 1
trigger4 = AnimElem = 11,= 1
trigger5 = AnimElem = 20,= 1
trigger6 = AnimElem = 24,= 1
trigger7 = AnimElem = 28,= 1
trigger8 = AnimElem = 32,= 1
trigger9 = AnimElem = 37,= 1
trigger10= AnimElem = 45,= 1
trigger11= AnimElem = 57,= 1
trigger12= AnimElem = 62,= 1
trigger13= AnimElem = 70,= 1
trigger14= AnimElem = 75,= 1
trigger15= AnimElem = 78,= 1
trigger16= AnimElem = 82,= 1
anim = 8030
pos = 60,-70
sprpriority = 5
ownpal = 1

[State 3042, 1]
type = Explod
trigger1 = AnimElem = 16
trigger2 = AnimElem = 52
anim = 8030
pos = 60,-30
sprpriority = 5
ownpal = 1

[State 3042, 1]
type = StateTypeSet
trigger1 = AnimElem = 88
statetype = A

[State 3042, 1]
type = velset
trigger1 = AnimElem = 88
x = 2
y = -5

[State 3042, 1]
type = veladd
trigger1 = AnimElem = 88,> 0
y = .45

[State 3042, 1]
type = velmul
trigger1 = AnimElem = 88,> 0 && AnimElem = 89,< 0
x = .95

[State 3042, 1]
type = velset
trigger1 = AnimElem = 89
x = 0

[State 3042, 1]
type = HitDef
trigger1 = Time = 0
attr = S, HA
damage = 0,0
animtype = Hard
guardflag = 
hitflag = MAF+
getpower = 0,0
sparkno = S8030
sparkxy = -5, -50
snap = 60,0
p2stateno = 9035
numhits = 0

[State 3042, 1]
type = HitDef
trigger1 = AnimElem = 84
attr = S, HA
damage = 10,0
animtype = Hard
guardflag =
hitflag = MAF
getpower = 0,0
pausetime = 14,14
sparkno = S8030
sparkxy = -5, -70
hitsound = S5,3
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 28
ground.velocity = 0
air.velocity = -2,-6

[State 3042, 1]
type = HitDef
trigger1 = AnimElem = 87
attr = S, HA
damage = 10,0
animtype = Hard
guardflag =
hitflag = MAF
getpower = 0,0
pausetime = 14,14
sparkno = S8030
sparkxy = -5, -70
hitsound = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 28
ground.velocity = 0
air.velocity = -2,-6

[State 3042, 1]
type = HitDef
trigger1 = AnimElem = 88
trigger2 = AnimElem = 88,= 5
attr = A, HA
damage = 10,0
animtype = Hard
guardflag =
hitflag = MAF
getpower = 0,0
pausetime = 2,2
sparkno = S8030
sparkxy = -5, -50
hitsound = S5,3
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 28
ground.velocity = 0
air.velocity = -2,-6

[State 3042, 1]
type = BGPalFX
trigger1 = MoveHit
time = 1
add = 255,255,255
ignorehitpause = 1

[State 3042, 1]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 3042, 2]
type = ChangeState
trigger1 = AnimElem = 88,> 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3043
;---------------------------------------------------------------------------
; 竜虎乱舞MAX-4
[Statedef 3043]
type = S
movetype = A
physics = N
anim = 3043
velset = 0,0

[State 3043,1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3043, 1]
type = BGPalFX
trigger1 = 1
time = 2
invertall = 1
ignorehitpause = 1

[State 3043,1]
type = PlaySnd
trigger1 = Time = 1
value = 300,13
channel = 0

[State 3043, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3043, 1]
type = AfterImage
trigger1 = Time = 0
time = 28
length = 12
framegap = 3
palcolor = 0
trans = add1
palbright = 96,96,128
palcontrast = 96,64,160
paladd = 0,0,0
palmul = 1,1,1

[State 3043, 1]
type = StateTypeSet
trigger1 = AnimElem = 4
statetype = A

[State 3043, 1]
type = velset
trigger1 = AnimElem = 4
x = 2.5
y = -11

[State 3043, 1]
type = veladd
trigger1 = AnimElem = 4,> 0
y = .45

[State 3043, 1]
type = null;velmul
trigger1 = AnimElem = 4,> 0 && AnimElem = 13,< 0
x = .93

[State 3043, 1]
type = velset
trigger1 = AnimElem = 11
x = 0

[State 3043, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, HA
damage = 20,0
animtype = Hard
guardflag =
hitflag = MAF
getpower = 0,0
pausetime = 1,2
sparkno = S8030
sparkxy = -5, -70
hitsound = S5,4
guardsound = S6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 28
ground.velocity = 0
air.velocity = -2,-6

[State 3043, 1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
trigger3 = AnimElem = 8
attr = A, HA
damage = 20,0
animtype = Up
guardflag =
hitflag = MAF
getpower = 0,0
pausetime = 1,2
sparkno = S8030
sparkxy = -5, -50
hitsound = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 28
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
fall.recover = 0

[State 3043, 1]
type = HitDef
trigger1 = AnimElem = 10
attr = A, HA
damage = 20,0
animtype = Up
guardflag =
hitflag = MAF
getpower = 0,0
pausetime = 13,14
sparkno = S8030
sparkxy = -5, -50
hitsound = S5,4
guardsound = S6,0
ground.type = High
ground.slidetime = 18
ground.hittime  = 28
ground.velocity = -2,-8
air.velocity = -2,-8
fall = 1
fall.recover = 0
envshake.time = 14
envshake.ampl = -12

[State 3043, 1]
type = BGPalFX
trigger1 = MoveHit
time = 1
add = 255,255,255
ignorehitpause = 1

[State 3043, 1]
type = VarSet
trigger1 = MoveHit && AnimElem = 10,>= 0
var(4) = 14
ignorehitpause = 1

[State 3042, 1]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 3043, 2]
type = ChangeState
trigger1 = AnimElem = 4,> 0
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 3044
;---------------------------------------------------------------------------
; 竜虎乱舞MAX-5
[Statedef 3044]
type = S
movetype = A
physics = S
anim = 3033
velset = 0,0

[State 3044,1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3044, 1]
type = BGPalFX
trigger1 = 1
time = 2
invertall = 1
ignorehitpause = 1

[State 3044, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 3044, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; 竜虎乱舞MAX(P2)
[Statedef 9035]
type = S
movetype = H
physics = S
velset = 0,0
ctrl = 0

[State 9035, 1]
type = HitFallSet
trigger1 = Time = 0
value = 0
xvel = 0
yvel = 0

[State 9035, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 9035

;---------------------------------------------------------------------------
; ヘルパー
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]

;チームモード　交代時のイントロ
[State -3, Turns Mode Intro]
type = ChangeState
triggerall = teammode = turns
triggerall = roundno > 1
triggerall = time = 0
triggerall = roundstate = 0
trigger1 = roundsexisted <= 0
trigger2 = p2Name = "Robert" || p4Name = "Robert"
trigger3 = p2Name = "Yuri Sakazaki" || p4Name = "Yuri Sakazaki"
trigger4 = p2Name = "Yuri" || p4Name = "Yuri"
trigger5 = p2Name = "Takuma Sakazaki" || p4Name = "Takuma Sakazaki"
trigger6 = p2Name = "Takuma" || p4Name = "Takuma"
trigger7 = p2Name = "Marco Rodriguez" || p4Name = "Marco Rodriguez"
trigger8 = p2Name = "Marco" || p4Name = "Marco"
trigger9 = p2Name = "Yuri98" || p4Name = "Yuri98"
trigger10 = p2Name = "Robert Garcia" || p4Name = "Robert Garcia"
trigger11 = p2Name = "King" || p4Name = "King"
trigger12 = p2Name = "DKing" || p4Name = "DKing"
value = 190

;---------------------------------------------------------------------------
; クリップボード

[State -2, 1]
type = DisplayToClipboard
trigger1 = 1
text = "vel(%f,%f) Pos(%f,%f) %d"
params = Vel X,Vel Y,ScreenPos X,ScreenPos Y,var(4)
ignorehitpause = 1

;---------------------------------------------------------------------------
; 中・大ジャンプフラグ処理

[State -2, 2.1]
type = VarSet
trigger1 = Time = 1
trigger1 = command = "holddown"
trigger1 = stateno != 11 || ctrl
trigger2 = !Var(8) && stateno = 52
var(2) = 8

[State -2, 2.2]
type = VarSet
trigger1 = Var(2)
trigger1 = StateNo != 40
var(2) = ifelse((stateno != [0,40]),0,Var(2)-1)

;---------------------------------------------------------------------------
; 残像消去

[State -2, 3]
type = AfterImageTime
trigger1 = MoveType = H
time = 0

;---------------------------------------------------------------------------
; スローモーション処理

[State -2, 4.1]
type = Pause
trigger1 = Var(4)
time = 1
ignorehitpause = 1

[State -2, 4.2]
type = VarAdd
trigger1 = Var(4)
var(4) = -1
ignorehitpause = 1

;---------------------------------------------------------------------------
; Explod消去

[State -2, 5]
type = RemoveExplod
trigger1 = MoveType = H
id = 1000

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;---------------------------------------------------------------------------
; 発射物ヒット処理
[State -3, 1]
type = VarSet
trigger1 = ProjHitTime(6010) = 1
trigger2 = ProjHitTime(6030) = 1
trigger3 = ProjHitTime(6040) = 1
trigger4 = ProjHitTime(6050) = 1
trigger5 = ProjHitTime(6060) = 1
var(4) = 15
ignorehitpause = 1

[State -3, 1]
type = BGPalFX
trigger1 = ProjHitTime(6050) = 1
time = 1
add = 255,255,255

[State -3, 1]
type = BGPalFX
trigger1 = ProjHitTime(6060) = 1
time = 2
add = 255,255,255

;---------------------------------------------------------------------------
; 各種サウンド

[State -3, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 50
value = 50,ifelse(Var(2) && Vel X,1,0)

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52
trigger2 = stateno = 106
value = 52,0

[State -3, 1]
type = PlaySnd
trigger1 = stateno = 100
trigger1 = AnimElem = 2
value = 100,0
channel = 1
loop = 1

[State -3, 1]
type = StopSnd
trigger1 = prevstateno = 100
trigger1 = stateno != 100
trigger2 = movetype = H
channel = 1

[State -3, 1]
type = PlaySnd
trigger1 = stateno = 105
trigger1 = AnimElem = 2
value = 105,0

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = [200,215]
trigger2 = stateno = 250
trigger3 = stateno = [400,410]
trigger4 = stateno = [600,615]
trigger5 = stateno = [300,310]
value = 200,0

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = [220,235]
trigger2 = stateno = 250
trigger3 = stateno = [420,430]
trigger4 = stateno = [620,635]
value = 200,1

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = [1000,1005]
trigger2 = stateno = [1060,1065]
trigger3 = stateno = 1070 || stateno = 1075
value = 200,2

[State -3, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 1010 || stateno = 1015
trigger2 = Time = 1
trigger2 = stateno = 1030 || stateno = 1035
trigger3 = AnimElem = 8
trigger3 = stateno = [1040,1045]
trigger4 = Time = 1
trigger4 = stateno = 1080 || stateno = 1085
trigger5 = Time = 1
trigger5 = stateno = 1110
value = 200,3

[State -3, 1]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 1020 || stateno = 1025
value = 200,4

[State -3, 1]
type = PlaySnd
trigger1 = AnimElem = 4
trigger1 = stateno = 1050 || stateno = 1055
value = 200,5
channel = 2
[State -3, 1]
type = StopSnd
trigger1 = stateno = 1050
trigger1 = AnimElem = 28
trigger2 = stateno = 1055
trigger2 = AnimElem = 52
trigger3 = stateno = 1051 || stateno = 1056
trigger3 = AnimElem = 34
trigger4 = stateno != [1050,1056]
channel = 2

[State -3, 1]
type = PlaySnd
trigger1 = AnimElem = 6
trigger1 = stateno = [3000,3010]
value = 200,6

[State -3, 1]
type = PlaySnd
trigger1 = AnimElem = 5
trigger1 = stateno = 3020 || stateno = 3025
value = 200,7

[State -3, 1]
type = PlaySnd
trigger1 = AnimElem = 7
trigger1 = stateno = 3030 || stateno = 3035 || stateno = 3040
value = 200,8

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = [3000,3005]
trigger2 = stateno = 3020
trigger3 = stateno = 3030 || stateno = 3035
value = 3000,0

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 3010
trigger2 = stateno = 3025
trigger3 = stateno = 3040
value = 3000,1

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = [1090,1095]
value = 200,10

[State -3, 1]
type = PlaySnd
triggerall = AnimElem = 6
trigger1 = stateno = [1090,1095]
value = 200,1
;---------------------------------------------------------------------------
; 各種声

[State -3, 2]
type = PlaySnd
triggerall = Time = 1
triggerall = random % 10 < 7
trigger1 = stateno = [200,205]
trigger2 = stateno = [220,225]
trigger3 = stateno = 250
trigger4 = stateno = 400 || stateno = 420
trigger5 = stateno = [600,605]
trigger6 = stateno = [620,625]
value = 300,0
channel = 0

[State -3, 2]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = [210,215]
trigger2 = stateno = [230,240]
trigger3 = stateno = 410 || stateno = 430
trigger4 = stateno = [610,615]
trigger5 = stateno = [630,635]
trigger6 = stateno = [330,350]
value = 300,1
channel = 0

[State -3, 2]
type = PlaySnd
triggerall = Time = 1
triggerall = random % 10 < 7
trigger1 = stateno = [300,310]
trigger2 = stateno = 820
value = 300,2
channel = 0

[State -3, 2]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = [800,815]
trigger2 = stateno = [830,835]
trigger3 = stateno = 5201
value = 300,14
channel = 0

[State -3, 2]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = [1000,1005]
trigger2 = stateno = [1060,1065]
trigger3 = stateno = 1070 || stateno = 1075
value = 300,3
channel = 0

[State -3, 2]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 1010 || stateno = 1015
trigger2 = stateno = [1040,1045]
trigger3 = stateno = 1080 || stateno = 1085
trigger4 = stateno = [1090,1095]
trigger5 = stateno = 1110
value = 300,4
channel = 0

[State -3, 2]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 1020 || stateno = 1025
value = 300,5
channel = 0

[State -3, 2]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 1050 || stateno = 1055
value = 300,6
channel = 0

[State -3, 2]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 1030 || stateno = 1035
value = 300,7
channel = 0

[State -3, 2]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = [3000,3010]
value = 300,8
channel = 0

[State -3, 2]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 3020 || stateno = 3025
value = 300,9
channel = 0

[State -3, 2]
type = PlaySnd
trigger1 = AnimElem = 5
trigger1 = stateno = 3020 || stateno = 3025
value = 300,10
channel = 0

[State -3, 2]
type = PlaySnd
trigger1 = Time = 1
trigger1 = stateno = 3030 || stateno = 3035 || stateno = 3040
value = 300,11
channel = 0

[State -3, 2]
type = PlaySnd
triggerall = stateno = 1100
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
trigger3 = AnimElem = 17
value = 300,17
channel = 0

[State -3, 2]
type = PlaySnd
triggerall = Time = 1
triggerall = Life
triggerall = random % 10 < 5
trigger1 = stateno = 5000
trigger1 = anim = 5000 || anim = 5010
trigger2 = stateno = 5010
trigger2 = anim = 5020
value = 5000,0
channel = 0
ignorehitpause = 1

[State -3, 2]
type = PlaySnd
triggerall = Time = 1
triggerall = Life
triggerall = random % 10 < 5
trigger1 = stateno = 5000 || stateno = 5020
trigger1 = anim != 5000 && anim != 5010
trigger2 = stateno = 5010
trigger2 = anim != 5020
value = 5000,1
channel = 0
ignorehitpause = 1

[State -3, 2]
type = PlaySnd
triggerall = Time = 1
triggerall = Life
triggerall = random % 10 < 4
trigger1 = stateno = 5020
value = 5000,3
channel = 0
ignorehitpause = 1

[State -3, 2]
type = PlaySnd
triggerall = Time = 1
triggerall = Life
triggerall = random % 10 < 4
trigger1 = stateno = 5100
value = 5000,2
channel = 0
ignorehitpause = 1

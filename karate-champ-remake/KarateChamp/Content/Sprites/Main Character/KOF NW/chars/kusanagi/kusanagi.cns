;쿄 신진잡기거리 69안됨 66됨 67로 결정
;760,700,1851 푸쉬타임예외 ;이상타 무식 무퍼타임이 1이아니라 0으로 설정되어있더라...지금은 1로바꿨다
;02버젼 맥투는 지금안쓰지만 데미지수정도안했다 귀찮아서
;쿠사농차만 공중마찰력 따로구했다
;max2 점프는 벌읍기랑 같이했다
;신진의 스파크수정은 아직안한다
;무식스파크위치는 독물기랑같이한다
;쿄랑쿠사도 찍기종류 밑의 충격파를 넣어야할텐데..
;외식섬돌을 상대공중에떳을땐 안맞게해야하는데..
;fvar(0)=버튼유지 x
;fvar(1)=약공격 평지
;fvar(2)=약공격 구석
;fvar(3)=강공격 평지
;fvar(4)=강공격 구석
;fvar(5)=날리기공격 평지
;fvar(6)=날리기공격 구석
;fvar(7)=약공격 코너푸시
;fvar(8)=강공격 코너푸시
;fvar(9)=날리기공격 코너푸시
;fvar(10)=맞고 날아가는 x축
;fvar(11)=맞고 날아가는 y축
;fvar(12)=맞는 상대 중력값
;fvar(13)=높게뜨는공격 x축
;fvar(14)=높게뜨는공격 y축
;fvar(15)=;xi 시스템 막았을때 더밀리기?
;fvar(16)=가드시히트백이 0일때
;fvar(17)=야마뱀술사,야마 드릴 연타모드바
;fvar(18)=야마 드릴 연타입력 셀루기
;fvar(19)=모래뿌리기바
;fvar(20)=다리걸때 x축
;fvar(21)=착지한순간
;fvar(22)=카운터모드 추가
;fvar(23)=강약구별
;fvar(24)=미닛맞고날아가기 x축
;fvar(25)=미닛맞고날아가기 y축
;fvar(26)=맞고 (멀리,돌면서?) 날아가는 x축
;fvar(27)=맞고 (멀리,돌면서?)날아가는 y축
;fvar(28)=맞고 (멀리,돌면서?)날아가는 중력
;fvar(29)=갑환 초필처럼 진자 높게올라가는 x축
;fvar(30)=갑환 초필처럼 진자 높게올라가는 y축
;fvar(31)=갑환 초필처럼 진자 높게올라가는 중력
;fvar(32)=쿨라 프리즈익스큐전 히트수셀루기
;fvar(33)=케오당했을때 소리두번안나게하기
;fvar(34)=레드킥맞고 밑으로 떨어질때 X축
;fvar(35)=레드킥맞고 밑으로 떨어질때 y축
;fvar(36)=anim 5058 일때 발동
;fvar(37)=구르기바
;fvar(38)=스파트위치 Y축에쓰임 4
;fvar(39)=버튼유지 y키
;var(0)=버튼유지 총괄
;var(1)=시작포즈랜덤결정
;var(2)=2k2모드
;var(3)=2k2모드1이상이면 모드발동상테
;var(4)=기본잡기딜레이관리
;var(5)=바이스가썻고 잡기필살기딜레이관리
;var(6)=추가커멘드입력
;var(7)=???자글류?
;var(8)=점프의 성격나누기
;var(9)=버튼유지 a키
;var(10)=pausetime 의 나 (보통약공격)
;var(11)=pausetime 히트시 상대 (보통약공격)
;var(12)=잡기풀기
;var(13)=업그레이드된자글
;var(14)=쿄의칠십오식에쓰인 업그레이드된자글2(베니의경우환영허리케인에쓰임)
;var(15)=pausetime 가드시 상대 (보통약공격)
;var(16)=업그레이드자금같은데 지금용도를모르겠음;신음소리에있으니쓰이고있지않음
;var(17)=팔렛구분
;var(18)=베니마루뇌진전 위치바
;var(19)=2히트이상시 데미지감소바
;var(20)=2k2모드 기관리
;var(21)=2k2모드 캔슬관리1
;var(22)=2k2모드 캔슬시번쩍임관리
;var(23)=2k2모드 캔슬관리2
;var(24)=기본기모드 캔슬관리3
;var(25)=스파트위치 Y축에쓰임 1
;var(26)=스파트위치 Y축에쓰임 2
;var(27)=캔슬관리 히트했을때만
;var(28)=스파트위치 x축에쓰임 1(공통)
;var(29)=약공격 hittime 가드시
;var(30)=점프했을때 성격관리
;var(31)=강공격 hittime 가드시
;var(33)=슈켄에쓰이는데 2k2모드인지아닌지구분
;var(34)=약공격 hittime
;var(35)=강공격 hittime
;var(36)=카운터모드좌우구분
;var(37)=카운터시+공격결정
;var(38)=카운터모드에쓰임왠지37이랑똑같은것같은데;;
;var(39)=카운터시대미지증가
;var(40)=히트사운드결정
;var(41)=구석인지아닌지 판단
;var(44)=이젠안씀(반동삼단차기 약강구분)(쿄의경우 황물기히트수셀루기)
;var(45)=pausetime 의 나 (보통강공격)
;var(46)=pausetime 히트시 상대 (보통강공격)
;var(47)=pausetime 가드시 상대 (보통강공격)
;var(48)=승리대사결정
;var(49)=2라운드승리시일러스트결정
;var(50)=사용시 2k2모드에 번쩍임기도깍임
;var(51)=2라운드승리시대사결정
;var(52)=라운드수셀루기
;var(53)=쓰이고는있으나 적용은 안하고있음 2k2
;var(54)=(가드포즈결정바)
;var(55)=AI
;var(56)= 버튼유지 b키
;var(57)=2k2모드게이지좌우구분?
;var(58~59)=점프..

[Data]
life = 1000
;power = 5000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 30		;13		;60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1
yscale = 1
ground.back = 16
ground.front = 15
air.back = 12
air.front = 11
height = 48
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 8, -96 
mid.pos = 16, -56
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 3.1		;3.2
walk.back = -3.1	;-3.2
run.fwd  = 6.25		;6.4, 0    
run.back = -4.5,-3.8 
jump.neu = 0,-10.5
jump.back = -3.2
jump.fwd = 3.2
runjump.back = -2.55,-8.1 
runjump.fwd = 4,-8.1      
airjump.neu = 0,-8.1      
airjump.back = -2.55      
airjump.fwd = 2.5         

[Movement]
airjump.num = 0      
airjump.height = 35  
yaccel = .65
stand.friction = .842 	;.6
crouch.friction = .842	;.1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS 깒긹깑: 딈?
[Statedef 180]
type = S
velset = 0

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,100

[State 180, 2]
type = ChangeState
trigger1 = command = "hold_x"
value = 183

[State 180, 3]
type = ChangeState
trigger1 = command = "hold_a"
value = 182

[State 180, 4]
type = ChangeState
trigger1 = command = "hold_y"
value = 181

[State 180, 4]
type = ChangeState
trigger1 = command = "hold_b"
value = 183

[State 180, 5]
type = ChangeState
trigger1 = Var(1) = [0,33]
value = 181

[State 180, 6]
type = ChangeState
trigger1 = Var(1) = [34,66]
value = 182

[State 180, 7]
type = ChangeState
trigger1 = Var(1) = [67,100]
value = 183

;---------------------------------------------------------------------------
; Win pose 1 - Bow
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 181, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 181,1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 2 - Bow
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 182,1

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 3 - Bow
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 183, 2]
type = PlaySnd
trigger1 = AnimElem = 4,=10
value = 181,1

[State 181, 1]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = RoundNotOver

[State 183]
type = Projectile
trigger1 = AnimElem = 4
projanim = 196
offset = 43,-66
velocity = 0,0
projremovetime = 10

[State 183]
type = Projectile
trigger1 = AnimElem = 4,=10
projanim = 197
offset = 43,-66
velocity = 0,0
projremovetime = 49

[State 183]
type = Projectile
trigger1 = AnimElem = 5
projanim = 197
offset = 45,-92
velocity = 0,0
projremovetime = 6

[State 183]
type = Projectile
trigger1 = AnimElem = 6
projanim = 197
offset = 35,-106
velocity = 0,0
projremovetime = 17

[State 183]
type = Projectile
trigger1 = AnimElem = 7
projanim = 197
offset = 46,-82
velocity = 0,0
projremovetime = 4

[State 183]
type = Projectile
trigger1 = AnimElem = 8
projanim = 199
offset = 30,-52
velocity = 0,0
projremovetime = 4

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction 시작 포즈
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

;VS kyo,Iori,k`
[State 191, 1]
type = ChangeState
triggerall = Time = 0
trigger1 = p2name = "K`" || p4name = "K`"	
trigger2 = p2name = "K2000" || p4name = "K2000"
trigger3 = p2name = "K" || p4name = "K"
trigger4 = p2name = "K'" || p4name = "K'"
trigger5 = p2name = "K'" || p4name = "K'"
trigger6 =  P2Name = "iori Yagami" || P4Name = "iori Yagami"
trigger7 =  P2Name = "iori" || P4Name = "iori"
trigger8 =  P2Name = "Kusanagi Kyo" || P4Name = "Kusanagi Kyo"
trigger9 =  P2Name = "Kyo" || P4Name = "Kyo"
trigger10 =  P2Name = "Kyo03" || P4Name = "Kyo03"
trigger11 =  P2Name = "ash" || P4Name = "ash"
trigger12 =  P2Name = "Kyo Kusanagi" || P4Name = "Kyo Kusanagi"
value = 192

;VS 무기를소기한케릭들
[State 191, 1]
type = ChangeState
triggerall = Time = 0
trigger1 = p2name = "whip" || p4name = "whip"	
trigger2 = p2name = "whip2000" || p4name = "whip2000"
trigger3 = p2name = "billy" || p4name = "billy"
trigger4 = p2name = "chang" || p4name = "chang"
trigger5 = p2name = "choi" || p4name = "choi"
trigger6 = p2name = "billy03" || p4name = "billy03"
trigger7 = p2name = "Billy Kane" || p4name = "Billy Kane"
trigger8 = p2name = "Billy Kane 03 " || p4name = "Billy Kane 03 "
trigger9 = p2name = "Billy Kane 03" || p4name = "Billy Kane 03"
value = 193

;VS k9999
[State 191, 1]
type = ChangeState
triggerall = Time = 0
trigger1 = p2name = "k9999" || p4name = "k9999"	
value = 194

[State 191, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[state 191, 1]
type = poweradd
trigger1 = time = 0
value = 1000

[State 191, 0]
type = PlaySnd
trigger1 = time = 1
value = 191, 1

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Intro vs. kyo,Iori,k`
[Statedef 192]
type = S
anim = 192

[State 192, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[state 192, 1]
type = poweradd
trigger1 = time = 0
value = 1000

[State 192, 0]
type = PlaySnd
trigger1 = time = 1
value = 191, 2

[State 192, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Intro vs. 무기를소지한케릭
[Statedef 193]
type = S
anim = 193

[State 193, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[state 193, 1]
type = poweradd
trigger1 = time = 0
value = 1000

[State 193, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 193, 1

[State 193, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Intro vs. k9999
[Statedef 194]
type = S
anim = 194

[State 194, 1]
type = AssertSpecial
trigger1 = 1
flag = Intro

[state 194, 1]
type = poweradd
trigger1 = time = 0
value = 1000

[State 194, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 194, 1

[State 194]
type = Projectile
trigger1 = AnimElem = 3
projanim = 196
offset = -20,-100
velocity = 0,0
projremovetime = 6

[State 194]
type = Projectile
trigger1 = AnimElem = 4
projanim = 197
offset = -25,-110
velocity = 0,0
projremovetime = 82

[State 194]
type = Projectile
trigger1 = AnimElem = 5
projanim = 197
offset = -23,-114
velocity = 0,0
projremovetime = 5

[State 194]
type = Projectile
trigger1 = AnimElem = 6
projanim = 197
offset = -4,-116
velocity = 0,0
projremovetime = 4

[State 194]
type = Projectile
trigger1 = AnimElem = 7
projanim = 198
offset = 18,-90
velocity = 0,0
projremovetime = 13

[State 194, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;라운드2시작
[Statedef 174]
type = S
ctrl = 0
anim = 174
velset = 0,0

[State 174, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,100]
flag = Intro

[State 174]
type = Projectile
trigger1 = AnimElem = 2
projanim = 196
offset = 20,-98
velocity = 0,0
projremovetime = 3

[State 174]
type = Projectile
trigger1 = AnimElem = 3
projanim = 197
offset = 7,-98
velocity = 0,0
projremovetime = 13

[State 174]
type = Projectile
trigger1 = AnimElem = 3,=13
projanim = 173
offset = 7,-98
velocity = 0,0
projremovetime = 21

[State 174, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; 도발
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 195,1

[State 195, 1]
type = CtrlSet
trigger1 = Time = 33
value = 1

[State 195, 4]
type = lifeadd
trigger1 = command = "die"
value = -999
kill = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 원거리 약펀치
[Statedef 200]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 200
poweradd = 0
facep2 = 1

[State 200, 4]
type = ChangeState
trigger1 = P2dist X <= 64 && Time = 0
value = 205

[State 200, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 200, 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, NA
damage = 39    ;34대
animtype = Light
guardflag = M
getpower = 46,46	;22대
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 3, -85
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),200
guardsound = s200, 3
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6000,6005)
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 55),var(28),ifelse(P2Dist x<= 8,8,55))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-80,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -77),var(26),ifelse(var(26)<= -92,-92-(pos y),-77-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -77),var(25),ifelse(var(25)<= -92,-92,-77))
ignorehitpause = 1

[State 200, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 근접 약펀치
[Statedef 205]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 205
poweradd = 0
facep2 = 1

[State 205, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 205, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 205, 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, NA
damage = 29    ;34대
animtype = Light
guardflag = M
getpower = 46,46	;22대
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 3,-84
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),200
guardsound = s200, 3
ground.type = High
air.type = High
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6000,6005)
pos = Ceil(ifelse((P2Dist x> 4 && P2Dist x< 51),var(28),ifelse(P2Dist x<= 4,4,51))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-70,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -69),var(26),ifelse(var(26)<= -92,-92-(pos y),-69-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -69),var(25),ifelse(var(25)<= -92,-92,-69))
ignorehitpause = 1

[State 205, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 205, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 강펀치
[Statedef 210]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 210
facep2 = 1

[State 210, 4]
type = ChangeState
trigger1 = P2dist X <= 64 && Time = 0
value = 215

[State 210, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, NA
animtype  = Hard
damage    = 83	;8.3대
guardflag = M
getpower = 91,91	;11대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 2,-87
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),210
guardsound = s200,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 32,32,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-70,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -69),var(26),ifelse(var(26)<= -92,-92-(pos y),-69-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -69),var(25),ifelse(var(25)<= -92,-92,-69))
ignorehitpause = 1

[State 210, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;근접 강펀치
[Statedef 215]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 215
facep2 = 1

[State 215, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 215, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 215, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 215, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, NA
animtype  = Hard
damage    = 74	;8.3대
guardflag = M
getpower = 91,91	;11대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,-65
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),210
guardsound = s200,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
;ground.velocity = ifelse(var(41)=0,-11,ifelse(var(41)=1,-16,-16)),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 55),var(28),ifelse(P2Dist x<= 8,8,55))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -80 && var(26) < -49),var(26),ifelse(var(26)<= -80,-80-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -80 && var(25) < -49),var(25),ifelse(var(25)<= -80,-80,-49))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 10
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 20 && P2Dist x< 59),var(28),ifelse(P2Dist x<= 20,20,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 10
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 10
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -116 && var(26) < -69),var(26),ifelse(var(26)<= -116,-116-(pos y),-69-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 10
trigger1 = 1
fvar(38) = ifelse((var(25) > -116 && var(25) < -69),var(25),ifelse(var(25)<= -116,-116,-69))
ignorehitpause = 1

[State 215, 5]
type = ChangeState
triggerall = var(3) > 0
triggerall = var(55) = 1
triggerall = var(41) = 1
triggerall = animtime <= -20
trigger1 = movecontact > 0
trigger1 = random <= 900
value = 750

[State 215, 5]
type = ChangeState
triggerall = var(55) = 1
triggerall = animtime <= -20
trigger1 = movecontact > 0
trigger1 = random <= 400
value = 1006

[State 215, 5]
type = ChangeState
triggerall = power >= 2000
triggerall = var(3) < 1
triggerall = var(55) = 1
triggerall = var(41) = 1
triggerall = animtime <= -20
trigger1 = movecontact > 0
trigger1 = random <= 200
value = 730

[State 215, 5]
type = ChangeState
triggerall = var(55) = 1
triggerall = animtime <= -20
trigger1 = movecontact > 0
trigger1 = random <= 600
value = 1750

[State 215, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 원거리 약킥
[Statedef 230]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 230
facep2 = 1

[State 230, 4]
type = ChangeState
trigger1 = P2dist X <= 64 && Time = 0
value = 235

[State 230, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 230, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 230, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, NA
animtype  = Light
damage    = 49		;15.1대
guardflag = M
getpower = 46,46	;22대
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 10,-71
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),230
guardsound = s200,3
ground.type = High
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6000,6005)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 95),var(28),ifelse(P2Dist x<= 32,32,95))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-72-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -80 && var(26) < -57),var(26),ifelse(var(26)<= -80,-80-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -80 && var(25) < -57),var(25),ifelse(var(25)<= -80,-80,-57))
ignorehitpause = 1

[State 230, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 근접 약킥
[Statedef 235]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 235
facep2 = 1

[State 235, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 235, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 235, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, NA
animtype  = Light
damage    = 29		;15.1대
guardflag = L
getpower = 46,46	;22대
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 6,-45
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),230
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6000,6005)
pos = Ceil(ifelse((P2Dist x> 16 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 16,16,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -44 && var(26) < -21),var(26),ifelse(var(26)<= -44,-44-(pos y),-21-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -44 && var(25) < -21),var(25),ifelse(var(25)<= -44,-44,-21))
ignorehitpause = 1

[State 235, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 235, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 원거리 강킥
[Statedef 240]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 240
facep2 = 1

[State 240, 4]
type = ChangeState
trigger1 = P2dist X <= 64 && Time = 0
value = 245

[State 240, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 240, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 240, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 240, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, NA
animtype  = Hard
damage    = 103		;8.2대
guardflag = M
getpower = 91,91	;11대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 2,-61
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),240
guardsound = s200,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 4 && P2Dist x< 75),var(28),ifelse(P2Dist x<= 4,4,75))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-62,(-70-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -76 && var(26) < -53),var(26),ifelse(var(26)<= -76,-76-(pos y),-53-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -76 && var(25) < -53),var(25),ifelse(var(25)<= -76,-76,-53))
ignorehitpause = 1

[State 240, 4]
type = PosAdd
trigger1 = AnimElem = 3
x = 2

[State 240, 5]
type = PosAdd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
x = 4

[State 240, 6]
type = PosAdd
trigger1 = AnimElem = 5
x = 6

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 근접 강킥
[Statedef 245]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 245
facep2 = 1

[State 245, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 245, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 245, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 245, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, NA
animtype  = Hard
damage    = 83	;8.2대
guardflag = M
getpower = 91,91	;11대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = -9,-73
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),240
guardsound = s200,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 20 && P2Dist x< 75),var(28),ifelse(P2Dist x<= 20,20,75))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-62,(-82-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -84 && var(26) < -53),var(26),ifelse(var(26)<= -84,-84-(pos y),-53-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -84 && var(25) < -53),var(25),ifelse(var(25)<= -84,-84,-53))
ignorehitpause = 1

[State 245, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;CD 날리기 공격
[Statedef 250]
type=S
movetype=A
physics=S
poweradd=0
ctrl=0
velset=0,0
anim=250
facep2 = 1
juggle = 1

[State 250, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 250, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 250, 1]
type=PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value=250,1

[State 250, 1]
type = PosAdd
trigger1 = AnimElem = 5
trigger2 = AnimElem = 5,=1
x = 6

[State 250, 1]
type = PosAdd
trigger1 = AnimElem = 5,=2
x = 4

[State 250, 1]
type = PosAdd
trigger1 = AnimElem = 5,=3
x = 2

[State 250, 1]
type = PosAdd
trigger1 = AnimElem = 5,=4
x = 1

[State 250, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, NA
animtype  = Hard
damage    = 142		;7.3대
guardflag = M
getpower = 122,122	;8.2대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,-55
hitsound   = s250,2
guardsound = s200,3
ground.type = Low
fall = 1
ground.slidetime = 22
ground.hittime  = var(35)+4
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 22
guard.hittime  = var(31)+4
guard.velocity = (ifelse(var(41)=0,fvar(5)*fvar(15),ifelse(var(41)=1,fvar(6)*fvar(15),fvar(6)*fvar(15))))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 63),var(28),ifelse(P2Dist x<= 32,32,63))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -76 && var(26) < -21),var(26),ifelse(var(26)<= -76,-76-(pos y),-21-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -76 && var(25) < -21),var(25),ifelse(var(25)<= -76,-76,-21))
ignorehitpause = 1

[State 250, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 250, 4]
type=ChangeState
trigger1=AnimTime = 0
value=0
ctrl=1

;---------------------------------------------------------------------------
; 가드캔슬 CD 날리기 공격
[Statedef 260]
type=S
movetype=A
physics=S
;poweradd=-1000
ctrl=0
velset=0,0
anim=260
facep2 = 1
juggle = 1

[State 260, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 260, 0]
type = varadd
trigger1 = time = 0
var(20) = 10
[State 260, 0]
type = varadd
trigger1 = time = 0 && var(3) > 0
var(2) = -1000

[State 260,0]
type = NotHitBy
trigger1 = AnimElem = 1	;3
value = SCA
time = 10

[State 260,1]
type = HitBy
trigger1 = AnimElem = 1	;3
value = SCA, NT, ST, HT
time = 10

;[State 260, 1]
;type = EnvColor
;trigger1 = Time = 0
;value = 231,231,231
;time = 2

;[State 260, 3]
;type = Pause
;trigger1 = Time = 0
;time = 6
;movetime = 0

[State 260, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 260, 1]
type=PlaySnd
trigger1 = time = 2
value=250,1

[State 260]
type = VelSet
trigger1 = AnimElem = 6
x = 2.6

[State 260]
type = VelSet
trigger1 = AnimElem = 7
x = 0

[State 260, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, NA
animtype  = Hard
damage    = 39
guardflag = M
getpower = 46,46
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = -10,-55
hitsound   = s250,2
guardsound = s200,3
ground.type = Low
fall = 1
ground.slidetime = 22
ground.hittime  = var(35)+4
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 22
guard.hittime  = var(31)+4
guard.velocity = (ifelse(var(41)=0,fvar(5)*fvar(15),ifelse(var(41)=1,fvar(6)*fvar(15),fvar(6)*fvar(15))))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
kill = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 24 && P2Dist x< 63),var(28),ifelse(P2Dist x<= 24,24,63))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -76 && var(26) < -21),var(26),ifelse(var(26)<= -76,-76-(pos y),-21-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -76 && var(25) < -21),var(25),ifelse(var(25)<= -76,-76,-21))
ignorehitpause = 1

;[State 260, 0]
;type = varset
;trigger1 = movehit > 0
;var(13) = 1
;ignorehitpause = 1
;persistent = 0

[State 260, 4]
type=ChangeState
trigger1=AnimTime = 0
value=0
ctrl=1

;---------------------------------------------------------------------------
;앉아 약펀치
[Statedef 400]
type    = C
movetype= A
physics = C
poweradd= 0
ctrl = 0
anim = 400
facep2 = 1

[State 400, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 400, 1]
type = VelSet
trigger1 = Time = 0
x = 0

[State 400, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 400, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 400, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = C, NA
damage = 20    ;51대
animtype  = Light
guardflag = M
getpower = 46,46	;22대
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 7,-50
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),200
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6000,6005)
pos = Ceil(ifelse((P2Dist x> 4 && P2Dist x< 57),var(28),ifelse(P2Dist x<= 4,4,57))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-58,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -60 && var(26) < -45),var(26),ifelse(var(26)<= -60,-60-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -60 && var(25) < -45),var(25),ifelse(var(25)<= -60,-60,-45))
ignorehitpause = 1

[State 210, 5]
type = ChangeState
trigger1 = var(55) = 1
trigger1 = movecontact > 0
value = 1000

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;앉아 강펀치
[Statedef 410]
type    = C
movetype= A
physics = C
poweradd= 0
ctrl = 0
anim = 410
facep2 = 1

[State 410, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 410, 1]
type = VelSet
trigger1 = Time = 0
x = 0

[State 410, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 410, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 410, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = C, NA
damage    = 93		;8.6대
animtype  = Hard
guardflag = M
getpower = 91,91	;11대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 2,-83
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),210
guardsound = s200,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 9 && P2Dist x< 38),var(28),ifelse(P2Dist x<= 9,9,38))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-64,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -56),var(26),ifelse(var(26)<= -96,-96-(pos y),-56-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 3, >= 0 && AnimElem = 3, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -56),var(25),ifelse(var(25)<= -96,-96,-56))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 43),var(28),ifelse(P2Dist x<= 12,12,43))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-72,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -136 && var(26) < -73),var(26),ifelse(var(26)<= -136,-136-(pos y),-73-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -136 && var(25) < -73),var(25),ifelse(var(25)<= -136,-136,-73))
ignorehitpause = 1

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;앉아 약킥
[Statedef 430]
type    = C
movetype= A
physics = C
poweradd= 0
ctrl = 0
anim = 430
facep2 = 1

[State 430, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 430, 1]
type = VelSet
trigger1 = Time = 0
x = 0

[State 430, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 430, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = C, NA
damage    = 20		;26대
animtype  = Light
guardflag = L
getpower = 46,46	;22대
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 7,-7
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),230
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6000,6005)
pos = Ceil(ifelse((P2Dist x> 4 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 4,4,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-8,(-8-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -16 && var(26) < -1),var(26),ifelse(var(26)<= -16,-16-(pos y),-1-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -16 && var(25) < -1),var(25),ifelse(var(25)<= -16,-16,-1))
ignorehitpause = 1

[State 430, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 210, 5]
type = ChangeState
trigger1 = var(55) = 1
trigger1 = movecontact > 0
value = 400

[State 430, 3]
type = ChangeState 
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;앉아 강킥
[Statedef 440]
type    = C
movetype= A
physics = C
poweradd= 0
ctrl = 0
anim = 440
facep2 = 1
juggle = 1

[State 440, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 440, 1]
type = VelSet
trigger1 = Time = 0
x = 0

[State 440, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 440, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 440, 3]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = C, NA
damage    = 113	;7.4대
guardflag = L
getpower = 91,91	;11대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,-25
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),240
guardsound = s200,3
ground.type = Trip
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(20),fvar(11)
air.velocity = fvar(20),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 83),var(28),ifelse(P2Dist x<= 12,12,83))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -44 && var(26) < -21),var(26),ifelse(var(26)<= -44,-44-(pos y),-21-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -44 && var(25) < -21),var(25),ifelse(var(25)<= -44,-44,-21))
ignorehitpause = 1

[State 440, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;팔십팔식
[Statedef 730]
type = C
movetype = A
physics = C
anim = 450
poweradd = 0
velset = 0,0
ctrl = 0
facep2 = 1

[State 450, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 450, 1]
type = PosAdd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
trigger5 = AnimElem = 8
trigger6 = AnimElem = 9
x = 8

[State 450, PlaySnd]
type = PlaySnd
trigger1 = time = 1
trigger2 = AnimElem = 5
value = 210,4

[State 450, 2]
type = PlaySnd
trigger1 = time = 3
value = 211,1

[State 450, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 212,1

[State 450, 3]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
persistent = 0
attr = C, NA
animtype = hard
damage = 76	;7.2대 분의2대
guardflag = L
getpower = 60,60	;16.8대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,-7
hitsound = s5,240
guardsound = s200,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
AIR.FALL = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 83),var(28),ifelse(P2Dist x<= 28,28,83))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-12,(-12-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -24 && var(26) < -1),var(26),ifelse(var(26)<= -24,-24-(pos y),-1-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -24 && var(25) < -1),var(25),ifelse(var(25)<= -24,-24,-1))
ignorehitpause = 1

[State 450, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
persistent = 0
attr = C, NA
animtype = hard
damage = 76
guardflag = L
getpower = 60,60	;16.8대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 0,-33
hitsound = s5,240
guardsound = s200,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
AIR.FALL = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 103),var(28),ifelse(P2Dist x<= 32,32,103))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -44 && var(26) < -21),var(26),ifelse(var(26)<= -44,-44-(pos y),-21-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -44 && var(25) < -21),var(25),ifelse(var(25)<= -44,-44,-21))
ignorehitpause = 1

[State 215, 5]
type = ChangeState
triggerall = power >= 2000
triggerall = var(3) < 1
triggerall = var(55) = 1
triggerall = var(41) = 1
triggerall = animtime <= -40
trigger1 = movecontact > 0
value = 1993

[State 450, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;점프 약펀치
[Statedef 600]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 600, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 600

[State 600, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 600

[State 600, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 601

[State 600, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 600,PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 600, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 600, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, NA
damage    = 49		;26대
animtype = Medium
guardflag = H
getpower = 46,46	;22대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 10,-50
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),200
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2 
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = (anim = 600 || anim = 600)
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6000,6005)
pos = Ceil(ifelse((P2Dist x> 13 && P2Dist x< 42),var(28),ifelse(P2Dist x<= 13,13,42))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = (anim = 600 || anim = 600)
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-71,(-103-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = (anim = 600 || anim = 600)
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -72 && var(26) < -49),var(26),ifelse(var(26)<= -72,-72-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = (anim = 600 || anim = 600)
trigger1 = 1
fvar(38) = ifelse((var(25) > -72 && var(25) < -49),var(25),ifelse(var(25)<= -72,-72,-49))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = anim = 601
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6000,6005)
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 51),var(28),ifelse(P2Dist x<= 12,12,51))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = anim = 601
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-70,(-102-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = anim = 601
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -72 && var(26) < -49),var(26),ifelse(var(26)<= -72,-72-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = anim = 601
trigger1 = 1
fvar(38) = ifelse((var(25) > -72 && var(25) < -49),var(25),ifelse(var(25)<= -72,-72,-49))
ignorehitpause = 1

;---------------------------------------------------------------------------
;점프 강펀치
[Statedef 610]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 610, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 615

[State 610, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 610

[State 610, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 610

[State 610, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 610,PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 610, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 610, 3]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, NA
damage = 83		;9.5대
guardflag = H
animtype = Medium
getpower = 91,91	;11대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy =0,-44
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),210
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = anim = 610
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> -4 && P2Dist x< 47),var(28),ifelse(P2Dist x<= -4,-4,47))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = anim = 610
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-71,(-101-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = anim = 610
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -45),var(26),ifelse(var(26)<= -68,-68-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = anim = 610
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -45),var(25),ifelse(var(25)<= -68,-68,-45))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = anim = 615
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> -8 && P2Dist x< 47),var(28),ifelse(P2Dist x<= -8,-8,47))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = anim = 615
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-69,(-101-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = anim = 615
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -45),var(26),ifelse(var(26)<= -68,-68-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = anim = 615
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -45),var(25),ifelse(var(25)<= -68,-68,-45))
ignorehitpause = 1

;---------------------------------------------------------------------------
;점프 약킥
[Statedef 630]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 630, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 635

[State 630, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 630

[State 630, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 631

[State 630, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 630,PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 200, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 200, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,200,ifelse(var(42)=1,201,202))),1

[State 630, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 630, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, NA
damage = 59		;18대
guardflag = H
animtype = Medium
getpower = 46,46	;22대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6000999
guard.sparkno = s6005999
sparkxy = 7,ifelse(var(30)=1,-40,-35)
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),230
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 10
guard.hittime  = var(29)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = anim = 630
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6000,6005)
pos = Ceil(ifelse((P2Dist x> 9 && P2Dist x< 34),var(28),ifelse(P2Dist x<= 9,9,34))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = anim = 630
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-71,(-103-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = anim = 630
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -54 && var(26) < -31),var(26),ifelse(var(26)<= -54,-54-(pos y),-31-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = anim = 630
trigger1 = 1
fvar(38) = ifelse((var(25) > -54 && var(25) < -31),var(25),ifelse(var(25)<= -54,-54,-31))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = anim = 631
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6000,6005)
pos = Ceil(ifelse((P2Dist x> 10 && P2Dist x< 37),var(28),ifelse(P2Dist x<= 10,10,37))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = anim = 631
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-70,(-83-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = anim = 631
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -52 && var(26) < -29),var(26),ifelse(var(26)<= -52,-52-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = anim = 631
trigger1 = 1
fvar(38) = ifelse((var(25) > -52 && var(25) < -29),var(25),ifelse(var(25)<= -52,-52,-29))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = anim = 635
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6000,6005)
pos = Ceil(ifelse((P2Dist x> 16 && P2Dist x< 47),var(28),ifelse(P2Dist x<= 16,16,47))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = anim = 635
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-70,(-104-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = anim = 635
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -84 && var(26) < -29),var(26),ifelse(var(26)<= -84,-84-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = anim = 635
trigger1 = 1
fvar(38) = ifelse((var(25) > -84 && var(25) < -29),var(25),ifelse(var(25)<= -84,-84,-29))
ignorehitpause = 1

;---------------------------------------------------------------------------
;점프 강킥
[Statedef 640]
type    = A
movetype= A
physics = A
poweradd= 0
ctrl = 0

[State 640, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 645

[State 640, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 640

[State 640, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 641

[State 640, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5 && (anim = 640 || anim = 641)
movetype = I

[State 640, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4 && anim = 645
movetype = I

[State 640,PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 210, 0]
type = varrandom
trigger1 = time = 0
v = 42
range = 2

[State 210, 2]
type = PlaySnd
trigger1 = time = 2
value = (ifelse(var(42)=0,210,ifelse(var(42)=1,211,212))),1

[State 640, 0]
type = varrandom
trigger1 = time = 0
v = 40
range = 2

[State 640, 3]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, NA
damage = ifelse(anim = 645,142,118)
guardflag = H
animtype = Medium
getpower = 91,91	;11대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy = 9,ifelse(var(30)=1,-42,-59)
hitsound = s(ifelse(var(40)=0,5,ifelse(var(40)=1,6,7))),240
guardsound = s200,3
ground.type = Low
ground.slidetime = 10
ground.hittime  = var(34)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = (anim = 640 || anim = 641)
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 0 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 0,0,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = (anim = 640 || anim = 641)
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-68,(-101-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = (anim = 640 || anim = 641)
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -76 && var(26) < -53),var(26),ifelse(var(26)<= -76,-76-(pos y),-53-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = (anim = 640 || anim = 641)
trigger1 = 1
fvar(38) = ifelse((var(25) > -76 && var(25) < -53),var(25),ifelse(var(25)<= -76,-76,-53))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = anim = 645
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 4 && P2Dist x< 59),var(28),ifelse(P2Dist x<= 4,4,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = anim = 645
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-71,(-103-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = anim = 645
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -72 && var(26) < -49),var(26),ifelse(var(26)<= -72,-72-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = anim = 645
trigger1 = 1
fvar(38) = ifelse((var(25) > -72 && var(25) < -49),var(25),ifelse(var(25)<= -72,-72,-49))
ignorehitpause = 1

;---------------------------------------------------------------------------
;점프 CD 날리기공격
[Statedef 650]
type=A
movetype=A
physics=A
poweradd= 0
ctrl=0
;anim=650

[State 640, ANIM1]
type = changeanim
trigger1 = !Time && var(30) = 1
value = 650

[State 640, ANIM2]
type = changeanim
trigger1 = !Time && var(30) = 2
value = 650

[State 640, ANIM3]
type = changeanim
trigger1 = !Time && var(30) = 3
value = 651

[State 650, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 250, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 210,4

[State 650, 1]
type=PlaySnd
trigger1 = time = 2
trigger1 = Random < 500
value=250,1

[State 650, 3]
type=HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr=A, NA
damage=ifelse(anim = 651,113,152)
animtype=Hard
guardflag=m
getpower = 122,122	;8.2대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy= 9,-41
hitsound= s250,2
guardsound= s200,3
ground.type=High
ground.slidetime = 22
ground.hittime  = var(35)+4
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 22
guard.hittime  = var(31)+4
guard.velocity = (ifelse(var(41)=0,fvar(5)*fvar(15),ifelse(var(41)=1,fvar(6)*fvar(15),fvar(6)*fvar(15))))
fall=1
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 20 && P2Dist x< 51),var(28),ifelse(P2Dist x<= 20,20,51))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-70,(-103-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -84 && var(26) < -37),var(26),ifelse(var(26)<= -84,-84-(pos y),-37-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -84 && var(25) < -37),var(25),ifelse(var(25)<= -84,-84,-37))
ignorehitpause = 1

[State 650, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

;---------------------------------------------------------------------------
;외식 나락 떨구기
[Statedef 660]
type=A
movetype=A
physics=A
poweradd= 0
ctrl=0
anim=660

[State 660, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 660,PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 200,4

[State 660, 1]
type=PlaySnd
trigger1 = time = 3
value=211,1

[State 660, 3]
type=HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr=A, NA
damage=69		;15.5대
animtype=Hard
guardflag=H
getpower = 106,106	;9.5대
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6001999
guard.sparkno = s6006999
sparkxy= 8,-46
hitsound=s5,210
guardsound=s200,3
ground.type=Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(34),fvar(35)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.fall = 1
fall.yvelocity = -5
fall.envshake.time = 15
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 6 && P2Dist x< 49),var(28),ifelse(P2Dist x<= 6,6,49))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-72,(-102-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -72 && var(26) < -41),var(26),ifelse(var(26)<= -72,-72-(pos y),-41-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -72 && var(25) < -41),var(25),ifelse(var(25)<= -72,-72,-41))
ignorehitpause = 1

;---------------------------------------------------------------------------
;C잡기 팔철
[Statedef 800]
type = S
movetype = A
physics = S
poweradd= 0
velset = 0,0
anim = 800
ctrl = 0
facep2 = 1

[State 800, 1]
type = HitDef
trigger1 = var(4)<=0
trigger1 = time = 0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 37,0,0,1
p2stateno = 820

[State 800, 2]
type = ChangeState
trigger1 = movehit > 0
trigger1 = AnimTime = 0
value = 810

[State 800, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 215
ctrl = 1

;---------------------------------------------------------------------------
;C 잡기 성공 
[Statedef 810]
type = S
movetype = A
physics = S
anim = 810
ctrl = 0
velset = 0
facep2 = 1

[State 810, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 4, <= 9
edge = 73,0

[State 810, Width]
type = width
trigger1 = AnimElem = 7, >= 0 && AnimElem = 9, <= 3
edge = 73,0

[State 810, 4]
type = targetlifeadd
trigger1 = animelem = 6
value = -157

[State 815, GrabSpark]
type = Explod
trigger1 = AnimElem = 6
id = 6002
anim = 6002
pos = 56,-72
sprpriority = 7
ownpal = 1
facing = 1

[State 810, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = 5,210

[State 810, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 800,2

[State 810, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 800,1

[State 810, GrabSpark]
type = Explod
trigger1 = AnimElem = 2
id = 850
anim = 850
pos = 41,-83
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 29

[State 810, 1]
type = PosAdd
trigger1 = AnimElem = 5
x = 4

[State 810, 1]
type = PosAdd
trigger1 = AnimElem = 6
x = 16

[State 810, 1]
type = PosAdd
trigger1 = AnimElem = 7
x = 8

[State 810, 4]
type = TargetBind
trigger1 = animelem = 1 || animelem = 5
pos = 38,ifelse(target,Const(size.head.pos.y)>-60,-24,0)

[State 810, 4]
type = TargetBind
trigger1 = animelem = 7
pos = 75,-15

[State 810, 1]
type = SprPriority
trigger1 = Time = 0
value = 2

[State 810, VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = 0

[State 810, Cancel Var]
type = varset
Triggerall = Time = [0,16]
trigger1 = target, command = "y"
trigger2 = target, command = "x"
trigger3 = target, command = "z"
var(12) = 1

[State 810, Cancel]
type = changestate
Trigger1 = Time = [7,16]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 811

[State 810, Cancel]
type = targetstate
Trigger1 = Time = [7,16]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 812

[State 810, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(12) = 0

[State 810, 10]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------
;C잡기 실패
[Statedef 811]
type    = S
movetype= I
physics = S
velset = 0,0
anim = 811
ctrl = 0

[State 811,2]
type = PlayerPush
trigger1 = 1
value = 0

[State 811, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = 250,2

[State 811, 0]
type = Envcolor
trigger1 = Time = 9
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 1
under = 1
supermove = 1

;[State 811, 0]
;type = NotHitBy
;trigger1 = 1
;value = SCA

;[State 811]
;type = VelSet
;trigger1 = AnimElem = 2
;x = -8.6

;[State 811]
;type = VelSet
;trigger1 = AnimElem = 2,=17
;x = 0

[State 811]
type = posadd
trigger1 = time = 9
x = -12

[State 811]
type = posadd
trigger1 = time = 10
x = -9

[State 811]
type = posadd
trigger1 = time = 11
x = -7

[State 811]
type = posadd
trigger1 = time = 12
x = -5

[State 811]
type = posadd
trigger1 = time = 13
x = -4

[State 811]
type = posadd
trigger1 = time = 14
x = -3

[State 811]
type = posadd
trigger1 = time = [15,16]
x = -2

[State 811]
type = posadd
trigger1 = time = [17,18]
trigger2 = time = 20
trigger3 = time = 22
x = -1

[State 811, Cancel]
type = targetstate
Trigger1 = time = 0
value = 812

;[State 811, MD]
;type = makedust
;Trigger1 = 1
;pos = 0,0
;spacing = 3

[State 811, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(12) = 0

[State 811, END]
type = changestate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------
;P2 잡기풀기
[Statedef 812]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0

[State 812, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 812, 0]
type = NotHitBy
trigger1 = 1
value = SCA

;[State 812]
;type = VelSet
;trigger1 = time = 0
;x = -8.6

;[State 812]
;type = VelSet
;trigger1 = time = 10
;x = 0

[State 812]
type = VelSet
trigger1 = time = 0
x = -12

[State 812]
type = VelSet
trigger1 = time = 1
x = -9

[State 812]
type = VelSet
trigger1 = time = 2
x = -7

[State 812]
type = VelSet
trigger1 = time = 3
x = -5

[State 812]
type = VelSet
trigger1 = time = 4
x = -4

[State 812]
type = VelSet
trigger1 = time = 5
x = -3

[State 812]
type = VelSet
trigger1 = time = [6,7]
x = -2

[State 812]
type = VelSet
trigger1 = time = [8,9]
trigger2 = time = 11
trigger3 = time = 13
x = -1

[State 812, ANIM1]
type = changeanim
trigger1 = selfanimexist(812)
Trigger1 = time = 0
value = 812

[State 812, ANIM2]
type = changeanim
trigger1 = !selfanimexist(812)
trigger1 = selfanimexist(200)
Trigger1 = Time = 0
value = 200

[State 812, ANIM3]
type = changeanim
trigger1 = !selfanimexist(812)
trigger1 = !selfanimexist(200)
Trigger1 = Time = 0
value = 5000

[State 812, END]
type = selfstate
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------
; C잡기 잡힌 상테
[Statedef 820]
type = A
movetype = H
physics = N
velset = 0
facep2 = 1
sprpriority = 1

[State 820,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 820, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 820

[State 810, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 821

;---------------------------------------------------------------------------
; C잡기 맞는2
[Statedef 821]
type = A
movetype = H
physics = N
velset = 0,0
sprpriority = 1

[State 821, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 821, Vel]
type = Velset
trigger1 = Time = 1
x = -4.34
y = -7.1

[State 821, Vel]
type = Veladd
trigger1 = Time >= 1
y = 0.523

[State 821, 0]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 821, 0]
type = SelfState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
;D잡기 일찰 업어치기
[Statedef 825]
type = S
movetype = A
physics = S
poweradd= 0
velset = 0,0
anim = 800
ctrl = 0
facep2 = 1

[State 825, 1]
type = HitDef
trigger1 = var(4)<=0
trigger1 = time = 0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
attr = S, NT
priority = 2, miss
sparkno = -1
snap = 37,0,0,1
p2stateno = 840

[State 825, 2]
type = ChangeState
trigger1 = movehit > 0
trigger1 = AnimTime = 0
value = 830

[State 825, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 245
ctrl = 1

;---------------------------------------------------------------------------
;D 잡기 성공
[Statedef 830]
type = S
movetype = A
physics = S
velset = 0,0
ctrl = 0
anim = 830
facep2 = 1

[State 830, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 4, <= 9
edge = 53,0

[State 830, Width]
type = width
trigger1 = AnimElem = 5, >= 0 && AnimElem = 8, <= 22
edge = 0,73

[State 830, Width]
type = width
trigger1 = AnimElem = 9, >= 0 && AnimElem = 13, <= 4
edge = 73,0

[State 830, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 800,2

[State 830, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = 800,1

[State 830, 2]
type = PlaySnd
trigger1 = animelem = 5,=4
trigger2 = AnimElem = 8
value = 830,2

[State 830, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 5,210

[State 830, GrabSpark]
type = Explod
trigger1 = AnimElem = 2
id = 850
anim = 850
pos = 41,-83
sprpriority = 2
ownpal = 1
removeongethit = 1
removetime = 29

[State 830, GrabSpark]
type = Explod
trigger1 = AnimElem = 8
anim = 6002
postype = p1
pos = -41,-1
sprpriority = 5
bindtime = 16
ownpal = 1

;[State 830, 2]
;type = PlaySnd
;trigger1 = AnimElem = 5
;value = 210,1

[State 830, Push]
type = PlayerPush
trigger1 = AnimElem >= 3
value = 0

[State 830, Sprite]
type = SprPriority
trigger1 = AnimElem >= 1
value = 3

[State 830, 1]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
x = -16

[State 830, 4]
type = TargetBind
trigger1 = animelem = 3
pos = 25,-144

[State 830, 5]
type = TargetBind
trigger1 = animelem = 4
pos = 7,-154

[State 830, 6]
type = TargetBind
trigger1 = animelem = 5
pos = 0,-126

[State 830, 7]
type = TargetBind
trigger1 = animelem = 5,=4
pos = -33,-4;-79

[State 830, 7]
type = TargetBind
trigger1 = animelem = 5,=9
pos = -32,-4;-66

[State 830, 8]
type = TargetBind
trigger1 = animelem = 6
pos = -64,0

[State 830, Shake]
type = EnvShake
trigger1 = animelem = 5,=4
time = 10
ampl = -8

[State 830, Shake]
type = EnvShake
trigger1 = animelem = 8
time = 15
ampl = -8

[State 830, Turn]
type = Turn
trigger1 = animelem = 9

[State 830, 3]
type = targetlifeadd
trigger1 = animelem = 5,=4
value = -78
kill = 0

[State 830, 4]
type = targetlifeadd
trigger1 = animelem = 8
value = -79

[State 830, VarSet]
type = VarSet
trigger1 = Time = 0
var(12) = 0

[State 830, Cancel Var]
type = varset
Triggerall = Time = [0,18]
trigger1 = target, command = "b"
trigger2 = target, command = "a"
trigger3 = target, command = "c"
var(12) = 1

[State 830, Cancel]
type = changestate
Trigger1 = Time = [7,18]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 811

[State 830, Cancel]
type = targetstate
Trigger1 = Time = [7,18]
trigger1 = var(12) = 1 && (target,command = "holdfwd" || target,command = "holdback") && target,command != "holddown"
value = 812

[State 830, Cancel Var]
type = varset
Trigger1 = animtime = 0
var(12) = 0

[State 830, State]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;D잡기 상대편
[Statedef 840]
type = A
movetype = H
physics = N
velset = 0
facep2 = 1

[State 840, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 840

[State 840, 2]
type = SprPriority
trigger1 = time = 0 
value = 1

[State 840, 6]
type = ChangeState
trigger1 = time = 69
value = 841

;---------------------------------------------------------------------------
[Statedef 841]
type    = A
movetype= H
physics = N
ctrl = 0

[State 841, Vel]
type = posset
trigger1 = Time = 0
y = 0

[State 841, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 841, Vel]
type = Velset
trigger1 = Time = 0
x = 4.2
y = -6.6

[State 841, Vel]
type = Veladd
trigger1 = 1
y = .523

[State 841, 0]
type = ChangeAnim
trigger1 = Time = 0
value = 5100	;5160

[State 841, 0]
type = SelfState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
;외식 굉부 양 노멀(쿠사나기버젼)
[Statedef 700]
type=S
movetype=A
physics=S
poweradd = 0 
ctrl=0
anim=700
velset=0,0
facep2 = 1

[State 700, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 760, 1]
type = VelSet
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 7
trigger1 = MoveHit = 1
x = 0

[State 700, 1]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 4

[State 700, 1]
type = PosAdd
trigger1 = AnimElem = 4
x = 2

[State 700, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 700,1

[State 700, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 210,4

[State 700 , 1]
type=HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 7
persistent = 0
attr=S, NA
animtype=Hard
damage=93
guardflag=M
getpower = 106,106	;9.5대
pausetime = var(45)-3,var(46)		;9,12
guard.pausetime = var(45)-3,var(47)	;9,11
sparkxy= 0,-90
sparkno = s6001999
guard.sparkno = s6006999
hitsound=s5,240
guardsound=s200,3
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
yaccel = fvar(12)

[State Hit Spark]
type = Explod
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 7
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 59),var(28),ifelse(P2Dist x<= 28,28,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 7
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 7
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -112 && var(26) < -49),var(26),ifelse(var(26)<= -112,-112-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 7
trigger1 = 1
fvar(38) = ifelse((var(25) > -112 && var(25) < -49),var(25),ifelse(var(25)<= -112,-112,-49))
ignorehitpause = 1

[State 700 , 1]
type=HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
persistent = 0
attr=S, NA
animtype=Hard
damage=93
guardflag=H
getpower = 106,106	;9.5대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkxy= 0,-64
sparkno = s6001999
guard.sparkno = s6006999
hitsound=s5,240
guardsound=s200,3
ground.type=Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
yaccel = fvar(12)

[State Hit Spark]
type = Explod
triggerall = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 99),var(28),ifelse(P2Dist x<= 28,28,99))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
triggerall = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-44,(-64-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
triggerall = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -45),var(26),ifelse(var(26)<= -68,-68-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
triggerall = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -45),var(25),ifelse(var(25)<= -68,-68,-45))
ignorehitpause = 1

[State 700 , 4]
type=ChangeState
trigger1=AnimTime = 0
value=0
ctrl=1

;---------------------------------------------------------------------------
;외식 굉부 양 노멀(쿄2002버젼)
[Statedef 710]
type=S
movetype=A
physics=S
poweradd = 0 
ctrl=0
anim=710
velset=0,0
facep2 = 1

[State 710, movetype]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

[State 710, 1]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 4

[State 710, 1]
type = PosAdd
trigger1 = AnimElem = 5
x = 2

[State 710, 1]
type = PosAdd
trigger1 = AnimElem = 16
x = -12

[State 710, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 700,1

[State 710, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 210,4

[State 710 , 1]
type=HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr=S, NA
animtype=Hard
damage=93
guardflag=H
getpower = 106,106	;9.5대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkxy= 0,-64
sparkno = s6001999
guard.sparkno = s6006999
hitsound=s5,240
guardsound=s200,3
ground.type=Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
yaccel = fvar(12)

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 26 && P2Dist x< 97),var(28),ifelse(P2Dist x<= 26,26,97))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-58,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -45),var(26),ifelse(var(26)<= -68,-68-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -45),var(25),ifelse(var(25)<= -68,-68,-45))
ignorehitpause = 1

[State 710 , 4]
type=ChangeState
trigger1=AnimTime = 0
value=0
ctrl=1

;---------------------------------------------------------------------------
;외식 굉부 양 캔슬 (쿠사나기버젼)
[Statedef 750]
type=S
movetype=A
physics=S
poweradd = 0
ctrl=0
anim=750
velset=0,0
facep2 = 1

[State 750, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 760, 1]
type = VelSet
triggerall = AnimElem = 4, >= 1 && AnimElem = 4, <= 7
trigger1 = MoveHit = 1
x = 0

[State 700, 1]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 4

[State 750, 1]
type = PosAdd
trigger1 = AnimElem = 4
x = 2

[State 750, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 700,1

[State 750, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 210,4

[State 750 , 1]
type=HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 7
persistent = 0
attr=S, NA
animtype=Hard
damage=53/(hitcount+1)
guardflag=M
getpower = 106,106	;9.5대
pausetime = var(45)-3,var(46)		;9,12
guard.pausetime = var(45)-3,var(47)	;9,11
sparkxy= 0,-90
sparkno = s6001999
guard.sparkno = s6006999
hitsound=s5,240
guardsound=s200,3
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
yaccel = fvar(12)

[State Hit Spark]
type = Explod
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 7
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 59),var(28),ifelse(P2Dist x<= 28,28,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 7
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 7
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -112 && var(26) < -49),var(26),ifelse(var(26)<= -112,-112-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 7
trigger1 = 1
fvar(38) = ifelse((var(25) > -112 && var(25) < -49),var(25),ifelse(var(25)<= -112,-112,-49))
ignorehitpause = 1

[State 750 , 1]
type=HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
persistent = 0
attr=S, NA
animtype=Hard
damage=53/(hitcount+1)
guardflag=M
getpower = 106,106	;9.5대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkxy= 0,-64
sparkno = s6001999
guard.sparkno = s6006999
hitsound=s5,240
guardsound=s200,3
ground.type=Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
yaccel = fvar(12)

[State Hit Spark]
type = Explod
triggerall = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 99),var(28),ifelse(P2Dist x<= 28,28,99))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
triggerall = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-44,(-64-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
triggerall = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -45),var(26),ifelse(var(26)<= -68,-68-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
triggerall = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -45),var(25),ifelse(var(25)<= -68,-68,-45))
ignorehitpause = 1

[State 215, 5]
type = ChangeState
triggerall = var(3) > 0
triggerall = var(55) = 1
triggerall = var(41) = 1
;triggerall = animtime <= -18
;triggerall = animtime !>= 21
triggerall = time >=22 && time <= 28
trigger1 = movecontact > 0
trigger1 = random <= 900
value = 1856

[State 750 , 4]
type=ChangeState
trigger1=AnimTime = 0
value=0
ctrl=1

;---------------------------------------------------------------------------
;외식 굉부 양 캔슬 (쿄2002버젼)
[Statedef 760]
type=S
movetype=A
physics=S
poweradd = 0
ctrl=0
anim=760
velset=0,0
facep2 = 1

[State 760, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 760, 1]
type = VelSet
triggerall = AnimElem = 4, >= 1 && AnimElem = 4, <= 5
trigger1 = MoveHit = 1
x = 0

[State 760, 1]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 4

[State 760, 1]
type = PosAdd
trigger1 = AnimElem = 4
x = 2

[State 760, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 700,1

[State 760, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 210,4

[State 760 , 1]
type=HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 5
persistent = 0
attr=S, NA
animtype=Hard
damage=53/(hitcount+1)
guardflag=M
getpower = 106,106	;9.5대
pausetime = var(45)-3,var(46)
guard.pausetime = var(45)-3,var(47)
sparkxy= 0,-90
sparkno = s6001999
guard.sparkno = s6006999
hitsound=s5,240
guardsound=s200,3
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
yaccel = fvar(12)

[State Hit Spark]
type = Explod
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 5
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 20 && P2Dist x< 51),var(28),ifelse(P2Dist x<= 20,20,51))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 5
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-62,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 5
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -108 && var(26) < -53),var(26),ifelse(var(26)<= -108,-108-(pos y),-53-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
triggerall = AnimElem = 4, >= 0 && AnimElem = 4, <= 5
trigger1 = 1
fvar(38) = ifelse((var(25) > -108 && var(25) < -53),var(25),ifelse(var(25)<= -108,-108,-53))
ignorehitpause = 1

[State 760 , 1]
type=HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
persistent = 0
attr=S, NA
animtype=Hard
damage=53/(hitcount+1)
guardflag=M
getpower = 106,106	;9.5대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkxy= 0,-64
sparkno = s6001999
guard.sparkno = s6006999
hitsound=s5,240
guardsound=s200,3
ground.type=Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.fall = 1
yaccel = fvar(12)

[State Hit Spark]
type = Explod
triggerall = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6001,6006)
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 99),var(28),ifelse(P2Dist x<= 28,28,99))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
triggerall = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-44,(-64-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
triggerall = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -68 && var(26) < -45),var(26),ifelse(var(26)<= -68,-68-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
triggerall = AnimElem = 6, >= 0 && AnimElem = 6, <= 7
trigger1 = 1
fvar(38) = ifelse((var(25) > -68 && var(25) < -45),var(25),ifelse(var(25)<= -68,-68,-45))
ignorehitpause = 1

[State 760 , 4]
type=ChangeState
trigger1=AnimTime = 0
value=0
ctrl=1

;---------------------------------------------------------------------
; 앞구르기
[Statedef 900]
type = S
movetype = I
physics = S
poweradd = 0
ctrl = 0
anim = 900
velset = 0, 0
facep2 = 1

[State 900, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 900,0]
type = NotHitBy
trigger1 = Time = 0
time = 22
value = SCA

[State 900,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 22

[State 900, 2]
type = PlaySnd
trigger1 = Time = 0
value = 200,1

[State 900,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 900,3]
type = posadd
trigger1 = time = [8,25]
x = 5

;[State 900,9]
;type = AfterImage
;trigger1 = Time = 0
;time = 12
;length = 15
;palbright = 40,40,40
;palcontrast = 250,250,250
;palpostbright = -80,-80,-80
;timegap = 1
;flamegap = 1
;trans = add1

[State 900, 3]
type = Afterimage
trigger1 = Time = 0
time = 13
length = 9
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 3
Trans = Add1

[State 900, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=12
time = 2

[State 900,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 달리면서 구르기
[Statedef 910]
type = S
movetype = I
physics = S
poweradd = 0
ctrl = 0
anim = 900
velset = 0, 0
facep2 = 1

[State 910, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 910,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 22

[State 910,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 22

[State 910, 2]
type = PlaySnd
trigger1 = Time = 0
value = 200,1

[State 910,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 910,3]
type = posadd
trigger1 = time = [8,25]
x = 7

;[State 910,9]
;type = AfterImage
;trigger1 = Time = 0
;time = 12
;length = 15
;palbright = 40,40,40
;palcontrast = 250,250,250
;palpostbright = -80,-80,-80
;timegap = 1
;flamegap = 1
;trans = add1

[State 910, 3]
type = Afterimage
trigger1 = Time = 0
time = 13
length = 9
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 3
Trans = Add1

[State 910, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=12
time = 2

[State 910,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 가드캔슬 구르기
[Statedef 920]
type = S
movetype = I
physics = S
ctrl = 0
anim = 920
velset = 0, 0
;poweradd=-1000
facep2 = 1

[State 920, 0]
type = varadd
trigger1 = time = 0
var(20) = 10
[State 920, 0]
type = varadd
trigger1 = time = 0 && var(3) > 0
var(2) = -1000

[State 920, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 920,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA

;[State 920,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT

[State 920, 2]
type = PlaySnd
trigger1 = Time = 0
value = 200,1

[State 920,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 920,3]
type = posadd
trigger1 = time = [12,29]
x = 5

[State 92AfterImage]
type = AfterImage
trigger1 = time = 0
time = 32
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 920, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=31
time = 2

[State 920,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 캔슬 구르기
[Statedef 930]
type = S
movetype = I
physics = S
ctrl = 0
anim = 930
velset = 0,0
;poweradd=-1000
facep2 = 1

[State 930, 0]
type = varadd
trigger1 = time = 0
var(20) = 10
[State 930, 0]
type = varadd
trigger1 = time = 0 && var(3) > 0
trigger1 = time = 0
var(2) = -1000

[State 930, 5]
type = Projectile
trigger1 = time = 0
projanim = 940
offset = -16, -80
velocity = 0,0
projremovetime = 11
supermovetime = 9999

[State 930, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 930,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 26

[State 930,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 26

[State 930,PosFreeze]
type = PosFreeze
trigger1 = Time >= 1 && Time <= 11

[State 930, 0]
type = Envcolor
trigger1 = Time = 0
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3001, 1]
type = SuperPause
trigger1 = Time = 0
time = 10
movetime = 10
darken = 0
anim = -1

[State 930, 2]
type = PlaySnd
trigger1 = Time = 0
value = 900,1

[State 930,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

;[State 930,3]
;type = VelSet
;trigger1 = time = 12
;x = 5.2

;[State 930,4]
;type = VelSet
;trigger1 = time = 29
;x = 0

[State 930,3]
type = posadd
trigger1 = time = 12 || time = 17 || time = 22 || time = 27
x = 6

[State 930,3]
type = posadd
trigger1 = time = 13 || time = 14 || time = 15 || time = 16 || time = 18 || time = 19 || time = 20 || time = 21
trigger2 = time = 23 || time = 24 || time = 25 || time = 26 || time = 28
x = 5

[State 930,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 뒤구르기
[Statedef 950]
type = S
movetype = I
physics = S
poweradd = 0
ctrl = 0
anim = 950
velset = 0, 0
facep2 = 1

[State 950, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 950,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 22

[State 950,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 22

[State 950, 2]
type = PlaySnd
trigger1 = Time = 0
value = 200,1

[State 950,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 950,3]
type = posadd
trigger1 = time = [8,25]
x = -5

;[State 950,9]
;type = AfterImage
;trigger1 = Time = 0
;time = 12
;length = 15
;palbright = 40,40,40
;palcontrast = 250,250,250
;palpostbright = -80,-80,-80
;timegap = 1
;flamegap = 1
;trans = add1

[State 950, 3]
type = Afterimage
trigger1 = Time = 0
time = 13
length = 9
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 3
Trans = Add1

[State 950, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=12
time = 2

[State 950,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
; 가드캔슬 뒤구르기
[Statedef 960]
type = S
movetype = I
physics = S
ctrl = 0
anim = 960
velset = 0, 0
;poweradd=-1000
facep2 = 1

[State 960, 0]
type = varadd
trigger1 = time = 0
var(20) = 10
[State 960, 0]
type = varadd
trigger1 = time = 0 && var(3) > 0
var(2) = -1000

[State 960, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 960,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA

;[State 960,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT

[State 960, 2]
type = PlaySnd
trigger1 = Time = 0
value = 200,1

[State 960,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 960,3]
type = posadd
trigger1 = time = [12,29]
x = -5

[State 960,AfterImage]
type = AfterImage
trigger1 = time = 0
time = 32
length = 8
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 920, Afterimage]
type = AfterImagetime
trigger1 = time%2 = 0 && time <=31
time = 2

[State 960,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 75식 개 약 시작
[Statedef 1000]
type    = S
movetype= A
physics = S
poweradd = 31	;33번
ctrl = 0
anim = 1000
velset = 0,0
facep2 = 1

[State 1000, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1000, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1000, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1000,1

[State 1000 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1002
ctrl = 1

;---------------------------------------------------------------------------
; 75식 개 공중 약
[Statedef 1002]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
anim = 1002

[State 1002, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 1002, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,4

[State 1002, 1]
type = VelSet
trigger1 = time = 0
x = 3
y = -3.8

[State 1002, 2]
type = VelAdd
trigger1 =  1
y = .34

[State 1002, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 1002, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1002 , 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype  = Hard
guardflag = M
damage    = 33/var(19),10/var(19)	;26대
getpower = 31,31	;33대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkxy = 0,-83
sparkno = s6002999
guard.sparkno = s6007999
hitsound   = s5,240
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)	;-10
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 32,32,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-85-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -88 && var(26) < -33),var(26),ifelse(var(26)<= -88,-88-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -88 && var(25) < -33),var(25),ifelse(var(25)<= -88,-88,-33))
ignorehitpause = 1

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1000, VarSet]
type = VarSet
triggerall = Animelem = 1,>0 && Animelem = 2,<8
trigger1 = command = "a"
trigger2 = command = "b"
var(6) = 4
ignorehitpause = 1

[State 1000, ChangeState]
type = ChangeState
trigger1 = Var(6) = 4
trigger1 = Animelem = 2,>=1 && Animelem = 2,<=8
value = 1003
ctrl = 0

[State 210, 5]
type = ChangeState
trigger1 = var(55) = 1
trigger1 = Animelem = 2
value = 1003

[State 1002, 8]
type = ChangeState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 1005
ctrl = 0

;---------------------------------------------------------------------------
; 75식 개 약 추가타
[Statedef 1003]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
anim = 1003

[State 1003, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 1003, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,4

[State 1003, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1003,1

[State 1003, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1003, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1003 , 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype  = Hard
damage    = 33/var(19),10/var(19)	;26대
guardflag = M
getpower = 31,31	;33대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkxy = 0,-87
sparkno = s6002999
guard.sparkno = s6007999
hitsound   = s5,240
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14);-2,-12.6	;-2,-12.5	;-2,-11.5	;-2,-12
air.velocity = fvar(13),fvar(14);-2,-12		;-2,-12.5	;-2.-11
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 36 && P2Dist x< 75),var(28),ifelse(P2Dist x<= 36,36,75))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-71,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -140 && var(26) < -69),var(26),ifelse(var(26)<= -140,-140-(pos y),-69-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -140 && var(25) < -69),var(25),ifelse(var(25)<= -140,-140,-69))
ignorehitpause = 1

[State 1003, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1003, 0]
type = varset
trigger1 = movehit > 0
var(7) = 1
ignorehitpause = 1
persistent = 0

[State 1003, 8]
type = ChangeState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 1005
ctrl = 0

;---------------------------------------------------------------------------
;75개 약 추가타 맞는...
[Statedef 1004]
type    = A
movetype= H
physics = N
ctrl = 0

[State 1004, 0]
type = NotHitBy
trigger1 = time > 19
value = SCA

[State 1004, 0]
type = VelAdd
trigger1 = 1
y = 0.523

[State 1004, 0]
type = SelfState
;trigger1 = StateNo != 1004
;trigger1 = StateNo != [5100,5120]
trigger1 = Pos Y >= -14 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
; 75식 개 착지
[Statedef 1005]
type    = S
movetype= A
physics = S
poweradd = 0
ctrl = 0
anim = 1005
velset = 0,0,0

[State 1005, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 47,1

[State 1005, 0]
type = velSet
trigger1 = Time = 0
x = 0
y = 0

[State 1005, 0]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1005, 0]
type = targetstate
trigger1 = var(7) = 1
trigger1 = AnimTime = 0
value = 1004

[State 1005 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 75식 개 강 시작
[Statedef 1006]
type    = S
movetype= A
physics = S
poweradd = 31	;33번
ctrl = 0
anim = 1006
velset = 0,0
facep2 = 1

[State 1006, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1006, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1006, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1000,1

;[State 1006, 1]
;type = VelSet
;trigger1 = AnimElem = 3
;x = 1.8

;[State 1006, 1]
;type = posadd
;trigger1 = time = [7,8]
;trigger2 = time = [10,12]
;trigger3 = time = [14,16]
;x = 2

;[State 1006, 1]
;type = posadd
;trigger1 = time = 9 || time = 13
;x = 1

[State 1006, 1]
type = posadd
trigger1 = time = [7,16]
x = 2

[State 1006 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1007
ctrl = 1

;---------------------------------------------------------------------------
; 75식 개 공중 강
[Statedef 1007]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
anim = 1002

[State 1007, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 1007, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,4

[State 1007, 1]
type = posadd
trigger1 = time = 0;하까마까하다넣는다
x = 2

[State 1007, 1]
type = VelSet
trigger1 = time = 0
x = 3
y = -3.8

[State 1007, 2]
type = VelAdd
trigger1 =  1
y = .34

[State 1007, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 1007, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1007 , 1]
type = HitDef
triggerall = var(18) = 0
trigger1 = var(16) = 0
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype  = Hard
guardflag = M
damage    = 33/var(19),10/var(19)	;26대
getpower = 31,31	;33대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkxy = 0,-83
sparkno = s6002999
guard.sparkno = s6007999
hitsound   = s5,240
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)	;-10
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 32,32,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-55,(-85-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -88 && var(26) < -33),var(26),ifelse(var(26)<= -88,-88-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -88 && var(25) < -33),var(25),ifelse(var(25)<= -88,-88,-33))
ignorehitpause = 1

[State 1007, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1007, VarSet]
type = VarSet
triggerall = Animelem = 1,>0 && Animelem = 2,<8
trigger1 = command = "a"
trigger2 = command = "b"
var(6) = 4
ignorehitpause = 1

[State 1007, ChangeState]
type = ChangeState
trigger1 = Var(6) = 4
trigger1 = Animelem = 2,>=1 && Animelem = 2,<=8
value = 1008
ctrl = 0

[State 210, 5]
type = ChangeState
trigger1 = var(55) = 1
trigger1 = Animelem = 2
value = 1008

[State 1007, 8]
type = ChangeState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 1005
ctrl = 0

;---------------------------------------------------------------------------
; 75식 개 강 추가타
[Statedef 1008]
type    = A
movetype= A
physics = N
poweradd = 0
ctrl = 0
anim = 1008

[State 1008, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 1008, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,4

[State 1008, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1003,1

[State 1008, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 1007, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1008 , 1]
type = HitDef
;triggerall != p2movetype = H  && p2bodydist X > -30
;triggerall != p2statetype = A  && p2bodydist X > -30
;trigger1 != p2stateno = 5000
;trigger1 != p2stateno = 5050
triggerall = var(18) = 0
triggerall = var(16) = 0
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
trigger1 = (p2statetype = A && p2dist X < 74) || p2statetype = S || p2statetype = C
attr = A, SA
animtype  = Hard
damage    = 33/var(19),10/var(19)	;26대
guardflag = M
getpower = 31,31	;33대
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkxy = 0,-87
sparkno = s6002999
guard.sparkno = s6007999
hitsound   = s5,240
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14);-2,-12.6	;-2,-12.5	;-2,-11.5	;-2,-12
air.velocity = fvar(13),fvar(14);-2.4,-12.5		;-2,-12.5	;-2.-11
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
ID = 1008

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 36 && P2Dist x< 75),var(28),ifelse(P2Dist x<= 36,36,75))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-71,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -140 && var(26) < -69),var(26),ifelse(var(26)<= -140,-140-(pos y),-69-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -140 && var(25) < -69),var(25),ifelse(var(25)<= -140,-140,-69))
ignorehitpause = 1

[State 650, 0]
type = varset
trigger1 = movehit > 0
var(18) = 1
ignorehitpause = 1
persistent = 0

[State 1008, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1008, 8]
type = ChangeState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 1005
ctrl = 0

;---------------------------------------------------------------------------
; 황물기
[Statedef 1100]
type    = S
movetype= A
physics = S
poweradd= 46	;22대
velset = 0,0
anim = 1100
ctrl = 0
facep2 = 1

[State 1000, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1000, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1100, movetype]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 1100, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 5]
type = Projectile
trigger1 = AnimElem = 9
projanim = 1102
offset = 0, 0
velocity = 0,0
projremovetime = 8

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 212,1;800,1

[State 1100, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1800,4

[State 1100, 1]
type = PosAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
x = 8

[State 1100, 6]
type = Projectile
trigger1 = AnimElem = 9
projanim = 1150
offset = 96, -68
velocity = 0,0
projremovetime = 27

[state 1100, 1]
type = HitAdd
trigger1 = var(44) = 1
value = -1

[State 1000, 2]
type = ReversalDef
trigger1 = p2Movetype != H
trigger1 = AnimElem = 7, >= 0 && AnimElem = 8, <= 1
reversal.attr = SCA, NAP, SAP, HAP	;공중도추가시켰지만..맞나?
numhits = 0
pausetime = 7,10
sparkno = s6005+ifelse(var(54) = 2,1,0)+ifelse(var(54) = 3,2,0)
;sparkxy = 20,-70
hitsound = s1000,3

[State 1100, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 9, >= 0 && AnimElem = 11, <= 3
persistent = 0
attr = S, SA
animtype  = Hard
damage    = 69,10	;15.5대
guardflag = M
getpower = 76,76
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,-70
hitsound   = s1400,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = (ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15))))
palfx.time = 30
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0 
yaccel = fvar(12)
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
AIR.fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 36 && P2Dist x< 95),var(28),ifelse(P2Dist x<= 36,36,95))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -84 && var(26) < -45),var(26),ifelse(var(26)<= -84,-84-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -84 && var(25) < -45),var(25),ifelse(var(25)<= -84,-84,-45))
ignorehitpause = 1

[State 1100, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1100, VarSet]
type = VarSet
triggerall = var(6) = 0 
triggerall = Animelemtime(3) >= 2 && Animelemtime(13) <= 3	;Animelemtime(3) >= 0 && Animelemtime(13) <= 3
trigger1 = ifelse(fvar(37) = 0,command = "114_x",command = "114_x-R")
trigger2 = ifelse(fvar(37) = 0,command = "115_y",command = "115_y-R")
var(6) = 1

[State 1100, ChangeState]
type = ChangeState
trigger1 = Var(6) = 1
triggerall = Animelemtime(12) >= 1 && Animelemtime(13) <= 3
value = 1110
ctrl = 0

[State 1100, VarSet]
type = VarSet
triggerall = var(6) = 0 
triggerall = Animelemtime(3) >= 2 && Animelemtime(13) <= 3	;Animelemtime(3) >= 0 && Animelemtime(13) <= 3
trigger1 = ifelse(fvar(37) = 0,command = "127_x",command = "127_x-R")
trigger2 = ifelse(fvar(37) = 0,command = "127_y",command = "127_y-R")
var(6) = 2	

[State 1100, ChangeState]
type = ChangeState
trigger1 = Var(6) = 2
triggerall = Animelemtime(12) >= 1 && Animelemtime(13) <= 3
value = 1120
ctrl = 0

[State 1100, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 구상
[Statedef 1110]
type    = S
movetype= A
physics = S
poweradd= 38
velset = 0,0
anim = 1110
ctrl = 0

[State 1110, movetype]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 1110, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1110, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1110, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1110, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1110, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1110, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1101, 5]
type = Projectile
trigger1 = AnimElem = 6
projanim = 1112
offset = 0, 0
velocity = 0,0
projremovetime = 8

[State 1110, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 211,1

[State 1110, 0]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1800,4

[State 1110, 1]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 11
trigger9 = AnimElem = 12
x = 8

[State 1110, 1]
type = PosAdd
trigger1 = AnimElem = 13
trigger2 = AnimElem = 14
x = 6

[State 1005, 6]
type = Projectile
trigger1 = AnimElem = 6
projanim = 1250
offset = 72, -80
velocity = 0,0
projremovetime = 28

[State 1110, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype  = Hard
damage    = 49,10	;황물기데미지의 3분의2
guardflag = M
getpower = 23,23
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -86
hitsound   = s1400,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
yaccel = fvar(12)
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 71),var(28),ifelse(P2Dist x<= 32,32,71))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-56,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -104 && var(26) < -41),var(26),ifelse(var(26)<= -104,-104-(pos y),-41-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -104 && var(25) < -41),var(25),ifelse(var(25)<= -104,-104,-41))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 20 && P2Dist x< 59),var(28),ifelse(P2Dist x<= 20,20,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-56,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -104 && var(26) < -41),var(26),ifelse(var(26)<= -104,-104-(pos y),-41-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -104 && var(25) < -41),var(25),ifelse(var(25)<= -104,-104,-41))
ignorehitpause = 1

[State 1110, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1110, VarSet]
type = VarSet
triggerall = Animelem = 1,>3 && Animelem = 8,<=8	;triggerall = Animelem = 1,>0 && Animelem = 8,<=8
trigger1 = command = "x"
trigger2 = command = "y"
var(6) = 3
ignorehitpause = 1

[State 1110, ChangeState]
type = ChangeState
trigger1 = Var(6) = 3
trigger1 = Animelem = 8,>=1 && Animelem = 8,<=8
value = 1130
ctrl = 0

[State 1110, VarSet]
type = VarSet
triggerall = Animelem = 1,>3 && Animelem = 8,<=8	;triggerall = Animelem = 1,>0 && Animelem = 8,<=8
trigger1 = command = "a"
trigger2 = command = "b"
var(6) = 5
ignorehitpause = 1

[State 1110, ChangeState]
type = ChangeState
trigger1 = Var(6) = 5
trigger1 = Animelem = 8,>=1 && Animelem = 8,<=8
value = 1160
ctrl = 0

[State 1110, 0]
type = varset
trigger1 = movehit > 0
var(16) = 1
ignorehitpause = 1
persistent = 0

[State 1110, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 팔청
[Statedef 1120]
type    = S
movetype= A
physics = S
poweradd= 38
velset = 0,0
anim = 1120
ctrl = 0

[State 1120, movetype]
type = StateTypeSet
trigger1 = AnimElem = 11
movetype = I

[State 1120, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1120, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1120, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1120, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1120, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1120, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1120, 5]
type = Projectile
trigger1 = AnimElem = 10
projanim = 1122
offset = 0, 0
velocity = 0,0
projremovetime = 4

[State 1120, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 1800,3

[State 1120, 0]
type = PlaySnd
trigger1 = AnimElem = 8 
value = 1800, 4

[State 1120, 1]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
x = 8

[State 1120, 1]
type = PosAdd
trigger1 = AnimElem = 9
x = 2

[State 1120, 7]
type = Projectile
trigger1 = AnimElem = 10
projanim = 1260
offset = 72, -63
velocity = 0,0
projremovetime = 28

[State 1120, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype = Hard
damage    = 29,10	;황물기의 5분의2
guardflag = H
getpower = 23,23
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -50
hitsound   = s1400,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(34),fvar(35)
air.velocity = fvar(34),fvar(35)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 23
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
yaccel = fvar(12)
fall.envshake.time = 14
fall.xvelocity = 0
fall.yvelocity = -6
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;p2facing = 1
;p2stateno = 1180
;AIR.p2stateno = 1185
p2stateno = ifelse(p2statetype = A,4020,(ifelse(p2statetype = C,5972,5971)))

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 32,32,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -76 && var(26) < -21),var(26),ifelse(var(26)<= -76,-76-(pos y),-21-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -76 && var(25) < -21),var(25),ifelse(var(25)<= -76,-76,-21))
ignorehitpause = 1

[State 1120, VarSet]
type = VarSet
trigger1 = Time = 0
fvar(19) = 0

[State 1040, 0]
type = varset
trigger1 = movecontact > 0
var(7) = 1
ignorehitpause = 1
persistent = 0

[State 1040, 0]
type = Varset
fvar(19) = 5
triggerall = Time >= 2	; Time >= 1
trigger1 = command = "1140"

[State 1040, 0]
type = Varset
fvar(19) = 6
triggerall = Time >= 2	; Time >= 1
trigger1 = command = "1160"

[State 1040, 0]
type = Varset
fvar(19) = 8
triggerall = Time >= 2	; Time >= 1
trigger1 = command = "1160"

[State 1040, 0]
type = Varset
fvar(19) = 9
triggerall = Time >= 2	; Time >= 1
trigger1 = ifelse(fvar(37) = 0,command = "1170",command = "1170-R")
trigger2 = ifelse(fvar(37) = 0,command = "1170",command = "1170-R")

[State 1040, 0]
type = ChangeState
triggerall = Animelem = 11,>=1 && Animelem = 11,<=10
trigger1 = fvar(19) = 5
trigger2 = fvar(19) = 6
trigger3 = fvar(19) = 8
trigger4 = fvar(19) = 9
value = 1140 - (fvar(19) = 6)*30 + (fvar(19) = 8)*20 + (fvar(19) = 9)*30

[State 1120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 팔청2
[Statedef 1130]
type    = S
movetype= A
physics = S
poweradd= 38
velset = 0,0
anim = 1130
ctrl = 0

[State 1130, movetype]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 1130, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1130, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1130, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1130, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1130, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1130, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1130, 5]
type = Projectile
trigger1 = AnimElem = 7
projanim = 1132
offset = 0, 0
velocity = 0,0
projremovetime = 3

[State 1120, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1800, 4

[State 1130, 1]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
x = 8

[State 1130, 1]
type = PosAdd
trigger1 = AnimElem = 6
x = 2

[State 1130, 7]
type = Projectile
trigger1 = AnimElem = 7
projanim = 1260
offset = 72, -63
velocity = 0,0
projremovetime = 28

[State 1130, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype  = Hard
damage    = 29,10	;황물기의 5분의2
guardflag = H
getpower = 23,23
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -50
hitsound   = s1400,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(34),fvar(35)
air.velocity = fvar(34),fvar(35)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 23
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
yaccel = fvar(12)
fall.envshake.time = 14
fall.xvelocity = 0
fall.yvelocity = -6
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;p2facing = 1
;p2stateno = 1180
p2stateno = ifelse(p2statetype = A,4020,(ifelse(p2statetype = C,5972,5971)))

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 75),var(28),ifelse(P2Dist x<= 28,28,75))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -33),var(26),ifelse(var(26)<= -96,-96-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -33),var(25),ifelse(var(25)<= -96,-96,-33))
ignorehitpause = 1

[State 1130, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 외식 섬돌 뚫기
[Statedef 1140]
type    = C
movetype= A
physics = C
poweradd= 38
velset = 0,0
anim = 1140
ctrl = 0

[State 1140, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 1140, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1140, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1140, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1140, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1140, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1140, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1140, 5]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1142
offset = 0, 0
velocity = 0,0
projremovetime = 14

[State 1140, 2]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1260
offset = 88, -23
velocity = 0,0
projremovetime = 28

[State 1140, 0]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1800, 4

[State 1140, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype  = UP
damage    = 69,10 ; 황물기데미지+3
guardflag = L
hitflag = MAFD
getpower = 23,23
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -12
hitsound   = s1400,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(34),fvar(35)
air.velocity = fvar(34),fvar(35)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
down.hittime = var(35)
down.velocity = 0,0
palfx.time = 27
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall.envshake.time = 14
fall.xvelocity = 0
fall.yvelocity = -8
fall = 1
yaccel = fvar(12)
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = ifelse(p2statetype = A,4020,(ifelse(p2statetype = L,5973,(ifelse(p2statetype = C,5972,5971)))))

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 20 && P2Dist x< 99),var(28),ifelse(P2Dist x<= 20,20,99))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-24-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -40 && var(26) < -1),var(26),ifelse(var(26)<= -40,-40-(pos y),-1-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -40 && var(25) < -1),var(25),ifelse(var(25)<= -40,-40,-1))
ignorehitpause = 1

[State 1140, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 금월
[Statedef 1170]
type    = C
movetype= A
physics = C
poweradd= 83
velset = 0,0
anim = 1170
ctrl = 0
facep2 = 1

[State 1170, movetype]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 1170, 2]
type = HitDef
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 3
persistent = 0
attr = S, ST
animtype  = Hard
damage    = 0
guardflag = M
hitflag = MAFD
getpower = 26,26
pausetime = 0,0
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -20
hitsound = s1851,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = 16
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
guard.velocity = 0
down.hittime = 17
down.velocity = -2,-1
fall = 1
fall.yvelocity = -6
yaccel = fvar(12)
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.velocity = -3, 0
down.cornerpush.veloff = 0
air.velocity = -3.0, 4.6
air.cornerpush.veloff = 0
p1facing = 1
p2facing = 1
p1stateno = 1171
p2stateno = 1175
p2getp1state = 1
Palfx.time = 1

[State 1170, 2]
type = HitDef
trigger1 = AnimElem = 5, >= 0 && AnimElem = 5, <= 2
persistent = 0
attr = S, ST
animtype  = Hard
damage    = 0
guardflag = M
hitflag = MAFD
getpower = 26,26
pausetime = 0,0
sparkno = s6002999
guard.sparkno = s6007999
hitsound = s1851,2
guardsound = s1000,3
sparkxy = 0, -60
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
down.hittime = 17
down.velocity = -2,-1
fall = 1
fall.yvelocity = -6
yaccel = fvar(12)
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.velocity = -3, 0
down.cornerpush.veloff = 0
air.velocity = -3.0, 4.6
air.cornerpush.veloff = 0
p1facing = 1
p2facing = 1
p1stateno = 1171
p2stateno = 1175
p2getp1state = 1
Palfx.time = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 91),var(28),ifelse(P2Dist x<= 40,40,91))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-56-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -67 && var(26) < -2),var(26),ifelse(var(26)<= -67,-67-(pos y),-2-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -67 && var(25) < -2),var(25),ifelse(var(25)<= -67,-67,-2))
ignorehitpause = 1

[State 1170, 1]
type = PosAdd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 6
x = 16

[State 1170, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;성공 포즈
[Statedef 1171]
type     = S
movetype = A
physics  = S
poweradd= 0
velset   = 0
ctrl = 0
anim = 1171
sprpriority = 2

[State Hit Spark]
type = Explod
trigger1 = time = 0
id = 6000
anim = 6002
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 91),var(28),ifelse(P2Dist x<= 40,40,91))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-56-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -67 && var(26) < -2),var(26),ifelse(var(26)<= -67,-67-(pos y),-2-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -67 && var(25) < -2),var(25),ifelse(var(25)<= -67,-67,-2))
ignorehitpause = 1

[State 1171, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 3, <= 21
edge = 97,0

[State 1171,0]
type = NotHitBy
trigger1 = Time = 0
time = 26
value = SCA

[State 1171, 1]
type = PosAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
x = 16

[State 1171, 6]
type = Projectile
trigger1 = AnimElem = 4,=1
projanim = 1178
offset = -21,1
velocity = 0,0
projremovetime = 34

[State 1171, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1853, 1

[State 1171, 0]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1853, 2

[State 1171, 0]
type = TargetLifeAdd
trigger1 = AnimElem = 4
value = -118

[State 1171, 0]
type = EnvShake
trigger1 = AnimElem = 4
time = 23
ampl = -8

[State 1171, 0]
type = targetBind
trigger1 = AnimElem = 1
pos = 57,-55
postype = P1

[State 1171, 0]
type = targetBind
trigger1 = AnimElem = 2
pos = 45, -89
postype = P1

[State 1171, 0]
type = targetBind
trigger1 = AnimElem = 3
pos = 40, -121
postype = P1

[State 1171, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1175]
type     = A
movetype = H
physics  = N
velset   = 0
ctrl = 0

[State 1175, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 1175

[State 1175, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 1855
ctrl = 0

;---------------------------------------------------------------------------
; 칠뢰
[Statedef 1160]
type    = S
movetype= A
physics = S
poweradd= 38
velset = 0,0
anim = 1160
ctrl = 0

[State 1160, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 1160, 1]
type = PosAdd
trigger1 = AnimElem = 2
x = 10

;[State 1160, 1]
;type = VelSet
;trigger1 = AnimElem = 4
;x = 10.2

;[State 1160, 1]
;type = VelSet
;trigger1 = AnimElem = 6
;x = 0

[State 1200,VelSet]
type = posadd
trigger1 = time = 7
trigger2 = time = 9
trigger3 = time = 12
x = 10

[State 1200,VelSet]
type = posadd
trigger1 = time = 8
trigger2 = time = [10,11]
trigger3 = time = 13
trigger4 = time = 15
trigger5 = time = 16
x = 9

[State 1200,VelSet]
type = posadd
trigger1 = time = 14
x = 8

[State 1160,, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210,4

[State 1160, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype  = diagup
damage    = 78,10 ;황물기데미지+5
guardflag = M
getpower = 23,23
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -85
hitsound   = s5,240
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -5,-9.5	;fvar(10),fvar(11)
air.velocity = -5,-9.5		;fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
yaccel = fvar(12)
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> -12 && P2Dist x< 67),var(28),ifelse(P2Dist x<= -12,-12,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-69,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -61),var(26),ifelse(var(26)<= -92,-92-(pos y),-61-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -61),var(25),ifelse(var(25)<= -92,-92,-61))
ignorehitpause = 1

[State 1160, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 1160, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------
;내려찍기당하는..
[Statedef 1180]
type = A
physics = N
movetype = H
;anim = 1180
velset = 0,0,0
ctrl = 0
              
[State 1180, 5]
type = NotHitBy
trigger1 = 1
value = SCA, NT,ST,HT

[State 1180, 4]
type = changeanim2
Trigger1 = time = 0
value = 1180

[State 1180, 4]
type = velset
trigger1 = pos Y < 0
Trigger1 = anim = 1180
Trigger1 = animelem = 2
x = -2	;-1
y = 8
persistent = 0

[State 1180, 4]
type = veladd
trigger1 = pos Y < 0
Trigger1 = anim = 1180
Trigger1 = animelem = 2,>=0
y = 0.5

[State 1180, 4]
type = velset
trigger1 = pos Y >= 0
Trigger1 = anim = 1180
Trigger1 = animelem = 2,>=0
y = 0
persistent = 0

[State 1180, 4]
type = changestate
Trigger1 = pos Y >= 0
Trigger1 = anim = 1180
Trigger1 = animelem = 2,>=0
value = 1181
ctrl = 0

;------------------------------------------------------------
;ㄳ2
[Statedef 1181]
type = A
physics = N
movetype = H
;anim = 1180
velset = 0,0,0
ctrl = 0

[State 1180, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,55
channel = 1

[State 1180, 5]
type = NotHitBy
trigger1 = 1
value = SCA, NT,ST,HT

[State 1180, 4]
type = envshake
Trigger1 = time = 0
time = 20

[State 1180, 4]
type = changeanim2
Trigger1 = time = 0
value = 1180
              
[State 1181, 4]
type = posset
trigger1 = time = 0
y = 0

[State 1181, 7]
type = SprPriority
trigger1 = AnimElem >= 1
value = -1

[State 1181, 4]
type = changeanim
Trigger1 = pos Y >= 0
trigger1 = time = 0
value = IfElse(selfanimexist(5061),5061,5060)
persistent = 0

[State 1181, 4]
type = selfState
Trigger1 = time = 0
value = 5100
ctrl = 0

;------------------------------------------------------------
;공중에서 내려찍기당하는..
[Statedef 1185]
type = A
physics = N
movetype = H
;anim = 1185
velset = 0,0,0
ctrl = 0
              
[State 1185, 5]
type = NotHitBy
trigger1 = 1
value = SCA, NT,ST,HT

[State 1185, 4]
type = changeanim2
Trigger1 = time = 0
value = 1185

[State 1185, 4]
type = velset
trigger1 = pos Y < 0
Trigger1 = anim = 1185
Trigger1 = animelem = 3
x = -2	;-1
y = 8
persistent = 0

[State 1185, 4]
type = veladd
trigger1 = pos Y < 0
Trigger1 = anim = 1185
Trigger1 = animelem = 3,>=0
y = 0.5

[State 1185, 4]
type = velset
trigger1 = pos Y >= 0
Trigger1 = anim = 1185
Trigger1 = animelem = 3,>=0
y = 0
persistent = 0

[State 1185, 4]
type = changestate
Trigger1 = pos Y >= 0
Trigger1 = anim = 1185
Trigger1 = animelem = 3,>=0
value = 1186
ctrl = 0

;------------------------------------------------------------
;ㄳ2
[Statedef 1186]
type = A
physics = N
movetype = H
;anim = 1180
velset = 0,0,0
ctrl = 0

[State 1186, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = S3,55
channel = 1

[State 1186, 5]
type = NotHitBy
trigger1 = 1
value = SCA, NT,ST,HT

[State 1186, 4]
type = envshake
Trigger1 = time = 0
time = 20

[State 1186, 4]
type = changeanim2
Trigger1 = time = 0
value = 1186
              
[State 1186, 4]
type = posset
trigger1 = time = 0
y = 0

[State 1186, 7]
type = SprPriority
trigger1 = AnimElem >= 1
value = -1

[State 1186, 4]
type = changeanim
Trigger1 = pos Y >= 0
trigger1 = time = 0
value = IfElse(selfanimexist(5061),5061,5060)
persistent = 0

[State 1186, 4]
type = selfState
Trigger1 = time = 0
value = 5100
ctrl = 0

;---------------------------------------------------------------------------
; 독물기
[Statedef 1200]
type    = S
movetype= A
physics = S
poweradd= 46	;22번
velset = 0,0
anim = 1200
ctrl = 0
facep2 = 1

[State 1200, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1200, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1200, movetype]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 1200, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1200, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1200, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1200, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1200, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1200, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1200, 5]
type = Projectile
trigger1 = AnimElem = 10
projanim = 1202
offset = 0, 0
velocity = 0,0
projremovetime = 6

[State 1200, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 1000,1

[State 1200, 0]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 13
trigger8 = AnimElem = 14
trigger9 = AnimElem = 15
trigger10 = AnimElem = 16
x = 8

[State 1200, 0]
type = PosAdd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
x = 16

[State 1200, 0]
type = PosAdd
trigger1 = AnimElem = 17
trigger2 = AnimElem = 18
x = 6

[State 1200, 4]
type = Projectile
trigger1 = AnimElem = 10
projanim = 1150
offset = 96, -76
velocity = 0.000001,0
projremovetime = 27

[State 1200, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype  = Hard
damage    = 29,10	;34대
guardflag = M
getpower = 60,60
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s600299
guard.sparkno = s600799
sparkxy = 0, -70
hitsound   = s1400,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 30
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 95),var(28),ifelse(P2Dist x<= 32,32,95))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -80 && var(26) < -49),var(26),ifelse(var(26)<= -80,-80-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -80 && var(25) < -49),var(25),ifelse(var(25)<= -80,-80,-49))
ignorehitpause = 1

[State 1200, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1200, VarSet]
type = VarSet
triggerall = Animelem = 1,>0 && Animelem = 11,<=8
trigger1 = command = "127_x"
trigger2 = command = "127_y"
var(6) = 2
ignorehitpause = 1

[State 1200, ChangeState]
type = ChangeState
trigger1 = Var(6) = 2
trigger1 = Animelem = 11,>=1 && Animelem = 11,<=8
value = 1210
ctrl = 0

[State 1200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 죄읊기
[Statedef 1210]
type    = S
movetype= A
physics = S
poweradd= 46
velset = 0,0
anim = 1210
ctrl = 0

[State 1210, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 1210, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1210, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1210, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1210, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1210, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1210, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1210, 5]
type = Projectile
trigger1 = AnimElem = 5
projanim = 1212
offset = 0, 0
velocity = 0,0
projremovetime = 3

[State 1210, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1800,4

[State 1210, 0]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
trigger7 = AnimElem = 9
trigger8 = AnimElem = 10
trigger9 = AnimElem = 11
x = 8

[State 1210, 0]
type = PosAdd
trigger1 = AnimElem = 12
trigger2 = AnimElem = 13
x = 6

[State 1210, 3]
type = Projectile
trigger1 = AnimElem = 5
projanim = 1250
offset = 84, -72
velocity = 0,0
projremovetime = 28

[State 1210, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype  = Hard
damage    = 39,10
guardflag = M
getpower = 60,60
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -80
hitsound   = s1700,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = -3.2,-8.6	;-1.4,-3
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 30
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = High
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 48 && P2Dist x< 87),var(28),ifelse(P2Dist x<= 48,48,87))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -100 && var(26) < -29),var(26),ifelse(var(26)<= -100,-100-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -100 && var(25) < -29),var(25),ifelse(var(25)<= -100,-100,-29))
ignorehitpause = 1

[State 1210, VarSet]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 1210, VarSet]
type = VarSet
triggerall = Animelem = 1,>0 && Animelem = 5,<16
trigger1 = command = "holdfwd" && command = "x"
trigger2 = command = "holdfwd" && command = "y"
var(6) = 5
ignorehitpause = 1

[State 1210, ChangeState]
type = ChangeState
trigger1 = Var(6) = 5
trigger1 = Animelem = 5,>=1 && Animelem = 5,<=12
value = 1220
ctrl = 0

[State 1210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 벌읊기 
[Statedef 1220]
type = S
movetype = A
physics = S
poweradd= 46
velset = 0
ctrl = 0
anim = 1220

[State 1220, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 1220, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1220, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1220, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1220, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1220, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1220, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1220, 0]
type = PosAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
x = 8

[State 1220, 1]
type = StateTypeSet
trigger1 = AnimElem = 5
StateType = A
physics = N

[State 1222, 1]
type = VelSet
trigger1 = AnimElem = 5
x = 3.9
y = -6.5

[State 1220, 4]
type = VelMul
trigger1 = AnimElem = 5, >= 0
x = .9554

[State 1222, 1]
type = VelSet
trigger1 = AnimElem = 7,=8
x = 0

[State 1222, 2]
type = VelAdd
trigger1 = AnimElem = 5, >= 0
y = .44

[State 1221, 0]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1800,4

[State 1220, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype  = Hard
damage    = 39,10
guardflag = M
getpower = 60,60
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -80
hitsound   = s1400,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14);-1.55,-12.5
air.velocity = fvar(13),fvar(14);-1.55,-12.5
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 54
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
yaccel = fvar(12)
fall = 1
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 36 && P2Dist x< 83),var(28),ifelse(P2Dist x<= 36,36,83))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-65,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -108 && var(26) < -37),var(26),ifelse(var(26)<= -108,-108-(pos y),-37-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -108 && var(25) < -37),var(25),ifelse(var(25)<= -108,-108,-37))
ignorehitpause = 1

[State 1221, VarSet]
type = VarSet
triggerall = movecontact > 0
triggerall = Animelem = 1,>0 && Animelem = 6,<5
trigger1 = command = "100_x"
trigger2 = command = "100_y"
var(6) = 6
ignorehitpause = 1

[State 1221, ChangeState]
type = ChangeState
trigger1 = Var(6) = 6
trigger1 = Animelem = 6,>=1 && Animelem = 6,<=5
value = 1230
ctrl = 0

[State 1221, 6]
type = ChangeState
trigger1 = Pos Y >= -6 && Vel Y > 0
value = 1222

;---------------------------------------------------------------------------
; 벌읊기 착지
[Statedef 1222]
type = S
movetype = I
physics = S
poweradd= 0
anim = 1222

[State 1222, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 47, 1

[State 1222, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1222, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 1222, 0]
type = PosAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
x = 8

[State 1222, 0]
type = PosAdd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
x = 6

[State 1222, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 독물기중 약 백식 공중
[Statedef 1230]
type = A
movetype = A
physics = N
poweradd= 46
;velset   = 1.4, -1.4;지운다
anim = 1230

[State 1230, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

[State 1230, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1230, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1230, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1230, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1230, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1230, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1230, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1400,1

[State 1230, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1400, 4

[State 1230, 5]
type = Projectile
trigger1 = AnimElem = 2,=1
projanim = 1450
projremovetime = 29
offset = 3,-6
velocity = 0,0
postype = p1

[State 1230, 7]
type = Projectile
trigger1 = AnimElem = 7,=1
projanim = 1460
projremovetime = 29
offset = 0,0
velocity = 0,0
postype = p1

[State 1230, 0]
type = posadd
trigger1 = AnimElem = 2
x = 42
y = -2

[State 1230, 0]
type = VelAdd
trigger1 = 1
y = .404

[State 1230, 4]
type = VelMul
trigger1 = 1
x = .9554

[State 1230, 3]
type = VelSet
trigger1 = AnimElem = 4;5
x = 0

[State 1230, 8]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype = Hard
guardflag = M
damage = 69,10	;15.5대
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -69
getpower = 60,60
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
hitsound   = s1400,2
guardsound = s1000,3
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14);-2,-12
air.velocity = fvar(13),fvar(14);-2,-12
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 53
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
yaccel = fvar(12)
fall = 1
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 47),var(28),ifelse(P2Dist x<= 8,8,47))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-77,(-82-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -128 && var(26) < -41),var(26),ifelse(var(26)<= -128,-128-(pos y),-41-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -128 && var(25) < -41),var(25),ifelse(var(25)<= -128,-128,-41))
ignorehitpause = 1

[State 1230, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 1230, 9]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -6
value = 1240

;---------------------------------------------------------------------------
; 독물기후 약 백식 착지
[Statedef 1240]
type = S
movetype = I
physics = S
poweradd= 0
anim = 1240
velset = 0,0

[State 1240, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1240, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 약 역철 시작
[Statedef 1300]
type    = S
movetype= A
physics = S
poweradd= 106		;9.5번
ctrl = 0
anim = 1300
velset = 1,0

[State 1300, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1300, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1302, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 800,1

[State 1300 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 1301

;---------------------------------------------------------------------------
; 약 역철 공중
[Statedef 1301]
type    = A
movetype= A
physics = N
poweradd= 0
ctrl = 0
anim = 1301

[State 1301, 0]
type = PlaySnd
trigger1 = time = 2
value = 1301, 4

[State 4575, Velset]
type = VelSet
trigger1 = Time = 0
x = 4.3
y = -3

[State 4575, Gravity]
type = VelAdd
trigger1 = 1
y = .46

[State 1301, 8]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -4
value = 1302

;---------------------------------------------------------------------------
; 약 역철 착지 & 공격
[Statedef 1302]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
anim = 1302
velset = 0,0,0

[State 1302, movetype]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 1302, 0]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1302, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1302, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1302, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1302, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1302, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1302, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1302, 5]
type = Projectile
trigger1 = AnimElem = 7
projanim = 1303
offset = 0, 0
velocity = 0,0
projremovetime = 3

[State 1302, 1]
type = PosAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
trigger9 = AnimElem = 9
x = 8

[State 1302, 6]
type = Projectile
trigger1 = AnimElem = 7
projanim = 1250
offset = 41, -84
velocity = 0,0
projremovetime = 28

[State 1302, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 47, 1

[State 1302 , 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype  = Hard
damage    = 69,10	;14.8대
guardflag = M
getpower  = 43,43
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkxy = 0,-84
sparkno = s6002999
guard.sparkno = s6007999
hitsound   = s1853,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14);-2.2,-12.5
air.velocity = fvar(13),fvar(14);-2.2,-12.5
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
palfx.time = 53
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
yaccel = fvar(12)
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 9 && P2Dist x< 41),var(28),ifelse(P2Dist x<= 9,9,41))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-59,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -93 && var(26) < -46),var(26),ifelse(var(26)<= -93,-93-(pos y),-46-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -93 && var(25) < -46),var(25),ifelse(var(25)<= -93,-93,-46))
ignorehitpause = 1

[State 1302, 0]
type = varset
trigger1 = movehit > 0
var(16) = 1
ignorehitpause = 1
persistent = 0

[State 1302 , 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 역철 강
[Statedef 1350]
type    = S
movetype= A
physics = S
poweradd= 106		;9.5번
velset = 0,0
anim = 1350
ctrl = 0

[State 1350, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1350, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1350, movetype]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

[State 1350, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1350, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1350, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1350, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1350, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1350, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1350, 5]
type = Projectile
trigger1 = AnimElem = 6
projanim = 1352
offset = 0, 0
velocity = 0,0
projremovetime = 6

[State 1350, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1853, 1

[State 1350, 0]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1350, 4

[State 1350, 6]
type = Projectile
trigger1 = AnimElem = 6
projanim = 1250
offset = 52, -75
velocity = 0,0
projremovetime = 28

[State 1350, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype = diagup
air.animtype = diagup
guardflag = M
damage = 123,20	;8.3대
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -85
getpower = 43,43
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
hitsound   = s1853,2
guardsound = s1000,3
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(24),fvar(25)
air.velocity = fvar(24),fvar(25)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
yaccel = fvar(18)
palfx.time = 53
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.envshake.time = 10
fall.envshake.ampl = -8

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 22 && P2Dist x< 45),var(28),ifelse(P2Dist x<= 22,22,45))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-56,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -93 && var(26) < -40),var(26),ifelse(var(26)<= -93,-93-(pos y),-40-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -93 && var(25) < -40),var(25),ifelse(var(25)<= -93,-93,-40))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 11 && P2Dist x< 30),var(28),ifelse(P2Dist x<= 11,11,30))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-92,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -131 && var(26) < -92),var(26),ifelse(var(26)<= -131,-131-(pos y),-92-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -131 && var(25) < -92),var(25),ifelse(var(25)<= -131,-131,-92))
ignorehitpause = 1

[State 1350, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 1350, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 약 백식 시작(쿠사나기버젼)
[Statedef 1400]
type = S
movetype = A
physics = S
anim = 1400
velset = 0
poweradd = 91	;11번
ctrl = 0
facep2 = 1

[State 1400, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1400, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1400, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1400, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1400, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1400, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1400, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1400, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

;[State 1400,0]
;type = NotHitBy
;trigger1 = AnimElem = 2
;value = SCA
;time = 3

;[State 1400,1]
;type = HitBy
;trigger1 = AnimElem = 2
;value = SCA, NT, ST, HT
;time = 3

[State 1400, 2]
type = ReversalDef
trigger1 = p2Movetype != H
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
reversal.attr = SCA, NAP, SAP, HAP
numhits = 0
pausetime = 7,10
sparkno = s6005
;sparkxy = 20,-70	;20,-65
hitsound = s1000,3

[State 1400, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1400,1

[State 1400, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 1

[State 1400, 2]
type = PosAdd
trigger1 = AnimElem = 3
x = 15

[State 3100, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 3100, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1400, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 3,>=0
persistent = 0
attr = S, SA
animtype = Hard
guardflag = M
damage = 69/var(19),10/var(19)
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0, -69	;-46
getpower = 44,44
pausetime = var(45)-3,var(46)
guard.pausetime = var(45)-3,var(47)
hitsound   = s1400,2
guardsound = s1000,3
ground.type=Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14)
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 53
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
yaccel = fvar(12)
fall = 1
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 59),var(28),ifelse(P2Dist x<= 12,12,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -64 && var(26) < -33),var(26),ifelse(var(26)<= -64,-64-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -64 && var(25) < -33),var(25),ifelse(var(25)<= -64,-64,-33))
ignorehitpause = 1

[State 1400, 0]
type = varset
trigger1 = time > 5 && movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 1400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1401

;---------------------------------------------------------------------------
; 약 백식 공중
[Statedef 1401]
type = A
movetype = A
physics = N
poweradd = 0
anim = 1401

[State 1401, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 1401, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1401, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1401, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1401, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1401, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1401, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1401, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1400, 4

[State 1401, 5]
type = Projectile
trigger1 = Time = 0
projanim = 1450
projremovetime = 29
offset = 3,-6
velocity = 0,0
postype = p1

[State 1401, 7]
type = Projectile
trigger1 = AnimElem = 6,=1
projanim = 1460
projremovetime = 29
offset = 0,3
velocity = 0,0
postype = p1

[State 1401, 3]
type = VelSet
trigger1 = Time = 0
x = 2.8
y = -6.34

[State 1401, 4]
type = VelAdd
trigger1 = 1
y = .42

[State 1401, 4]
type = VelMul
trigger1 = 1
x = .9554

[State 1401, 3]
type = VelSet
trigger1 = AnimElem = 4
x = 0

[State 1401, 8]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype = Hard
guardflag = M
damage = 69/var(19),10/var(19)	;15.5대
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -87
getpower = 47,47
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
hitsound   = s1400,2
guardsound = s1000,3
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14)
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 53
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
yaccel = fvar(12)
fall = 1
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 47),var(28),ifelse(P2Dist x<= 8,8,47))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-69,(-79-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -128 && var(26) < -41),var(26),ifelse(var(26)<= -128,-128-(pos y),-41-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -128 && var(25) < -41),var(25),ifelse(var(25)<= -128,-128,-41))
ignorehitpause = 1

[State 1401, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 1401, 9]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -6
value = 1402

;---------------------------------------------------------------------------
; 약 백식 착지
[Statedef 1402]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1005
velset = 0,0

[State 1402, 0]
type = RemoveExplod
trigger1 = Time = 0
ID = 3560

[State 1402, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1402, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1402, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1402, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 약 백식 시작(02쿄버젼)
[Statedef 1405]
type = S
movetype = A
physics = S
anim = 1405
velset = 0
poweradd = 91	;11번
ctrl = 0
facep2 = 1

[State 1405, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1405, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1405, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1405, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1405, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1405, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1405,0]
type = NotHitBy
trigger1 = AnimElem = 3
value = SCA
time = 4

[State 1405,1]
type = HitBy
trigger1 = AnimElem = 3
value = SCA, NT, ST, HT
time = 4

[State 1405, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1400,1

[State 1405, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 1

[State 1405, 2]
type = PosAdd
trigger1 = AnimElem = 3
x = 15

[State 3100, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 3100, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1405, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype = Hard
guardflag = M
damage = 69/var(19),10/var(19)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -69	;-46
getpower = 44,44
pausetime = var(45)-3,var(46)
guard.pausetime = var(45)-3,var(47)
hitsound   = s1400,2
guardsound = s1000,3
ground.type=Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14)
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 53
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
yaccel = fvar(12)
fall = 1
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 59),var(28),ifelse(P2Dist x<= 12,12,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -64 && var(26) < -33),var(26),ifelse(var(26)<= -64,-64-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -64 && var(25) < -33),var(25),ifelse(var(25)<= -64,-64,-33))
ignorehitpause = 1

[State 1405, 0]
type = varset
trigger1 = time > 5 && movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 1405, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1401

;---------------------------------------------------------------------------
; 강 백식 시작(쿠사나기버젼)
[Statedef 1420]
type = S
movetype = A
physics = S
anim = 1400
velset = 0
poweradd = 91	;11번
ctrl = 0
facep2 = 1

[State 1420, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1420, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1420, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1420, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1420, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1420, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1420, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1420, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

;[State 1420,0]
;type = NotHitBy
;trigger1 = AnimElem = 2
;value = SCA
;time = 3

;[State 1420,1]
;type = HitBy
;trigger1 = AnimElem = 2
;value = SCA, NT, ST, HT
;time = 3

[State 1420, 2]
type = ReversalDef
trigger1 = p2Movetype != H
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 3
reversal.attr = SCA, NAP, SAP, HAP
numhits = 0
pausetime = 7,10
sparkno = s6005
;sparkxy = 20,-70	;20,-65
hitsound = s1000,3

[State 1420, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1400,1

[State 1420, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 1

[State 1420, 2]
type = PosAdd
trigger1 = AnimElem = 3
x = 15

[State 3100, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 3100, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1420, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 3,>=0
persistent = 0
attr = S, SA
animtype = Hard
guardflag = M
damage = 128/var(19),10/var(19)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -69	;-46
getpower = 44,44
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
hitsound   = s1400,2
guardsound = s1000,3
ground.type=Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 30
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
yaccel = fvar(12)
air.fall = 1
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 59),var(28),ifelse(P2Dist x<= 12,12,59))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-58,(-82-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -64 && var(26) < -33),var(26),ifelse(var(26)<= -64,-64-(pos y),-33-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -64 && var(25) < -33),var(25),ifelse(var(25)<= -64,-64,-33))
ignorehitpause = 1

[State 1425, 0]
type = varset
trigger1 = (movehit > 0) && P2statetype = A
var(13) = 1
ignorehitpause = 1
persistent = 0

;[State 1420, 0]
;type = varset
;trigger1 = time > 5 && movehit > 0
;var(7) = 1
;ignorehitpause = 1
;persistent = 0

[State 215, 5]
type = ChangeState
triggerall = power >= 1000
triggerall = var(55) = 1
trigger1 = movecontact > 0
trigger1 = random <= 400
value = 1006

[State 1420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1421

;---------------------------------------------------------------------------
; 강 백식 시작(02쿄버젼)
[Statedef 1425]
type = S
movetype = A
physics = S
anim = 1425
velset = 0
poweradd = 91	;11번
ctrl = 0
facep2 = 1

[State 1425, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1425, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1425, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1425, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1425, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1425, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1425,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 9

[State 1425,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 9

[State 1425, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1400,1

[State 1425, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 1

[State 1425, 2]
type = PosAdd
trigger1 = AnimElem = 3
x = 15

[State 3100, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 3100, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 1425, 4]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype = Hard
guardflag = M
damage = 128/var(19),10/var(19)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -69	;-46
getpower = 44,44
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
hitsound   = s1400,2
guardsound = s1000,3
ground.type=Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 30
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
yaccel = fvar(12)
air.fall = 1
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 51),var(28),ifelse(P2Dist x<= 12,12,51))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-58,(-82-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -84 && var(26) < -45),var(26),ifelse(var(26)<= -84,-84-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -84 && var(25) < -45),var(25),ifelse(var(25)<= -84,-84,-45))
ignorehitpause = 1

[State 1425, 0]
type = varset
trigger1 = (movehit > 0) && P2statetype = A
var(13) = 1
ignorehitpause = 1
persistent = 0

;[State 1425, 0]
;type = varset
;trigger1 = time > 5 && movehit > 0
;var(7) = 1
;ignorehitpause = 1
;persistent = 0

[State 1425, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1421

;---------------------------------------------------------------------------
; 강 백식 공중
[Statedef 1421]
type = A
movetype = A
physics = N
poweradd = 0
anim = 1421

[State 1421, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4
movetype = I

[State 1421, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1421, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1421, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1421, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1421, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1421, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1421, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1400, 4

[State 1421, 5]
type = Projectile
trigger1 = Time = 0
projanim = 1450
projremovetime = 29
offset = 4,-6
velocity = 0,0
postype = p1

[State 1421, 7]
type = Projectile
trigger1 = AnimElem = 6,=1
projanim = 1460
projremovetime = 29
offset = 0,2
velocity = 0,0
postype = p1

[State 1421, 3]
type = VelSet
trigger1 = Time = 0
x = 2.14
y = -8.34

[State 1421, 4]
type = VelAdd
trigger1 = 1
y = .42

[State 1421, 4]
type = VelMul
trigger1 = 1
x = .9554

[State 1421, 3]
type = VelSet
trigger1 = AnimElem = 5
x = 0

[State 1421, 8]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype = Hard
guardflag = M
damage = 128/var(19),10/var(19)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -87
getpower = 47,47
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
hitsound   = s1400,2
guardsound = s1000,3
ground.type=High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14)
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 54
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
yaccel = fvar(12)
fall = 1
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 47),var(28),ifelse(P2Dist x<= 8,8,47))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-68,(-74-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -132 && var(26) < -61),var(26),ifelse(var(26)<= -132,-132-(pos y),-61-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -132 && var(25) < -61),var(25),ifelse(var(25)<= -132,-132,-61))
ignorehitpause = 1

[State 1421, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 1421, 9]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -6
value = 1422

;---------------------------------------------------------------------------
; 강 백식 착지
[Statedef 1422]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1422
velset = 0,0

[State 1422, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1422, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1422, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1422, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; RED 킥 약 시작
[Statedef 1500]
type = S
movetype = A
physics = S
poweradd = 76		;13.2번
velset = 0
ctrl = 0
anim = 1500

[State 1500, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1500, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1500, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1800,2

[State 1500, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1501

;---------------------------------------------------------------------------
; RED 킥 약 공중
[Statedef 1501]
type = A
movetype = A
physics = N
poweradd = 0
anim = 1501

[State 1501, movetype]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

[State 1501, 0]
type = PlaySnd
trigger1 = time = 2
value = 1500, 4

[State 1501, 1]
type = posadd
trigger1 = Animelem = 3 || Animelem = 4 || Animelem = 5
x = 8

[State 1501, 1]
type = VelSet
trigger1 = time = 0
x = 3.8
y = -8.2

[State 1501, 2]
type = VelAdd
trigger1 = 1
y = .72

[State 1501, 3]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype = Hard
guardflag = H
damage = 123,10	;8.5대
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,-50
getpower = 43,43
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
hitsound = S250,2
guardsound = s1000,3
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(34),fvar(35)
air.velocity = fvar(34),fvar(35)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
yaccel = fvar(12)
fall.envshake.time = 14
fall.xvelocity = 0
fall.yvelocity = -4
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = ifelse(p2statetype = A,4020,(ifelse(p2statetype = C,5972,5971)))

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 75),var(28),ifelse(P2Dist x<= 28,28,75))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ];이건 계산수치
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-81,(-103-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -104 && var(26) < -73),var(26),ifelse(var(26)<= -104,-104-(pos y),-73-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -104 && var(25) < -73),var(25),ifelse(var(25)<= -104,-104,-73))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 75),var(28),ifelse(P2Dist x<= 28,28,75))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-70,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -76 && var(26) < -45),var(26),ifelse(var(26)<= -76,-76-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -76 && var(25) < -45),var(25),ifelse(var(25)<= -76,-76,-45))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 21 && P2Dist x< 68),var(28),ifelse(P2Dist x<= 21,21,68))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -56 && var(26) < -25),var(26),ifelse(var(26)<= -56,-56-(pos y),-25-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -56 && var(25) < -25),var(25),ifelse(var(25)<= -56,-56,-25))
ignorehitpause = 1

[State 1501, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 1501, 4]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 1502

;---------------------------------------------------------------------------
; RED 킥 약 착지
[Statedef 1502]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1502
velset = 0,0

[State 1502, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1502, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1502, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; RED 킥 강 시작
[Statedef 1550]
type = S
movetype = A
physics = S
poweradd = 76		;13.2번
velset = 0
ctrl = 0
anim = 1550

[State 1550, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1550, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1550, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1800,2

[State 1550, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 1551

;---------------------------------------------------------------------------
; RED 킥 강 공중
[Statedef 1551]
type = A
movetype = A
physics = N
poweradd = 0
anim = 1551

[State 1551, movetype]
type = StateTypeSet
trigger1 = AnimElem = 9
movetype = I

[State 1551, 0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1500, 4

[State 1551, 1]
type = posadd
trigger1 = Animelem = 3 || Animelem = 4 || Animelem = 5
x = 8

[State 1551, 1]
type = VelSet
trigger1 = time = 0
x = 4.54
y = -10.9

[State 1551, 2]
type = VelAdd
trigger1 = 1
y = .72

[State 1551, 3]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype = Hard
guardflag = H
damage = 176,10	;6대
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,-50
getpower = 43,43
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
hitsound = S250,2
guardsound = s1000,3
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(34),fvar(35)
air.velocity = fvar(34),fvar(35)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
fall = 1
yaccel = fvar(12)
fall.envshake.time = 14
fall.xvelocity = 0
fall.yvelocity = -4
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = ifelse(p2statetype = A,4020,(ifelse(p2statetype = C,5972,5971)))

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 32,32,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ];이건 계산수치
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-81,(-103-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -112 && var(26) < -65),var(26),ifelse(var(26)<= -112,-112-(pos y),-65-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -112 && var(25) < -65),var(25),ifelse(var(25)<= -112,-112,-65))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 79),var(28),ifelse(P2Dist x<= 32,32,79))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-70,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -88 && var(26) < -41),var(26),ifelse(var(26)<= -88,-88-(pos y),-41-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 7, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -88 && var(25) < -41),var(25),ifelse(var(25)<= -88,-88,-41))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 63),var(28),ifelse(P2Dist x<= 32,32,63))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -52 && var(26) < -21),var(26),ifelse(var(26)<= -52,-52-(pos y),-21-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -52 && var(25) < -21),var(25),ifelse(var(25)<= -52,-52,-21))
ignorehitpause = 1

[State 1551, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 1551, 4]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 1552

;---------------------------------------------------------------------------
; RED 킥 강 착지
[Statedef 1552]
type = S
movetype = I
physics = S
poweradd = 0
anim = 1552
velset = 0,0

[State 1552, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 1552, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1552, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;구백십식 야타기
[Statedef 1600]
type    = S
movetype= A
physics = S
poweradd = 31	;33번
velset = 0,0
anim = 1600
ctrl = 0
facep2 = 1

[State 1600, movetype]
type = StateTypeSet
trigger1 = AnimElem = 8
movetype = I

[State 1600, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 1600,1

[State 1600, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1800,4

[state 1600, 1]
type = HitAdd
trigger1 = var(44) = 1
value = -1

[State 1600, 1]
type = ReversalDef
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 10
reversal.attr = SC, NA
hitflag = MA
numhits = 0
pausetime = var(45)+1,var(46)+1
sparkno = s6007
;sparkxy = 0,-65
hitsound = s1851,2
p1stateno = 1610

[State 1900, 1]
type = ReversalDef
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 4
reversal.attr = SC, NA
hitflag = MA
numhits = 0
pausetime = var(45)+1,var(46)+1
sparkno = s6007
;sparkxy = 0,-65
hitsound = s1851,2
p1stateno = 1620

[State 1600, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 5, >= 0 && AnimElem = 6, <= 3
persistent = 0
attr = S, SA
animtype  = Hard
damage    = 103,10	;10대
guardflag = M
getpower = 121,121
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,-93
hitsound   = s5,210
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -2.1,-12	
air.velocity = -2.1,-12
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
yaccel = fvar(12)
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 1
nochainID = 1008

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 36 && P2Dist x< 75),var(28),ifelse(P2Dist x<= 36,36,75))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -100 && var(26) < -21),var(26),ifelse(var(26)<= -100,-100-(pos y),-21-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -100 && var(25) < -21),var(25),ifelse(var(25)<= -100,-100,-21))
ignorehitpause = 1

[State 1600, 0]
type = varset
trigger1 = time > 18 && movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 1600, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;구백십식 야타기 하단반격
[Statedef 1610]
type    = C
movetype= A
physics = C
poweradd= 0
velset = 0,0
anim = 1610
ctrl = 0

[State 1610, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 1610, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1610, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1610, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1610, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1610, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1610, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1610,0]
type = NotHitBy
trigger1 = Time = 0
time = 6
value = SCA

[State 1610,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 6

[State 1610, 0]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1003,1

[State 1610, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype  = Hard
damage    = 88,10
guardflag = L
getpower = 121,121
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -12
hitsound   = s1400,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(34),fvar(35)
air.velocity = fvar(34),fvar(35)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 27
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall.envshake.time = 14
fall.xvelocity = 0
fall.yvelocity = -8
fall = 1
yaccel = fvar(12)
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p2stateno = ifelse(p2statetype = A,4020,(ifelse(p2statetype = C,5972,5971)))

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 111),var(28),ifelse(P2Dist x<= 32,32,111))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-32,(-20-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -40 && var(26) < -1),var(26),ifelse(var(26)<= -40,-40-(pos y),-1-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -40 && var(25) < -1),var(25),ifelse(var(25)<= -40,-40,-1))
ignorehitpause = 1

[State 1610, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;구백십식 야타기 중단반격
[Statedef 1620]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1620
ctrl = 0

[State 1620, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 1620, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1620, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1620, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1620, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1620, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1620, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1620,0]
type = NotHitBy
trigger1 = Time = 0
time = 8
value = SCA

[State 1620,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 8

[State 1620, 1]
type = PosAdd
trigger1 = AnimElem = 1
x = 16

[State 1620, 1]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x = 8

[State 1620, 1]
type = PosAdd
trigger1 = AnimElem = 5
x = 2

[State 1620, 1]
type = PosAdd
trigger1 = AnimElem = 6
x = -16

[State 1620, 0]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1800,3

[State 1620, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype  = Hard
damage    = 88,10
guardflag = H
getpower = 121,121
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0, -93
hitsound   = s1400,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
yaccel = fvar(12)
air.type = High                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 20 && P2Dist x< 91),var(28),ifelse(P2Dist x<= 20,20,91))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-58,(-88-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -53),var(26),ifelse(var(26)<= -92,-92-(pos y),-53-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -53),var(25),ifelse(var(25)<= -92,-92,-53))
ignorehitpause = 1

[State 1620, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 어둠쫓기 약
[Statedef 1700]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1700
ctrl = 0
facep2 = 1

[State 1700, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 1700, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700,1

[State 1700, 2]
type = PlaySnd
trigger1 = AnimElem = 5,=1
value = 1700,4

[State 1700, 6]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1790
offset = 0,0
velocity = 0,0
projremovetime = 35

[State 1700, 4]
type = Projectile
trigger1 = AnimElem = 5,=1
attr = SC, SP
animtype  = Hard
damage = 123, 10
guardflag = M     
getpower = 108,108
pausetime = 0,13
guard.pausetime = 0,11
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0,-21
hitsound=s1700,2
guardsound = s1000,3
ground.type = Low
air.fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
palfx.time = 28
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
projanim = 1791
projsprpriority = 3
projID = 1791
offset = 44,0
velocity = 3.7,0
air.juggle = ifelse(var(13) = 1 && P2StateNo != 5040,30,(ifelse(var(37) = 0,0,0)))

[State 1700, 4]
type = Helper
trigger1 = AnimElem = 5,=1
name = "proj"
pos = 44,0 
stateno = 1792
ownpal = 1

[State 1700, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------
;어둠쫒기 약 연기
[Statedef 1792]
type    = S
movetype= I
physics = N
velset = 3.7,0
anim = 1793
sprpriority = 1

[State 1792, 4]
type = projectile
trigger1 = timemod = 6,0
trigger1 = time > 5
offset = 0,0
projanim = 1792
projremovetime = 11
projsprpriority = 1

[State 1792, 4]
type = destroyself
trigger1 = time > 0
trigger1 = parent, numprojID(1791) = 0

;---------------------------------------------------------------------------
; 어둠쫓기 강
[Statedef 1750]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 1750
ctrl = 0
facep2 = 1

[State 1750, movetype]
type = StateTypeSet
trigger1 = AnimElem = 6
movetype = I

[State 1750, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1700,1

[State 1750, 2]
type = PlaySnd
trigger1 = AnimElem = 5,=1
value = 1700,4

[State 1750, 6]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1790
offset = 0,0
velocity = 0,0
projremovetime = 35

[State 1750, 4]
type = Projectile
trigger1 = AnimElem = 5,=1
attr = S, SA
animtype  = Hard
damage = 123, 10
guardflag = M     
getpower = 108,108
pausetime = 0,13
guard.pausetime = 0,11
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0,-21
hitsound=s1700,2
guardsound = s1000,3
ground.type = Low
air.fall = 1
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
palfx.time = 28
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
projanim = 1791
projsprpriority = 3
projID = 1791
offset = 44,0
velocity = 6.7,0
ownpal = 1
air.juggle = ifelse(var(13) = 1 && P2StateNo != 5040,30,(ifelse(var(37) = 0,0,0)))

[State 1750, 4]
type = Helper
trigger1 = AnimElem = 5,=1
name = "proj"
pos = 44,0 
stateno = 1794
ownpal = 1

[State 1750, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------
;어둠쫒기 강 연기
[Statedef 1794]
type    = S
movetype= I
physics = N
velset = 6.7,0
anim = 1793
sprpriority = 1

[State 1794, 4]
type = projectile
trigger1 = timemod = 6,0
trigger1 = time > 5
offset = 0,0
projanim = 1792
projremovetime = 11
projsprpriority = 1

[State 1794, 4]
type = destroyself
trigger1 = time > 0
trigger1 = parent, numprojID(1791) = 0


;---------------------------------------------------------------------------
; 약 농차 시작
[Statedef 1800]
type = S
movetype = A
physics = S
anim = 1800
velset = 0
poweradd = 91	;11번
ctrl = 0
facep2 = 1

[State 1800, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1800, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1400, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1810

;---------------------------------------------------------------------------
; 약 농차 공중
[Statedef 1810]
type = A
movetype = A
physics = N
poweradd = 0
anim = 1810

[State 1810, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 1810, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2040,1

[State 1810, 0]
type = PlaySnd
trigger1 = time=1
value = 1800,1

[State 1810, 0]
type = PlaySnd
trigger1 = time=2
value = 1800,4

[State 1810, 3]
type = VelSet
trigger1 = Time = 0
x = 6
y = -7.06

[State 1810, 4]
type = VelAdd
trigger1 = 1
y = .46

[State 1810, 4]
type = VelMul
trigger1 = 1
x = .9554

[State 1810 , 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, SA
animtype  = Hard
guardflag = M
damage    = 113,10
getpower = 45,45
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkxy = 0,-67
sparkno = s6002999
guard.sparkno = s6007999
hitsound   = s5,240
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)	;-10
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 4 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 4,4,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-76,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -88 && var(26) < -65),var(26),ifelse(var(26)<= -88,-88-(pos y),-65-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -88 && var(25) < -65),var(25),ifelse(var(25)<= -88,-88,-65))
ignorehitpause = 1

[State 1810, 9]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -6
value = 1005

;---------------------------------------------------------------------------
; 강 농차 시작
[Statedef 1820]
type = S
movetype = A
physics = S
anim = 1820
velset = 0
poweradd = 91	;11번
ctrl = 0
facep2 = 1

[State 1820, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1820, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1820,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 3

[State 1820,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 3

[State 1820, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1830

;---------------------------------------------------------------------------
; 강 농차 공중
[Statedef 1830]
type = A
movetype = A
physics = N
poweradd = 0
anim = 1830

[State 1830, movetype]
type = StateTypeSet
trigger1 = AnimElem = 15
movetype = I

[State 1830,0]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 3

[State 1830,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA, NT, ST, HT
time = 3

[State 1830, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 2040,1

[State 1830, 0]
type = PlaySnd
trigger1 = time=1
value = 1800,1

[State 1810, 0]
type = PlaySnd
trigger1 = time=2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 14
value = 1800,4

[State 1810, 0]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1800,2

[State 1810, 0]
type = PlaySnd
trigger1 = AnimElem = 13
value = 1800,3

[State 1810, 3]
type = VelSet
trigger1 = Time = 0
x = 9.6
y = -5.2

[State 1810, 4]
type = VelAdd
trigger1 = 1
y = .152

[State 1810, 4]
type = VelMul
trigger1 = 1
x = .9554

[State 1830 , 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 4
persistent = 0
attr = A, SA
animtype  = Hard
guardflag = M
damage    = 68,10
getpower = 45,45
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkxy = 0,-67
sparkno = s6002999
guard.sparkno = s6007999
hitsound   = s5,240
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)	;-10
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 4 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 4,4,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-76,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -88 && var(26) < -65),var(26),ifelse(var(26)<= -88,-88-(pos y),-65-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 2, >= 0 && AnimElem = 2, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -88 && var(25) < -65),var(25),ifelse(var(25)<= -88,-88,-65))
ignorehitpause = 1

[State 1830 , 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
persistent = 0
attr = A, SA
animtype  = Hard
guardflag = M
damage    = 68,10
getpower = 45,45
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkxy = 0,-67
sparkno = s6002999
guard.sparkno = s6007999
hitsound   = s5,240
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)	;-10
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 4 && P2Dist x< 69),var(28),ifelse(P2Dist x<= 4,4,69))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-76,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -88 && var(26) < -65),var(26),ifelse(var(26)<= -88,-88-(pos y),-65-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 6, >= 0 && AnimElem = 6, <= 4
trigger1 = 1
fvar(38) = ifelse((var(25) > -88 && var(25) < -65),var(25),ifelse(var(25)<= -88,-88,-65))
ignorehitpause = 1

[State 1830 , 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 3
persistent = 0
attr = A, SA
animtype  = Hard
guardflag = M
damage    = 69,10
getpower = 45,45
pausetime = var(10),var(11)
guard.pausetime = var(10),var(15)
sparkxy = 0,-67
sparkno = s6002999
guard.sparkno = s6007999
hitsound   = s250,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -4.7, 9.6
air.velocity = -4.7, 9.6
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1
fall.envshake.time = 14
fall.envshake.ampl = -8

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 83),var(28),ifelse(P2Dist x<= 12,12,83))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-68,(-101-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -88 && var(26) < -57),var(26),ifelse(var(26)<= -88,-88-(pos y),-57-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 14, >= 0 && AnimElem = 14, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -88 && var(25) < -57),var(25),ifelse(var(25)<= -88,-88,-57))
ignorehitpause = 1

[State 1830, 9]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -6
value = 1005

;---------------------------------------------------------------------------
;이백십이식 금월 양 약 시작
[Statedef 1850]
type = S
movetype = A
physics = S
anim = 1850
velset = 0
poweradd = 105
ctrl = 0
facep2 = 1

[State 1850, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1850, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1850, 0]
type = PlaySnd
trigger1 = animelem = 1
value = 1850, 1

[State 1850, Playsnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100,2

;[State 1850, Playsnd]
;type = PlaySnd
;trigger1 = time < 22
;trigger1 = time = 4
;value = 100,0

;[State 1850, Playsnd]
;type = PlaySnd
;trigger1 = time < 22
;trigger1 = time != 9 && timemod = 9,4
;value = 100,1

;[State 1850, 3]
;type = VelSet
;trigger1 = animelem = 2
;x = 9

;[State 1850, 3]
;type = VelSet
;trigger1 = animelem = 6
;x = 15.4

;[State 1850, 3]
;type = VelSet
;trigger1 = animelem = 7
;x = 5.4

;[State 1850, 3]
;type = VelSet
;trigger1 = animelem = 7,=2
;x = 4.4

;[State 1850, 3]
;type = VelSet
;trigger1 = animelem = 7,=3
;x = 3.4

;[State 1850, 3]
;type = VelSet
;trigger1 = animelem = 8
;x = 1.4

[State 1200,VelSet]
type = posadd
trigger1 = time = 5
trigger2 = time = 7
trigger3 = time = 9
trigger4 = time = 11
trigger5 = time = 13
trigger6 = time = 15
trigger7 = time = 17
trigger8 = time = 19
x = 8

[State 1200,VelSet]
type = posadd
trigger1 = time = 6
trigger2 = time = 8
trigger3 = time = 10
trigger4 = time = 12
trigger5 = time = 14
trigger6 = time = 16
trigger7 = time = 18
trigger8 = time = 20
x = 9

[State 1200,VelSet]
type = posadd
trigger1 = time = 21
x = 15

[State 1200,VelSet]
type = posadd
trigger1 = time = [22,23]
x = 5

[State 1200,VelSet]
type = posadd
trigger1 = time = 24
x = 4

[State 1200,VelSet]
type = posadd
trigger1 = time = 25
trigger2 = time = 27
trigger3 = time = 29
x = 2

[State 1200,VelSet]
type = posadd
trigger1 = time = 26
x = 3

[State 1200,VelSet]
type = posadd
trigger1 = time = 28
trigger2 = time = 30
trigger3 = time = [32,33]
x = 1

[State 1850, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1850, 3]
type = ChangeState
;triggerall = time < 22
;trigger1 = time > 8
;trigger1 = (prevstateno = [700,799])
;Trigger1 = p2dist X <= 94
;Trigger1 = p2dist X > -15
;trigger2 = (prevstateno != [700,799])
trigger1 = time > 4 && animelem = 6,<=0;대충잡은거
Trigger1 = p2dist X <= 84;94
Trigger1 = p2dist X > -15
value = 1851

;---------------------------------------------------------------------------
;이백십이식 금월 양 약 근접
[Statedef 1851]
type = S
movetype = A
physics = S
anim = 1851
velset = 0
poweradd = 0
ctrl = 0

[State 1851, movetype]
type = StateTypeSet
trigger1 = AnimElem = 5
movetype = I

;[State 1851, 3]
;type = VelSet
;trigger1 = animelem = 1
;x = 7.25

;[State 1851, 3]
;type = VelSet
;trigger1 = animelem = 2
;x = 5.25

;[State 1851, 3]
;type = VelSet
;trigger1 = animelem = 3
;x = 4

;[State 1851, 3]
;type = VelSet
;trigger1 = animelem = 4
;x = 0

[State 1200,VelSet]
type = posadd
trigger1 = time = 0
x = 8

[State 1200,VelSet]
type = posadd
trigger1 = time = [1,3]
x = 7

[State 1200,VelSet]
type = posadd
trigger1 = time = [4,5]
x = 6

[State 1200,VelSet]
type = posadd
trigger1 = time = [6,9]
x = 5

[State 1200,VelSet]
type = posadd
trigger1 = time = [10,11]
x = 4

[State 1200,VelSet]
type = posadd
trigger1 = time = 12
x = 3

[State 1851, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype  = Hard
damage    = 25,10	;강약의차이는데미지뿐이라 중간단계로통일
guardflag = M
getpower = 31,31
pausetime = var(45)-3,var(46)
guard.pausetime = var(45)-3,var(47)
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = -13,-45
hitsound = s5,210
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
p1stateno = 1852
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 67),var(28),ifelse(P2Dist x<= 12,12,67))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-56,(-44-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -72 && var(26) < -41),var(26),ifelse(var(26)<= -72,-72-(pos y),-41-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -72 && var(25) < -41),var(25),ifelse(var(25)<= -72,-72,-41))
ignorehitpause = 1

[State 215, 5]
type = ChangeState
triggerall = var(3) > 0
triggerall = var(55) = 1
trigger1 = movecontact > 0
trigger1 = random <= 1000
value = 1420

[State 1851, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;이백십이식 금월 양 약 근접2
[Statedef 1852]
type = S
movetype = A
physics = S
anim = 1852
velset = 0
poweradd = 0
ctrl = 0

[State 1852, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 1852, 4]
type = PosAdd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
x = 8

[State 1851, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, SA
animtype  = Hard
damage    = 0,0
guardflag = M
getpower = 62,62
pausetime = 0,0		;(하다보니;;)
guard.pausetime = 4,2
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,-77
hitsound = s1851,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(3),ifelse(var(41)=1,fvar(4),fvar(4))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
p2facing = 1
p1stateno = 1853
p2stateno = 1854
p2getp1state = 1
Palfx.time = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 52 && P2Dist x< 95),var(28),ifelse(P2Dist x<= 52,52,95))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-48,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -104 && var(26) < -49),var(26),ifelse(var(26)<= -104,-104-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -104 && var(25) < -49),var(25),ifelse(var(25)<= -104,-104,-49))
ignorehitpause = 1

[State 215, 5]
type = ChangeState
triggerall = power >= 1000
triggerall = var(55) = 1
triggerall = time = 3
trigger1 = random <= 300
value = 1420

[State 215, 5]
type = ChangeState
triggerall = var(3) > 0
triggerall = var(55) = 1
triggerall = time = 3
trigger1 = random <= 1000
value = 1420

[State 1852, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;이백십이식 금월 양 약 성공
[Statedef 1853]
type     = S
movetype = A
physics  = S
poweradd= 0
velset   = 0
ctrl = 0
anim = 1853
sprpriority = 2

[State Hit Spark]
type = Explod
trigger1 = time = 0
id = 6000
anim = 6002
pos = Ceil(ifelse((P2Dist x> 52 && P2Dist x< 95),var(28),ifelse(P2Dist x<= 52,52,95))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-48,(-60-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -104 && var(26) < -49),var(26),ifelse(var(26)<= -104,-104-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -104 && var(25) < -49),var(25),ifelse(var(25)<= -104,-104,-49))
ignorehitpause = 1

[State 1853, movetype]
type = StateTypeSet
trigger1 = AnimElem = 3
movetype = I

[State 810, Width]
type = width
trigger1 = AnimElem = 1, >= 0 && AnimElem = 5, <= 5
edge = 88,25

[State 1853, 6]
type = Projectile
trigger1 = AnimElem = 2,=29
projanim = 2204
offset = 96, -128
velocity = 0,0
projremovetime = 16
sprpriority = 5

[State 1853, 6]
type = Projectile
trigger1 = AnimElem = 2,=29
projanim = 2204
offset = 60, -138
velocity = 0,0
projremovetime = 16
sprpriority = 5

[State 1853, 6]
type = Projectile
trigger1 = AnimElem = 2,=29
projanim = 2204
offset = 76, -91
velocity = 0,0
projremovetime = 16
sprpriority = 5

[State 1853, 6]
type = Projectile
trigger1 = AnimElem = 2,=29
projanim = 2201
offset = 61, -107
velocity = 0,0
projremovetime = 25
sprpriority = 6

[State 1853, 6]
type = Projectile
trigger1 = AnimElem = 2,=29
projanim = 2201
offset = 88, -135
velocity = 0,0
projremovetime = 25
sprpriority = 6

[State 1853, 6]
type = Projectile
trigger1 = AnimElem = 2,=29
projanim = 2200
offset = 60, -125
velocity = 0,0
projremovetime = 30
sprpriority = 7

[State 1853, 6]
type = Projectile
trigger1 = AnimElem = 2,=29
projanim = 2200
offset = 88, -107
velocity = 0,0
projremovetime = 30
sprpriority = 8

[State 1853, 6]
type = Projectile
trigger1 = AnimElem = 2,=29
projanim = 2200
offset = 89, -136
velocity = 0,0
projremovetime = 30
sprpriority = 9

[State 1853, 0]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1853, 1

[State 1853, 0]
type = PlaySnd
trigger1 = AnimElem = 2,=29
value = 1853, 2

[State 1853, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1853, 0]
type = TargetLifeAdd
trigger1 = AnimElem = 2,=29
value = -142

[State 1853, 0]
type = EnvShake
trigger1 = AnimElem = 2,=29
time = 14
ampl = -8

[State 1853, 0]
type = targetBind
trigger1 = AnimElem = 1
pos = 77, -90
postype = P1

[State 1853, 0]
type = targetBind
trigger1 = AnimElem = 2
pos = 72, -122
postype = P1

[State 1853, 4]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
x = 8

[State 1853, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;이백십이식 금월 양 맞는
[Statedef 1854]
type     = A
movetype = H
physics  = N
velset   = 0
ctrl = 0

[State 1854, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 1854

[State 1854, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 1855
ctrl = 0

;---------------------------------------------------------------------------
[Statedef 1855]
type    = A
movetype= H
physics = N
ctrl = 0

;[State 1855, Explod]
;type = Explod
;triggerall = Random < 599
;trigger1 = NumExplod(2205) < 4
;trigger1 = Time =[1,82]
;trigger1 = (random%2)
;anim = 2205
;ID = 2200
;ownpal = 1
;sprpriority = 5
;postype = p1
;pos = 0,-60
;random = 100,100
;bindtime = 1
;ignorehitpause = 1

[State 240, 4]
type = PosAdd
trigger1 = time = 0
x = 0
y = 86

[State 1855, 0]
type = PalFX
trigger1 = time = 0
time = 42
add = 224,88,0
sinadd = 48,50,32,16

[State 1855, 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1855, Vel]
type = Velset
trigger1 = Time = 0
x = -2.06
y = -11.2

[State 1855, Vel]
type = Veladd
trigger1 = 1
y = .523

[State 1855, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 5050

[State 1855, 1]
type = Pause
trigger1 = time = 3 || time = 6 || time = 9 || time = 12 || time = 16 || time = 18
time = 1

[State 825]
type = ChangeAnim
trigger1 = Pos Y >= -14 && Vel Y > 0
trigger1 = authorname = "zzzasd"
value = 5050

[State 1855, 0]
type = ChangeState
trigger1 = Pos Y >= -14 && Vel Y > 0
value = 1857

;--------------------------------------------------------------
[Statedef 1857]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1857, 10]
type = PlaySnd
trigger1 = Time = 0
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 1857, 13]
type = PlaySnd
triggerall = alive
trigger1 = Time = 0
value = 11,2
channel = 3

[State 1857,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1857, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1857,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5100

[State 1857,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 1858

;--------------------------------------------------------------
[Statedef 1858]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1858,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1858,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5160

[State 1858,VelSet]
type = VelSet
trigger1 = Time = 0
x = -2.2
y = -3

[State 1858,VelAdd]
type = VelAdd
trigger1 = 1
y = .523

[State 1858,SelfState]
type = SelfState
trigger1 = Pos Y >= -2 && Vel Y > 0
value = 5110

;---------------------------------------------------------------------------
;이백십이식 금월 양 강 시작
[Statedef 1856]
type = S
movetype = A
physics = S
anim = 1856
velset = 0
poweradd = 105
ctrl = 0
facep2 = 1

[State 1856, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 15

[state 1856, 1]
type = poweradd
triggerall = var(3) < 1 && prevstateno = [1000,1950]
trigger1 = time = 0
value = -1000

[State 1856, 0]
type = PlaySnd
trigger1 = animelem = 1
value = 1850, 1

[State 1856, Playsnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 100,2

;[State 1856, Playsnd]
;type = PlaySnd
;trigger1 = time < 30
;trigger1 = time = 4
;value = 100,0

;[State 1856, Playsnd]
;type = PlaySnd
;trigger1 = time < 30
;trigger1 = time != 9 && timemod = 9,4
;value = 100,1

;[State 1856, 3]
;type = VelSet
;trigger1 = animelem = 2
;x = 9

;[State 1856, 3]
;type = VelSet
;trigger1 = animelem = 8
;x = 15.4

;[State 1856, 3]
;type = VelSet
;trigger1 = animelem = 9
;x = 5.4

;[State 1856, 3]
;type = VelSet
;trigger1 = animelem = 9,=2
;x = 4.4

;[State 1856, 3]
;type = VelSet
;trigger1 = animelem = 9,=3
;x = 3.4

;[State 1856, 3]
;type = VelSet
;trigger1 = animelem = 10
;x = 1.4

[State 1200,VelSet]
type = posadd
trigger1 = time = 5
trigger2 = time = 7
trigger3 = time = 9
trigger4 = time = 11
trigger5 = time = 13
trigger6 = time = 15
trigger7 = time = 17
trigger8 = time = 19
trigger9 = time = 21
trigger10 = time = 23
trigger11 = time = 25
trigger12 = time = 27
trigger13 = time = 29
trigger14 = time = 31
trigger15 = time = 32
x = 8

[State 1200,VelSet]
type = posadd
trigger1 = time = 6
trigger2 = time = 8
trigger3 = time = 10
trigger4 = time = 12
trigger5 = time = 14
trigger6 = time = 16
trigger7 = time = 18
trigger8 = time = 20
trigger9 = time = 22
trigger10 = time = 24
trigger11 = time = 26
trigger12 = time = 28
trigger13 = time = 30
trigger14 = time = 32
trigger15 = time = 34
x = 9

[State 1200,VelSet]
type = posadd
trigger1 = time = 35
x = 15

[State 1200,VelSet]
type = posadd
trigger1 = time = [36,37]
x = 5

[State 1200,VelSet]
type = posadd
trigger1 = time = 38
x = 4

[State 1200,VelSet]
type = posadd
trigger1 = time = 39
trigger2 = time = 41
trigger3 = time = 43
x = 2

[State 1200,VelSet]
type = posadd
trigger1 = time = 40
x = 3

[State 1200,VelSet]
type = posadd
trigger1 = time = 42
trigger2 = time = 44
trigger3 = time = [46,47]
x = 1

[State 1856, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1856, 3]
type = ChangeState
;triggerall = time < 22
;trigger1 = time > 8
;trigger1 = (prevstateno = [700,799])
;Trigger1 = p2dist X <= 94
;Trigger1 = p2dist X > -15
;trigger2 = (prevstateno != [700,799])
trigger1 = time > 4 && animelem = 8,<=0;대충잡은거
Trigger1 = p2dist X <= 84;94
Trigger1 = p2dist X > -15
value = 1851

;---------------------------------------------------------------------------
;레드킥 지상히트
[Statedef 5971]
type    = S
movetype= H
physics = S
;velset = 0,0

[State 5971, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5976, 6]
type = SelfState
trigger1 = Time = 0 && !selfanimexist(5971)
value = 5000

[State 5971, 2]
type = ChangeAnim
trigger1 = Time = 0 && selfanimexist(5971)
value = 5971

[State 5971,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5971,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5971, EnvShake]
type = FallEnvShake
trigger1 = AnimElem = 2

[State 5971, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 5976

;---------------------------------------------------------------------------
;레드킥 지상앉았을때히트
[Statedef 5972]
type    = S
movetype= H
physics = S
;velset = 0,0

[State 5971, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5972, 6]
type = SelfState
trigger1 = Time = 0 && !selfanimexist(5972)
value = 5000

[State 5972, 2]
type = ChangeAnim
trigger1 = Time = 0 && selfanimexist(5972)
value = 5972

[State 5971,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5971,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5972]
type = FallEnvShake
trigger1 = AnimElem = 2

[State 5972, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 5976

;---------------------------------------------------------------------------
;레드킥 지상히트2
[Statedef 5976]
type    = L
movetype= H
physics = N
velset = 0,-2.4

[State 5971, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5976, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
trigger1= time = 0
value = 5976

;[State 5976, 3]
;type = HitFallVel
;trigger1 = Time = 0

[State 5976, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .46

[State 5971,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5971,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5976, 6]
type = SelfState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 5110

;---------------------------------------------------------------------------
;외식섬돌뚫기 다운히트
[Statedef 5973]
type    = S
movetype= H
physics = S
velset = 0,0

[State 5973, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5973, 6]
type = ChangeAnim
trigger1 = Time = 0 && !selfanimexist(5973)
value = 5080

[State 5973, 2]
type = ChangeAnim
trigger1 = Time = 0 && selfanimexist(5973)
value = ifelse(anim = 5111,5973,ifelse(anim = 5971,5973,ifelse(anim = 5972,5973,ifelse(anim = 5171,5973,5080))))

[State 5973,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5973,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5973, 1]
type = Pause
trigger1 = time = 12 || time = 13 || time = 14 || time = 15 || time = 16
time = 1

[State 5973, EnvShake]
type = FallEnvShake
trigger1 = time = 12

[State 5973, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = time = 16
value = 5974

;--------------------------------------------------------------
;외식섬돌뚫기 다운히트2
[Statedef 5974]
type = A
movetype = H
physics = N
velset = 0, 0

[State 5974,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5973, 6]
type = ChangeAnim
trigger1 = Time = 0 && anim = 5080
value = 5160

[State 5973, 2]
type = ChangeAnim
trigger1 = Time = 0 && anim = 5973 && !selfanimexist(5974)
value = 5976

[State 5973, 2]
type = ChangeAnim
trigger1 = Time = 0 && anim = 5973 && selfanimexist(5974)
value = 5974

[State 5974,VelSet]
type = VelSet
trigger1 = Time = 0
x = -3.34
y = -7.6

[State 5974,VelAdd]
type = VelAdd
trigger1 = 1
y = .8

[State 5974,SelfState]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 5969

;--------------------------------------------------------------
;외식섬돌뚫기 다운히트3
[Statedef 5969]
type = S
movetype = H
physics = N
velset = 0, 0

;[State 5969, 10]
;type = PlaySnd
;trigger1 = Time = 0
;value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

;[State 5969, 13]
;type = PlaySnd
;triggerall = alive
;trigger1 = Time = 0
;value = 11,2
;channel = 3

;[State 5969, Shake]
;type = EnvShake
;trigger1 = Time = 0
;time = 20
;ampl = -6

[State 5969,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5969, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5969,ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(anim = 5976,5103,ifelse(anim = 5974,5103,5100))

[State 5969,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 5968

;---------------------------------------------------------------------------
;외식섬돌뚫기 다운히트4
[Statedef 5968]
type    = L
movetype= H
physics = N
velset = -3.4,-2.4

[State 5968, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5968, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
trigger1= time = 0
value = ifelse(anim = 5103,5976,5160)

;[State 5976, 3]
;type = HitFallVel
;trigger1 = Time = 0

[State 5968, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .46

[State 5968,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5968,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5968, 6]
type = SelfState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 5110

;--------------------------------------------------------------------
; 2k2 mode start 캔슬
[Statedef 1990]
type    = S
movetype= I
physics = S
ctrl = 1
anim = 0
facep2 = 0
velset = 0,0
poweradd= -2000

;[state 1990, 1]
;type = varadd
;trigger1 = time = 0
;var(20) = 10

[State 1990, 5]
type = varset
trigger1 = time = 0
var(2) = power - var(20)*200

[State 1990, 2]
type = PlaySnd
trigger1 = Time = 0
value = 1991,1

;[State 1421, 4]
;type = VelAdd
;trigger1 = Time > 0
;y = .46

[State 1421, 8]
type = VelSet
trigger1 = time = 0
x = 0

;[State 1990,PosSet]
;type = PosSet
;trigger1 = Time = 0
;x = 0

[State 1990, 5]
type = varset
trigger1 = 1;time = 0 || time = 1
var(3) = 769

;[State 1990, 4]
;type = EnvShake
;Trigger1 = time = 0
;persistent = 0
;time = 14
;ampl = -3
;freq = 255
;phase = 10
;ignorehitpause = 1

;[State 1990, 5]
;type = Explod
;trigger1 = animelem = 1
;anim = 1992
;sprpriority = -1
;pos = 43,-95
;bindtime = -1
;supermove = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 1
;anim = 1995
;pos = 0,203
;postype = left
;id = 1995
;ignorehitpause = 1
;bindtime = -1
;supermove = 1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 2
;anim = 1996
;pos = -56,203
;postype = right
;id = 1995
;ignorehitpause = 1
;supermove = 1
;bindtime = -1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 1
;anim = 1997
;pos = 24,213
;postype = left
;id = 1997
;ignorehitpause = 1
;bindtime = -1
;supermove = 1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 2
;anim = 1998
;pos = -24,213
;postype = right
;id = 1997
;ignorehitpause = 1
;supermove = 1
;bindtime = -1
;ontop = 1
;ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 1
anim = 1995
pos = 0,227
postype = left
id = 1995
ignorehitpause = 1
bindtime = -1
supermove = 1
ontop = 1
ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 2
anim = 1996
pos = -56,227
postype = right
id = 1995
ignorehitpause = 1
supermove = 1
bindtime = -1
ontop = 1
ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 1
anim = 1997
pos = 24,237
postype = left
id = 1997
ignorehitpause = 1
bindtime = -1
supermove = 1
ontop = 1
ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 2
anim = 1998
pos = -24,237
postype = right
id = 1997
ignorehitpause = 1
supermove = 1
bindtime = -1
ontop = 1
ownpal = 1

[State 1990, mode]
type = Changestate
trigger1 = command = "holdfwd"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
trigger1 = command != "holdback"
value = 100
ctrl = 1

[State 215, 5]
type = ChangeState
trigger1 = var(55) = 1
trigger1 = var(41) = 1
value = 100
ctrl = 1

[State 1990, 4]
type = ChangeState
trigger1 = animtime = 0
trigger1 = command != "holdfwd"
value = 0
ctrl = 1

;--------------------------------------------------------------------
; 2k2 mode start
[Statedef 1991]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 1991
facep2 = 0
velset = 0,0

[State 1991,1]
type = HitBy
trigger1 = AnimElem = 1
value = SCA,NA,SA,HA,AP
time = 28

[State 3110, 5]
type = Explod
trigger1 = AnimElem = 1
anim = 3101
pos = 40,-96
postype = p1
supermove = 1
removetime = 2
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3110, 5]
type = Explod
trigger1 = AnimElem = 2
anim = 197
pos = 24,-116
postype = p1
supermove = 1
removetime = 3
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3110, 5]
type = Explod
trigger1 = AnimElem = 3
anim = 197
pos = 20,-120
postype = p1
supermove = 1
removetime = 9
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 1991]
type = Projectile
trigger1 = AnimElem = 4
projanim = 173
offset = 3,-60
velocity = 0,0
projremovetime = 21

[State 1991, 2]
type = PlaySnd
trigger1 = Time = 0
value = 210,1

[State 1991, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3500,1

[state 1991, 1]
type = varadd
trigger1 = time = 0
var(20) = 10

[State 1991, 5]
type = varset
trigger1 = 1;time = 0 || time = 1
var(3) = 769

[State 1531, 5]
type = varset
trigger1 = time = 0
var(2) = power - var(20)*100

[State 1991, 4]
type = EnvShake
trigger1 = animelem = 4
persistent = 0
time = 20
ampl = -3
freq = 255
phase = 10
ignorehitpause = 1

[State 1991]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1992
offset = 14,-64
velocity = 0,0
projremovetime = 10
supermove = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 1
;anim = 1995
;pos = 0,203
;postype = left
;id = 1995
;ignorehitpause = 1
;bindtime = -1
;supermove = 1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 2
;anim = 1996
;pos = -56,203
;postype = right
;id = 1995
;ignorehitpause = 1
;supermove = 1
;bindtime = -1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 1
;anim = 1997
;pos = 24,213
;postype = left
;id = 1997
;ignorehitpause = 1
;bindtime = -1
;supermove = 1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 2
;anim = 1998
;pos = -24,213
;postype = right
;id = 1997
;ignorehitpause = 1
;supermove = 1
;bindtime = -1
;ontop = 1
;ownpal = 1

[State 1991, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 1
anim = 1995
pos = 0,227
postype = left
id = 1995
ignorehitpause = 1
bindtime = -1
supermove = 1
ontop = 1
ownpal = 1

[State 1991, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 2
anim = 1996
pos = -56,227
postype = right
id = 1995
ignorehitpause = 1
supermove = 1
bindtime = -1
ontop = 1
ownpal = 1

[State 1991, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 1
anim = 1997
pos = 24,237
postype = left
id = 1997
ignorehitpause = 1
bindtime = -1
supermove = 1
ontop = 1
ownpal = 1

[State 1991, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 2
anim = 1998
pos = -24,237
postype = right
id = 1997
ignorehitpause = 1
supermove = 1
bindtime = -1
ontop = 1
ownpal = 1

[State 1991, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
; 2k2 mode start 캔슬 ai 를 위한것..
[Statedef 1993]
type    = S
movetype= I
physics = S
ctrl = 0
anim = 100
facep2 = 1
velset = 0
poweradd= -2000

[State 1850, 3]
type = VelSet
trigger1 = 1
x = 6.4

;[state 1990, 1]
;type = varadd
;trigger1 = time = 0
;var(20) = 10

[State 1990, 5]
type = varset
trigger1 = time = 0
var(2) = power - var(20)*200

[State 1990, 2]
type = PlaySnd
trigger1 = Time = 0
value = 1991,1

;[State 1421, 4]
;type = VelAdd
;trigger1 = Time > 0
;y = .46

;[State 1990,PosSet]
;type = PosSet
;trigger1 = Time = 0
;x = 0

[State 1990, 5]
type = varset
trigger1 = 1;time = 0 || time = 1
var(3) = 769

;[State 1990, 4]
;type = EnvShake
;Trigger1 = time = 0
;persistent = 0
;time = 14
;ampl = -3
;freq = 255
;phase = 10
;ignorehitpause = 1

;[State 1990, 5]
;type = Explod
;trigger1 = animelem = 1
;anim = 1992
;sprpriority = -1
;pos = 43,-95
;bindtime = -1
;supermove = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 1
;anim = 1995
;pos = 0,203
;postype = left
;id = 1995
;ignorehitpause = 1
;bindtime = -1
;supermove = 1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 2
;anim = 1996
;pos = -56,203
;postype = right
;id = 1995
;ignorehitpause = 1
;supermove = 1
;bindtime = -1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 1
;anim = 1997
;pos = 24,213
;postype = left
;id = 1997
;ignorehitpause = 1
;bindtime = -1
;supermove = 1
;ontop = 1
;ownpal = 1

;[State 1991, 5]
;type = explod
;trigger1 = animelem = 1 && var(53) = 0
;trigger1 = var(57) = 2
;anim = 1998
;pos = -24,213
;postype = right
;id = 1997
;ignorehitpause = 1
;supermove = 1
;bindtime = -1
;ontop = 1
;ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 1
anim = 1995
pos = 0,227
postype = left
id = 1995
ignorehitpause = 1
bindtime = -1
supermove = 1
ontop = 1
ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 2
anim = 1996
pos = -56,227
postype = right
id = 1995
ignorehitpause = 1
supermove = 1
bindtime = -1
ontop = 1
ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 1
anim = 1997
pos = 24,237
postype = left
id = 1997
ignorehitpause = 1
bindtime = -1
supermove = 1
ontop = 1
ownpal = 1

[State 1990, 5]
type = explod
trigger1 = animelem = 1; && var(53) = 1
trigger1 = var(57) = 2
anim = 1998
pos = -24,237
postype = right
id = 1997
ignorehitpause = 1
supermove = 1
bindtime = -1
ontop = 1
ownpal = 1

[State 215, 5]
type = ChangeState
triggerall = var(55) = 1
triggerall = var(41) = 1
trigger1 = time = 14
value = 215
ctrl = 0

[State 1990, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 백팔십이식 시작 02식
[Statedef 3000]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3000
ctrl = 0
facep2 = 1

[State 3000, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3000, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3000, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3000, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3000, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3000, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3000, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3000, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3000, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3000, 2]
type = PlaySnd
trigger1 = AnimElem = 9
value = 3000,4
channel = 4

[State 3000,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 35

[State 3000,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 35

[State 3000, 0]
type = Explod
trigger1 = AnimElem = 9
;persistent = 0
anim = 3001
id = 3000
pos = 0, 0
postype = p1
shadow = -1
sprpriority = 3
supermovetime = -1
pausemovetime = -1
removetime = -1
removeongethit = 1
bindtime = -1
ownpal = 1

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3000, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3000, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3000, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3000, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = -29,-68
supermove = 1
bindtime = -1
ownpal = 1

[State 3000, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = -29,-68
supermove = 1
bindtime = -1
ownpal = 1

[State 3000, 7]
type = ChangeState
triggerall = command != "hold_a" && command != "hold_b" && command != "hold_c"
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
trigger3 = AnimElem = 11
trigger4 = AnimElem = 12
trigger5 = AnimElem = 13
trigger6 = AnimElem = 14
trigger7 = AnimElem = 15
trigger8 = AnimElem = 16
trigger9 = AnimElem = 17
value = 3010

[State 3000, 7]
type = ChangeState
triggerall = command != "hold_a" && command != "hold_b" && command != "hold_c"
trigger1 = AnimElem = 18
trigger2 = AnimElem = 19
trigger3 = AnimElem = 20
trigger4 = AnimElem = 21
trigger5 = AnimElem = 22
trigger6 = AnimElem = 23
trigger7 = AnimElem = 24
trigger8 = AnimElem = 25
trigger9 = AnimElem = 26
trigger10 = AnimElem = 27
trigger11 = AnimElem = 28
trigger12 = AnimElem = 29
trigger13 = AnimElem = 30
trigger14 = AnimElem = 31
trigger15 = AnimElem = 32
trigger16 = AnimElem = 33
trigger17 = AnimElem = 34
trigger18 = AnimElem = 35
trigger19 = AnimElem = 36
trigger20 = AnimElem = 37
trigger21 = AnimElem = 38
trigger22 = AnimElem = 39
trigger23 = AnimElem = 40
trigger24 = AnimElem = 41
value = 3020

[State 3000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3031

;---------------------------------------------------------------------------
; 백팔십이식 발동 1
[Statedef 3010]
type    = S
movetype= A
physics = S
anim = 3010
poweradd= 0

[State 3010, movetype]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 3010, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3010, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3010,4

[State 3010, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1700,1

[State 3010,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 3010,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 3

[State 3010, 2]
type = PlaySnd
trigger1 = Time = 0
value = 3010,1

[State 3010, 0]
type = RemoveExplod
trigger1 = Time = 0
ID = 3000

[State 3010, 1]
type = Explod
trigger1 = Time = 0
anim = 3011
sprpriority = 3
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
velocity = 0,0
removetime = 37

[State 3010, 1]
type = PosAdd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
trigger3 = AnimElem = 11
trigger4 = AnimElem = 12
trigger5 = AnimElem = 13
trigger6 = AnimElem = 14
trigger7 = AnimElem = 18
trigger8 = AnimElem = 19
x = 8

[State 3010, 4]
type = Projectile
trigger1 = AnimElem = 10
projanim = 1150
offset = 97, -73
velocity = 0,0
projremovetime = 27

[State 3010, 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
animtype  = Up
air.animtype  = Up
damage    = 221,20
getpower = 0,0
guardflag = M
pausetime = var(45)+20,var(46)+20	;32,31;32,33
guard.pausetime = var(45)+20,var(47)+20		;32,31
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,-76
hitsound   = s3010,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 59
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(12)            
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 14
envshake.ampl = -8

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 1
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 39),var(28),ifelse(P2Dist x<= 8,8,39))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 1
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-58,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 1
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -45),var(26),ifelse(var(26)<= -92,-92-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 1
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -45),var(25),ifelse(var(25)<= -92,-92,-45))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 1
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 44 && P2Dist x< 91),var(28),ifelse(P2Dist x<= 44,44,91))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 1
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-66,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 1
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -61),var(26),ifelse(var(26)<= -92,-92-(pos y),-61-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 1
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -61),var(25),ifelse(var(25)<= -92,-92,-61))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 95),var(28),ifelse(P2Dist x<= 40,40,95))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-49,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -80 && var(26) < -49),var(26),ifelse(var(26)<= -80,-80-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -80 && var(25) < -49),var(25),ifelse(var(25)<= -80,-80,-49))
ignorehitpause = 1

[State 3010]
type = EnvColor
trigger1 = MoveHit > 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3010, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 백팔십이식 발동 2
[Statedef 3020]
type    = S
movetype= A
physics = S
anim = 3010
poweradd= 0

[State 3020, movetype]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 3020, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3020, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3020, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3020, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3020, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3020, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3020, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3010,4

[State 3020, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1700,1

[State 3020,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 3020,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 3

[State 3020, 2]
type = PlaySnd
trigger1 = Time = 0
value = 3010,1

[State 3020, 0]
type = RemoveExplod
trigger1 = Time = 0
ID = 3000

[State 3020, 1]
type = Explod
trigger1 = Time = 0
anim = 3011
sprpriority = 3
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
velocity = 0,0
removetime = 37

[State 3020, 1]
type = PosAdd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
trigger3 = AnimElem = 11
trigger4 = AnimElem = 12
trigger5 = AnimElem = 13
trigger6 = AnimElem = 14
trigger7 = AnimElem = 18
trigger8 = AnimElem = 19
x = 8

[State 3020, 4]
type = Projectile
trigger1 = AnimElem = 10
projanim = 1150
offset = 97, -73
velocity = 0,0
projremovetime = 27

[State 3020, 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
animtype  = Up
air.animtype  = Up
damage    = 247,20
getpower = 0,0
guardflag = M
pausetime = var(45)+20,var(46)+20	;32,31;32,33
guard.pausetime = var(45)+20,var(47)+20		;32,31
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,-76
hitsound   = s3010,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 51
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
;envshake.time = 14
;envshake.ampl = -8
p2stateno = 3271

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 1
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 39),var(28),ifelse(P2Dist x<= 8,8,39))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 1
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-58,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 1
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -45),var(26),ifelse(var(26)<= -92,-92-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 1
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -45),var(25),ifelse(var(25)<= -92,-92,-45))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 1
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 44 && P2Dist x< 91),var(28),ifelse(P2Dist x<= 44,44,91))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 1
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-66,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 1
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -61),var(26),ifelse(var(26)<= -92,-92-(pos y),-61-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 1
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -61),var(25),ifelse(var(25)<= -92,-92,-61))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 95),var(28),ifelse(P2Dist x<= 40,40,95))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-49,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -80 && var(26) < -49),var(26),ifelse(var(26)<= -80,-80-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -80 && var(25) < -49),var(25),ifelse(var(25)<= -80,-80,-49))
ignorehitpause = 1

[State 3020]
type = EnvColor
trigger1 = MoveHit > 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3020, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 백팔십이식 발동 3
[Statedef 3031]
type    = S
movetype= A
physics = S
anim = 3010
poweradd= 0

[State 3030, movetype]
type = StateTypeSet
trigger1 = AnimElem = 12
movetype = I

[State 3030, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3030, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3030, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3030, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3030, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3030, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3030, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 3010,4

[State 3030, 1]
type = PlaySnd
trigger1 = AnimElem = 7
value = 1700,1

[State 3030,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 3

[State 3030,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 3

[State 3030, 2]
type = PlaySnd
trigger1 = Time = 0
value = 3010,1

[State 3030, 0]
type = RemoveExplod
trigger1 = Time = 0
ID = 3000

[State 3030, 1]
type = Explod
trigger1 = Time = 0
anim = 3011
sprpriority = 3
postype = p1
pos = 0,0
bindtime = 1
supermove = 1
velocity = 0,0
removetime = 37

[State 3030, 1]
type = PosAdd
trigger1 = AnimElem = 9
trigger2 = AnimElem = 10
trigger3 = AnimElem = 11
trigger4 = AnimElem = 12
trigger5 = AnimElem = 13
trigger6 = AnimElem = 14
trigger7 = AnimElem = 18
trigger8 = AnimElem = 19
x = 8

[State 3030, 4]
type = Projectile
trigger1 = AnimElem = 10
projanim = 1150
offset = 97, -73
velocity = 0,0
projremovetime = 27

[State 3030, 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
animtype = diagup
air.animtype = diagup
damage    = 340,20
getpower = 0,0
pausetime = var(45)+20,var(46)+20	;32,31;32,33
guard.pausetime = var(45)+20,var(47)+20		;32,31
sparkno = s6002999
guard.sparkno = s6007999
sparkxy = 0,-76
hitsound   = s3010,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(26),fvar(27)
air.velocity = fvar(26),fvar(27)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 69
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(28)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 14
envshake.ampl = -8
fall.envshake.time = 14
fall.envshake.ampl = -8

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 1
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 39),var(28),ifelse(P2Dist x<= 8,8,39))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 1
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-58,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 1
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -45),var(26),ifelse(var(26)<= -92,-92-(pos y),-45-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 8, >= 0 && AnimElem = 8, <= 1
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -45),var(25),ifelse(var(25)<= -92,-92,-45))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 1
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 44 && P2Dist x< 91),var(28),ifelse(P2Dist x<= 44,44,91))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 1
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-66,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 1
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -61),var(26),ifelse(var(26)<= -92,-92-(pos y),-61-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 10, <= 1
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -61),var(25),ifelse(var(25)<= -92,-92,-61))
ignorehitpause = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6002,6007)
pos = Ceil(ifelse((P2Dist x> 40 && P2Dist x< 95),var(28),ifelse(P2Dist x<= 40,40,95))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-49,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -80 && var(26) < -49),var(26),ifelse(var(26)<= -80,-80-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 11, >= 0 && AnimElem = 11, <= 2
trigger1 = 1
fvar(38) = ifelse((var(25) > -80 && var(25) < -49),var(25),ifelse(var(25)<= -80,-80,-49))
ignorehitpause = 1

[State 3030]
type = EnvColor
trigger1 = MoveHit > 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3030, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 레벨2마는모습
; HITA_SHAKE
[Statedef 3271]
type    = A
movetype= H
physics = N
velset = 0,0

[State 3271, 0]
type = turn
triggerall = time = 0
trigger1 = P2dist X < 0

; fix run sound bug
[State 3271, stop run sound]
type = StopSnd
trigger1 = 1
;trigger1 = PrevStateNo = 100 || PrevStateNo = 10044
channel = 4

[State 3271, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(airtype) = 1),5000,5010) + GetHitVar(animtype)

[State 3271, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 3271, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 3271, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 3271, 5]
type = ChangeState
trigger1 = HitShakeOver
value = 3272

[State 3271, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 3271, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 3271, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
trigger4 = anim = [5051,5059]
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; HITA_UP (initial going up)
[Statedef 3272]
type    = A
movetype= H
physics = N
ctrl = 0

[State 3272, 1]
type = VelAdd;Gravity
trigger1 = 1
y = GetHitVar(yaccel)

[State 3272, 2]
type = VelSet
trigger1 = Time = 0
x = -8
y = -6.2

[State 3272, 4]
type = ChangeState
trigger1 = HitOver
trigger2 = Vel Y > 0    ;Hit ground
trigger2 = Pos Y >= 0  ;.
value = 3274 ;HITA_FALL

[State 3272, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3273 ;HITA_UP (transition)

;---------------------------------------------------------------------------
; HITA_UP_T (transition)
[Statedef 3273]
type    = A
movetype= H
physics = N

[State 3273, 1]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5035)
trigger1 = Anim != [5051,5059] ;Not if in hit up anim
trigger1 = Anim != 5090 ;Not if hit off ground anim
value = 5035

[State 3273, 2]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 3273, 4]
type = ChangeState
trigger1 = HitOver  ;Hit is over
trigger2 = AnimTime = 0 ;Anim is over
trigger3 = Vel Y > 0    ;Hit ground
trigger3 = Pos Y >= 0  ;.
trigger4 = Time = 0     ;No transition anim
trigger4 = Anim != 5035 ;.
value = 3274 ;HITA_FALL
;------------------------------------------------------------------------------------------------------------------------------
; HITA_FALL (knocked up, falling)
[Statedef 3274]
type    = A
movetype= H
physics = N

[State 812, ANIM1]
type = changeanim
triggerall = selfanimexist(1126222)
Triggerall = time = 0
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5061

[State 812, ANIM2]
type = changeanim
triggerall = !selfanimexist(1126222)
Triggerall = Time = 0
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 3274, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 3274, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 3274, 6]
type = ChangeState
trigger1 = Pos Y >= -4 && Vel Y > 0
value = 3275 ;HIT_BOUNCE

;---------------------------------------------------------------------------
[Statedef 3275]
type    = S
movetype= H
physics = N

[State 3275, EnvShake]
type = velset
trigger1 = time = 0
;trigger1 =  vel x > 0
x = -2.4
y = 0

[State 3275, EnvShake]
type = velset
trigger1 = time = 0
trigger1 =  vel x < 0
x = -2.4
y = 0

[State 3275, EnvShake]
type = nothitby
trigger1 = Time >= 0
value = SCA
time = 1

[State 3275, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 3275, Var]
type = VarSet
trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
sysvar(1) = floor(vel y)

[State 1125, 2]
type = ChangeAnim
trigger1 = time = 0 && SelfAnimexist(11252)
value = 11252

[State 1125, 2]
type = ChangeAnim2
trigger1 = time = 0 && !SelfAnimexist(11252)
value = 11252

[State 812, ANIM1]
type = changeanim
Trigger1 = time = 0 && SelfAnimexist(5061)
value = 5161

[State 812, ANIM1]
type = changeanim
Trigger1 = time = 0 && authorname = "zzzasd"
value = 11262

[State 3275, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3275, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 3275, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 61
pos = 0, 0
under = sysvar(1) <= 10

[State 3275, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 3275, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, 0 ;Hit ground
;value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)
;channel = 3

[State 3275, 12]
type = ChangeState
trigger1 = Time = 20
value = 3276

[State 3275, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
[Statedef 3276]
type    = L
movetype= H
physics = N
ctrl = 0

[State 3276, EnvShake]
type = screenbound
trigger1 = Time >= 0
value = 1
movecamera = 1,0

[State 3276, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

9[State 3276, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 3276, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 812, ANIM2]
type = changeanim
Trigger1 = Time = 0
value = 5110

[State 812, ANIM1]
type = changeanim
Trigger1 = time = 0 && SelfAnimexist(5061);authorname = "zzzasd"
value = 5111

[State 3276, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 3276, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 3276, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 3276, 11] ;If just died
type = selfState
triggerall = alive
trigger1 = time = 50
value = 5120

[State 3276, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 3276, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 3276, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 3276, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

;---------------------------------------------------------------------------
; 리백팔식 대사치 약(쿠사나기버젼)
[Statedef 3100]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3100
ctrl = 0
facep2 = 1

[State 3100, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3100, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3100, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3100, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3100, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3100, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3100, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3100, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3100,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 30

[State 3100,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 30

[State 3100, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100,1
channel = 4

[State 3100, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3100]
type = Explod
trigger1 = AnimElem = 2
anim = 3101
sprpriority = -2
postype = p1
pos = 40,-96
bindtime = 1
supermove = 1
ontop = 1
ownpal = 1

[State 3100, 0]
type = Explod
trigger1 = AnimElem = 3
;persistent = 0
anim = 3102
id = 3000
pos = 24, -112
postype = p1
shadow = -1
sprpriority = 3
supermovetime = -1
pausemovetime = -1
removetime = -1
removeongethit = 1
bindtime = -1
ownpal = 1

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3001, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3001, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3001, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3100, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = 24,-112
supermove = 1
bindtime = -1
ownpal = 1

[State 3100, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = 24,-112
supermove = 1
bindtime = -1
ownpal = 1

[State 3100, 7]
type = ChangeState
trigger1 = command != "hold_x" && time > 29
trigger1 = command != "hold_y" && time > 29
trigger1 = command != "hold_c" && time > 29
value = 3110

[State 3100, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3110

;---------------------------------------------------------------------------
; 리백팔식 대사치 약(02쿄버젼)
[Statedef 3105]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3100
ctrl = 0
facep2 = 1

[State 3105, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3000, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3000, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3000, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3000, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3000, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3000, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3000, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3105,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 30

[State 3105,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 30

[State 3105, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100,1
channel = 4

[State 3105, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3105]
type = Explod
trigger1 = AnimElem = 2
anim = 3101
sprpriority = -2
postype = p1
pos = 40,-96
bindtime = 1
supermove = 1
ontop = 1
ownpal = 1

[State 3105, 0]
type = Explod
trigger1 = AnimElem = 3
;persistent = 0
anim = 3102
id = 3000
pos = 24, -112
postype = p1
shadow = -1
sprpriority = 3
supermovetime = -1
pausemovetime = -1
removetime = -1
removeongethit = 1
bindtime = -1
ownpal = 1

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3105, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3105, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3105, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3105, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = 24,-112
supermove = 1
bindtime = -1
ownpal = 1

[State 3105, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = 24,-112
supermove = 1
bindtime = -1
ownpal = 1

[State 3105, 7]
type = ChangeState
trigger1 = command != "hold_x" && time = 30
trigger1 = command != "hold_y" && time = 30
trigger1 = command != "hold_c" && time = 30
value = 3110

[State 3105, 7]
type = ChangeState
trigger1 = command != "hold_x" && time >= 31
trigger1 = command != "hold_y" && time >= 31
trigger1 = command != "hold_c" && time >= 31
value = 3120

[State 3105, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3120

;---------------------------------------------------------------------------
; 리백팔식 대사치 강(쿠사나기버젼)
[Statedef 3130]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3130
ctrl = 0
facep2 = 1

[State 3130, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3000, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3000, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3000, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3000, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3000, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3000, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3000, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3130,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 30

[State 3130,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 30

[State 3130, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100,1
channel = 4

[State 3130, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3130]
type = Explod
trigger1 = AnimElem = 2
anim = 3101
sprpriority = -2
postype = p1
pos = 40,-96
bindtime = 1
supermove = 1
ontop = 1
ownpal = 1

[State 3130, 0]
type = Explod
trigger1 = AnimElem = 3
;persistent = 0
anim = 3102
id = 3000
pos = 24, -112
postype = p1
shadow = -1
sprpriority = 3
supermovetime = -1
pausemovetime = -1
removetime = -1
removeongethit = 1
bindtime = -1
ownpal = 1

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3130, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3130, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3130, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3130, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = 24,-112
supermove = 1
bindtime = -1
ownpal = 1

[State 3130, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = 24,-112
supermove = 1
bindtime = -1
ownpal = 1

[State 3130, 7]
type = ChangeState
trigger1 = command != "hold_x" && time > 29
trigger1 = command != "hold_y" && time > 29
trigger1 = command != "hold_c" && time > 29
value = 3110

[State 210, 5]
type = ChangeState
trigger1 = var(55) = 1
trigger1 = time = 30
value = 3110

[State 3130, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3110

;---------------------------------------------------------------------------
; 리백팔식 대사치 강(02쿄버젼)
[Statedef 3135]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3130
ctrl = 0
facep2 = 1

[State 3135, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3000, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3000, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3000, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3000, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3000, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3000, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3000, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3135,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 30

[State 3135,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 30

[State 3135, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100,1
channel = 4

[State 3135, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3135]
type = Explod
trigger1 = AnimElem = 2
anim = 3101
sprpriority = -2
postype = p1
pos = 40,-96
bindtime = 1
supermove = 1
ontop = 1
ownpal = 1

[State 3135, 0]
type = Explod
trigger1 = AnimElem = 3
;persistent = 0
anim = 3102
id = 3000
pos = 24, -112
postype = p1
shadow = -1
sprpriority = 3
supermovetime = -1
pausemovetime = -1
removetime = -1
removeongethit = 1
bindtime = -1
ownpal = 1

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3135, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3135, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3135, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3135, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = 24,-112
supermove = 1
bindtime = -1
ownpal = 1

[State 3135, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = 24,-112
supermove = 1
bindtime = -1
ownpal = 1

[State 3135, 7]
type = ChangeState
trigger1 = command != "hold_x" && time = 30
trigger1 = command != "hold_y" && time = 30
trigger1 = command != "hold_c" && time = 30
value = 3110

[State 3135, 7]
type = ChangeState
trigger1 = command != "hold_x" && time >= 31
trigger1 = command != "hold_y" && time >= 31
trigger1 = command != "hold_c" && time >= 31
value = 3120

[State 3135, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3120

;---------------------------------------------------------------------------
; 대사치 발동
[Statedef 3110]
type    = S
movetype= A
physics = S
poweradd = 0
anim = 3110

[State 3110, movetype]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 3110, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3110,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 6

[State 3110,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 6

[State 3110, 0]
type = RemoveExplod
trigger1 = Time = 0
ID = 3000

[State 3110, Bright]
type = PalFX
trigger1 = AnimElem = 5
time = 21
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3110, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3110,1

[State 3110, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3110,4

[State 3110, 5]
type = Explod
trigger1 = AnimElem = 1
anim = 197
pos = 6,-60
postype = p1
supermove = 1
removetime = 2
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3110, 5]
type = Explod
trigger1 = AnimElem = 2
anim = 197
pos = 9,-63
postype = p1
supermove = 1
removetime = 4
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3110, 5]
type = Explod
trigger1 = AnimElem = 3
anim = 197
pos = -28,-106
postype = p1
supermove = 1
removetime = 3
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3110, 5]
type = Explod
trigger1 = AnimElem = 4
anim = 197
pos = -25,-110
postype = p1
supermove = 1
removetime = 4
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3110, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 197
pos = -24,-98
postype = p1
supermove = 1
removetime = 4
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3110, 5]
type = Explod
trigger1 = AnimElem = 6
anim = 197
pos = 38,-54
postype = p1
supermove = 1
removetime = 3
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3110, 8]
type = Explod
trigger1 = AnimElem = 8
anim = 197
pos = -30,-106
postype = p1
supermove = 1
removetime = 3
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3110, 8]
type = Explod
trigger1 = AnimElem = 9
anim = 197
pos = -26,-110
postype = p1
supermove = 1
removetime = 21
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3110, 8]
type = Projectile
trigger1 = AnimElem = 10,=9
projanim = 198
offset = -26,-122
velocity = 0,0
projremovetime = 13
sprpriority = 3

[State 3110, 8]
type = Explod
trigger1 = AnimElem = 5
anim = 3150
pos = 0,0
postype = p1
supermove = 1
removetime = 14
sprpriority = 5
bindtime = -1
ownpal = 1

[State 3110, 8]
type = Projectile
trigger1 = AnimElem = 9,=4
projanim = 3151
offset = 0,0
velocity = 0,0
projremovetime = 16
sprpriority = 5

[State 3110, 8]
type = Explod
trigger1 = AnimElem = 6,=1
anim = 3160
pos = 0,0
postype = p1
supermove = 1
removetime = 17
sprpriority = 4
bindtime = -1
ownpal = 1

[State 3110, 8]
type = Projectile
trigger1 = AnimElem = 10
projanim = 3161
offset = 0,0
velocity = 0,0
projremovetime = 27
sprpriority = 4

[State 3110, 5]
type = Projectile
trigger1 = AnimElem = 7
projanim = 3170
offset = 0, 0
velocity = 3,0
projremovetime = 17

[State 3110, 10]
type = PosAdd
trigger1 = AnimElem = 3
x = -11

;[State 3110, 10]
;type = Velset
;trigger1 = AnimElem = 5
;x = 12.9

;[State 3110, 10]
;type = Velset
;trigger1 = AnimElem = 5,=2
;x = 8.7

;[State 3110, 10]
;type = Velset
;trigger1 = AnimElem = 6
;x = 5.4

;[State 3110, 10]
;type = Velset
;trigger1 = AnimElem = 8
;x = 3.8

;[State 3110, 10]
;type = Velset
;trigger1 = AnimElem = 9
;x = 2.4

;[State 3110, 10]
;type = Velset
;trigger1 = AnimElem = 9,=5
;x = 0

[State 3110, 10]
type = PosAdd
trigger1 = time = 13
x = 12

[State 3110, 10]
type = PosAdd
trigger1 = time = 14
x = 11

[State 3110, 10]
type = PosAdd
trigger1 = time = 15
x = 10

[State 3110, 10]
type = PosAdd
trigger1 = time = 16
x = 8

[State 3110, 10]
type = PosAdd
trigger1 = time = 17
x = 7

[State 3110, 10]
type = PosAdd
trigger1 = time = 18
x = 5

[State 3110, 10]
type = PosAdd
trigger1 = time = 19
x = 6

[State 3110, 10]
type = PosAdd
trigger1 = time = [20,21]
x = 4

[State 3110, 10]
type = PosAdd
trigger1 = time = [22,23]
x = 3

[State 3110, 10]
type = PosAdd
trigger1 = time = [24,26]
x = 2

[State 3110, 10]
type = PosAdd
trigger1 = time = 27
x = 1

[State 3110, 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HP
animtype  = Up
air.animtype  = Up
damage    = 309,20
guardflag = M
getpower = 0,0
pausetime = 0,var(46)
guard.pausetime = 0,var(47)
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0,-90
hitsound   = s3110,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6003,6007)
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 99),var(28),ifelse(P2Dist x<= 12,12,99))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -29),var(26),ifelse(var(26)<= -92,-92-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -29),var(25),ifelse(var(25)<= -92,-92,-29))
ignorehitpause = 1

[State 3110, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

;[State 3110]
;type = Pause
;triggerall = movehit > 0
;triggerall = timemod = 2,0
;;triggerall = p2Movetype = H
;trigger1 = time = 33
;trigger2 = time = 34
;trigger3 = time = 35
;trigger4 = time = 36
;trigger5 = time = 37
;trigger6 = time = 38
;trigger7 = time = 39
;trigger8 = time = 40
;trigger9 = time = 41
;trigger10 = time = 42
;trigger11 = time = 43
;trigger12 = time = 44
;trigger13 = time = 45
;time = 1
;movetime = 0
;ignorepausetime = 1

[State 3110]
type = EnvColor
trigger1 = MoveHit > 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3110, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 대사치 빠른발동
[Statedef 3120]
type    = S
movetype= A
physics = S
poweradd = 0
anim = 3120

[State 3120, movetype]
type = StateTypeSet
trigger1 = AnimElem = 10
movetype = I

[State 3120, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3120, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3120, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3120, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3120, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3120, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3120,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 4

[State 3120,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 4

[State 3120, 0]
type = RemoveExplod
trigger1 = Time = 0
ID = 3000

[State 3120, Bright]
type = PalFX
trigger1 = AnimElem = 5
time = 18
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3120, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3110,1

[State 3120, 2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3110,4

[State 3120, 5]
type = Explod
trigger1 = AnimElem = 1
anim = 197
pos = 6,-60
postype = p1
supermove = 1
removetime = 1
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3120, 5]
type = Explod
trigger1 = AnimElem = 2
anim = 197
pos = 9,-63
postype = p1
supermove = 1
removetime = 3
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3120, 5]
type = Explod
trigger1 = AnimElem = 3
anim = 197
pos = -28,-106
postype = p1
supermove = 1
removetime = 2
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3120, 5]
type = Explod
trigger1 = AnimElem = 4
anim = 197
pos = -25,-110
postype = p1
supermove = 1
removetime = 3
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3120, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 197
pos = -24,-98
postype = p1
supermove = 1
removetime = 1
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3120, 5]
type = Explod
trigger1 = AnimElem = 6
anim = 197
pos = 38,-54
postype = p1
supermove = 1
removetime = 2
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3120, 8]
type = Explod
trigger1 = AnimElem = 8
anim = 197
pos = -30,-106
postype = p1
supermove = 1
removetime = 3
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3120, 8]
type = Explod
trigger1 = AnimElem = 9
anim = 197
pos = -26,-110
postype = p1
supermove = 1
removetime = 23
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3120, 8]
type = Projectile
trigger1 = AnimElem = 10,=10
projanim = 198
offset = -26,-122
velocity = 0,0
projremovetime = 13
sprpriority = 3

[State 3120, 8]
type = Explod
trigger1 = AnimElem = 5
anim = 3150
pos = 0,0
postype = p1
supermove = 1
removetime = 10
sprpriority = 5
bindtime = -1
ownpal = 1

[State 3120, 8]
type = Projectile
trigger1 = AnimElem = 9,=4
projanim = 3151
offset = 0,0
velocity = 0,0
projremovetime = 16
sprpriority = 5

[State 3120, 8]
type = Explod
trigger1 = AnimElem = 7
anim = 3160
pos = 0,0
postype = p1
supermove = 1
removetime = 17
sprpriority = 4
bindtime = -1
ownpal = 1

[State 3120, 8]
type = Projectile
trigger1 = AnimElem = 10
projanim = 3161
offset = 0,0
velocity = 0,0
projremovetime = 27
sprpriority = 4

[State 3120, 5]
type = Projectile
trigger1 = AnimElem = 7
projanim = 3170
offset = 0, 0
velocity = 3,0
projremovetime = 17

[State 3120, 10]
type = PosAdd
trigger1 = AnimElem = 3
x = -11

;[State 3120, 10]
;type = Velset
;trigger1 = AnimElem = 5
;x = 13.6

;[State 3120, 10]
;type = Velset
;trigger1 = AnimElem = 6
;x = 10.6

;[State 3120, 10]
;type = Velset
;trigger1 = AnimElem = 7
;x = 9.6

;[State 3120, 10]
;type = Velset
;trigger1 = AnimElem = 8
;x = 6.9

;[State 3120, 10]
;type = Velset
;trigger1 = AnimElem = 9
;x = 4.1

;[State 3120, 10]
;type = Velset
;trigger1 = AnimElem = 9,=5
;x = 0

[State 3120, 10]
type = PosAdd
trigger1 = time = 9
x = 12

[State 3120, 10]
type = PosAdd
trigger1 = time = 10
x = 11

[State 3120, 10]
type = PosAdd
trigger1 = time = 11
x = 9

[State 3120, 10]
type = PosAdd
trigger1 = time = 12
x = 8

[State 3120, 10]
type = PosAdd
trigger1 = time = 13
x = 7

[State 3120, 10]
type = PosAdd
trigger1 = time = 14
x = 6

[State 3120, 10]
type = PosAdd
trigger1 = time = [15,16]
x = 5

[State 3120, 10]
type = PosAdd
trigger1 = time = 17
x = 3

[State 3120, 10]
type = PosAdd
trigger1 = time = 18
x = 4

[State 3120, 10]
type = PosAdd
trigger1 = time = 19
x = 2

[State 3120, 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HP
animtype  = Up
air.animtype  = Up
damage    = 309,20
guardflag = M
getpower = 0,0
pausetime = 0,var(46)
guard.pausetime = 0,var(47)
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0,-90
hitsound   = s3110,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6003,6007)
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 99),var(28),ifelse(P2Dist x<= 12,12,99))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -29),var(26),ifelse(var(26)<= -92,-92-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -29),var(25),ifelse(var(25)<= -92,-92,-29))
ignorehitpause = 1

[State 3120, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

;[State 3120]
;type = Pause
;triggerall = movehit > 0
;triggerall = timemod = 2,0
;;triggerall = p2Movetype = H
;trigger1 = time = 33
;trigger2 = time = 34
;trigger3 = time = 35
;trigger4 = time = 36
;trigger5 = time = 37
;trigger6 = time = 38
;trigger7 = time = 39
;trigger8 = time = 40
;trigger9 = time = 41
;trigger10 = time = 42
;trigger11 = time = 43
;trigger12 = time = 44
;trigger13 = time = 45
;time = 1
;movetime = 0
;ignorepausetime = 1

[State 3120]
type = EnvColor
trigger1 = MoveHit > 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3120, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 리백팔식 대사치 MAX
[Statedef 3200]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3200
ctrl = 0
facep2 = 1
juggle   = 5

[State 3200, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

;[State 3200, Bright]
;type = PalFX
;;triggerall = prevstateno != [1000,1950]
;trigger1 = time = 10
;time = 110
;add = 224,88,0
;sinadd = 48,50,32, 16
;ignorehitpause = 1

[State 3200, Bright]
type = PalFX
;triggerall = prevstateno = [1000,1950]
trigger1 = time = 15;14
time = 106
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[state 3200, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3200, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3200, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 10
[state 3200, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 20
[state 3200, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(3) = 0

[State 3200, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3200, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3200, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3200, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3200, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3200, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3200,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 30

[State 3200,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 30

[State 3200, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100,1
channel = 4

[State 3200, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,3

[State 3200, 0]
type = Explod
trigger1 = AnimElem = 4
;persistent = 0
anim = 3240
id = 3000
pos = 0, 0
postype = p1
shadow = -1
sprpriority = 2
supermovetime = -1
pausemovetime = -1
removetime = -1
removeongethit = 1
bindtime = -1
ownpal = 1

[State 3200]
type = Explod
trigger1 = AnimElem = 2
anim = 3101
sprpriority = -2
postype = p1
pos = 40,-96
bindtime = 1
supermove = 1
ontop = 1
ownpal = 1

[State 3200, 0]
type = Explod
trigger1 = AnimElem = 3
;persistent = 0
anim = 3102
id = 3000
pos = 24, -112
postype = p1
shadow = -1
sprpriority = 3
supermovetime = -1
pausemovetime = -1
removetime = -1
removeongethit = 1
bindtime = -1
ownpal = 1

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3200, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3200, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3200, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3200, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3501
sprpriority = -1
pos = 24,-112
supermove = 1
bindtime = -1
ownpal = 1

[State 3200, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3551
sprpriority = 7
pos = 24,-112
supermove = 1
bindtime = -1
ownpal = 1

[State 3210, 5]
type = Projectile
trigger1 = AnimElem = 10 || 11 || 12 || 13 || 14 || 15 || 16 || 17 || 18 || 19
trigger2 = AnimElem = 20 || 21 || 22 || 23 || 24 || 25 || 26 || 27 || 28 || 29
trigger3 = AnimElem = 30 || 31 || 32 || 33 || 34 || 35 || 36 || 37 || 38 || 39 || 40
projanim = 3271
offset = 0, 0
velocity = 0,0
projremovetime = 3

[State 3210, 1]
type = HitDef
triggerall = var(18) = 0
triggerall = var(13) = 0 || var(37) = 1
triggerall = HitCount < 3
trigger1 = AnimElem = 10
trigger2 = AnimElem = 12
trigger3 = AnimElem = 14
trigger4 = AnimElem = 16
trigger5 = AnimElem = 18
trigger6 = AnimElem = 20
trigger7 = AnimElem = 22
trigger8 = AnimElem = 24
trigger9 = AnimElem = 26
trigger10 = AnimElem = 28
trigger11 = AnimElem = 30
trigger12 = AnimElem = 32
trigger13 = AnimElem = 34
trigger14 = AnimElem = 36
trigger15 = AnimElem = 38
trigger16 = AnimElem = 40
attr = S, HP
animtype  = Up
air.animtype  = Up
damage    = 81/(hitcount+1),20/(hitcount+1)
guardflag = M
getpower = 0,0
pausetime = var(45)-9,var(46)-9		;3,2;3,4
guard.pausetime = var(45)-9,var(47)-9	;3,2
sparkno = s6003
guard.sparkno = s6007
sparkxy = 0,Ceil(fvar(38))
hitsound   = s3110,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -96 && var(26) < -1),var(26),ifelse(var(26)<= -96,-96-(pos y),-1-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -96 && var(25) < -1),var(25),ifelse(var(25)<= -96,-96,-1))
ignorehitpause = 1

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [31,32]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [36,38]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [42,44]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [48,50]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [54,56]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [60,62]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [66,68]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [72,74]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [78,80]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [84,86]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [90,92]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [96,98]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [102,104]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [108,110]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit = 1 && time = [114,116]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

type = EnvColor
trigger1 = MoveHit = 1 && time = [120,120]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3200, 7]
type = ChangeState
triggerall = command != "hold_x" && command != "hold_y"  && command != "hold_c"
trigger1 = AnimElem = 10
trigger2 = Time > 30
value = 3210

[State 3200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3210

;---------------------------------------------------------------------------
; 대사치 발동
[Statedef 3210]
type    = S
movetype= A
physics = S
poweradd = 0
anim = 3210

[State 3210, movetype]
type = StateTypeSet
trigger1 = AnimElem = 14
movetype = I

[State 3210, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3210, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3210, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3210, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3210, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3210, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3210,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 7

[State 3210,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 7

[State 3210, 0]
type = RemoveExplod
trigger1 = Time = 0
ID = 3000

[State 3210, Bright]
type = PalFX
trigger1 = Time = 0
time = 34
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3210, 2]
type = PlaySnd
trigger1 = AnimElem = 7
value = 3110,1

[State 3210, 2]
type = PlaySnd
trigger1 = AnimElem = 8,=2
trigger2 = AnimElem = 10,=2
trigger3 = AnimElem = 12,=2
value = 3110,4

[State 3210, 5]
type = Explod
trigger1 = AnimElem = 1
anim = 197
pos = 6,-60
postype = p1
supermove = 1
removetime = 2
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3210, 5]
type = Explod
trigger1 = AnimElem = 2
anim = 197
pos = 9,-63
postype = p1
supermove = 1
removetime = 5
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3210, 5]
type = Explod
trigger1 = AnimElem = 3
anim = 197
pos = -28,-106
postype = p1
supermove = 1
removetime = 3
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3210, 5]
type = Explod
trigger1 = AnimElem = 4
anim = 197
pos = -25,-110
postype = p1
supermove = 1
removetime = 4
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3210, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 197
pos = -24,-98
postype = p1
supermove = 1
removetime = 2
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3210, 5]
type = Explod
trigger1 = AnimElem = 6
anim = 197
pos = 38,-54
postype = p1
supermove = 1
removetime = 3
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3210, 8]
type = Explod
trigger1 = AnimElem = 8
anim = 197
pos = -30,-106
postype = p1
supermove = 1
removetime = 3
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3210, 8]
type = Explod
trigger1 = AnimElem = 9
anim = 197
pos = -26,-110
postype = p1
supermove = 1
removetime = 21
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3210, 8]
type = Projectile
trigger1 = AnimElem = 13,=1
projanim = 198
offset = -26,-122
velocity = 0,0
projremovetime = 13
sprpriority = 3

[State 3210, 8]
type = Explod
trigger1 = AnimElem = 5
anim = 3150
pos = 0,0
postype = p1
supermove = 1
removetime = 12
sprpriority = 5
bindtime = -1
ownpal = 1

[State 3210, 8]
type = Projectile
trigger1 = AnimElem = 9,=4
projanim = 3151
offset = 0,0
velocity = 0,0
projremovetime = 16
sprpriority = 5

[State 3210, 8]
type = Explod
trigger1 = AnimElem = 7
anim = 3160
pos = 0,0
postype = p1
supermove = 1
removetime = 17
sprpriority = 4
bindtime = -1
ownpal = 1

[State 3210, 8]
type = Explod
trigger1 = AnimElem = 10
anim = 3160
pos = 16,0
postype = p1
supermove = 1
removetime = 17
sprpriority = 4
bindtime = -1
ownpal = 1

[State 3210, 8]
type = Explod
trigger1 = AnimElem = 12
anim = 3160
pos = 32,0
postype = p1
supermove = 1
removetime = 17
sprpriority = 4
bindtime = -1
ownpal = 1

[State 3210, 8]
type = Projectile
trigger1 = AnimElem = 7,=17
projanim = 3161
offset = 0,0
velocity = 0,0
projremovetime = 27
sprpriority = 4

[State 3210, 8]
type = Projectile
trigger1 = AnimElem = 10,=17
projanim = 3161
offset = 16,0
velocity = 0,0
projremovetime = 27
sprpriority = 4

[State 3210, 8]
type = Projectile
trigger1 = AnimElem = 12,=17
projanim = 3161
offset = 32,0
velocity = 0,0
projremovetime = 27
sprpriority = 4

[State 3210, 5]
type = Projectile
trigger1 = AnimElem = 7
projanim = 3170
offset = 0, 0
velocity = 3,0
projremovetime = 14

[State 3210, 5]
type = Projectile
trigger1 = AnimElem = 10
projanim = 3170
offset = 16, 0
velocity = 0,0
projremovetime = 14

[State 3210, 5]
type = Projectile
trigger1 = AnimElem = 12
projanim = 3170
offset = 32, 0
velocity = 0,0
projremovetime = 17

[State 3210, 10]
type = PosAdd
trigger1 = AnimElem = 3
x = -11

;[State 3210, 10]
;type = Velset
;trigger1 = AnimElem = 5
;x = 11.7

;;[State 3210, 10]
;type = Velset
;trigger1 = AnimElem = 6
;x = 9.2

;[State 3210, 10]
;type = Velset
;trigger1 = AnimElem = 7
;x = 7.7

;[State 3210, 10]
;type = Velset
;trigger1 = AnimElem = 8
;x = 5.53

;[State 3210, 10]
;type = Velset
;trigger1 = AnimElem = 9
;x = 3

;[State 3210, 10]
;type = Velset
;trigger1 = AnimElem = 9,=5
;x = 0

[State 3210, 10]
type = PosAdd
trigger1 = time = 14
x = 12

[State 3210, 10]
type = PosAdd
trigger1 = time = 15
x = 11

[State 3210, 10]
type = PosAdd
trigger1 = time = 16
x = 9

[State 3210, 10]
type = PosAdd
trigger1 = time = 17
x = 8

[State 3210, 10]
type = PosAdd
trigger1 = time = 18
x = 7

[State 3210, 10]
type = PosAdd
trigger1 = time = 19
x = 6

[State 3210, 10]
type = PosAdd
trigger1 = time = [20,21]
x = 5

[State 3210, 10]
type = PosAdd
trigger1 = time = 22
trigger2 = time = 25
x = 3

[State 3210, 10]
type = PosAdd
trigger1 = time = 23
x = 4

[State 3210, 10]
type = PosAdd
trigger1 = time = 24
trigger2 = time = 26
x = 2

[State 3360, 0]
type = VarSet
trigger1 = time = 0
var(19) = 1

[State 3360, 0]
type = Varadd
trigger1 = MoveContact = 1
var(19) = 1

[State 3210, 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 7, >= 0 && AnimElem = 10, <= 3
persistent = 0
trigger1 = p2bodydist X < 100
attr = S, HP
animtype  = Up
air.animtype  = Up
damage    = 212/var(19),20/var(19)
guardflag = M
getpower = 0,0
pausetime = 0,var(46)
guard.pausetime = 0,var(47)
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0,-90
hitsound   = s3110,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 7, >= 0 && AnimElem = 10, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6003,6007)
pos = Ceil(ifelse((P2Dist x> 12 && P2Dist x< 99),var(28),ifelse(P2Dist x<= 12,12,99))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 10, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 10, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -29),var(26),ifelse(var(26)<= -92,-92-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 7, >= 0 && AnimElem = 10, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -29),var(25),ifelse(var(25)<= -92,-92,-29))
ignorehitpause = 1

[State 3210, 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 10, >= 0 && AnimElem = 12, <= 3
persistent = 0
trigger1 = p2bodydist X < 116
attr = S, HP
animtype  = Up
air.animtype  = Up
damage    = 212/var(19),20/var(19)
guardflag = M
getpower = 0,0
pausetime = 0,var(46)
guard.pausetime = 0,var(47)
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0,-90
hitsound   = s3110,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 10, >= 0 && AnimElem = 12, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6003,6007)
pos = Ceil(ifelse((P2Dist x> 28 && P2Dist x< 115),var(28),ifelse(P2Dist x<= 28,28,115))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 12, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 12, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -29),var(26),ifelse(var(26)<= -92,-92-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 10, >= 0 && AnimElem = 12, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -29),var(25),ifelse(var(25)<= -92,-92,-29))
ignorehitpause = 1

[State 3210, 1]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 12, >= 0 && AnimElem = 13, <= 14
persistent = 0
trigger1 = p2bodydist X < 132
attr = S, HP
animtype  = Up
air.animtype  = Up
damage    = 212/var(19),20/var(19)
guardflag = M
getpower = 0,0
pausetime = 0,var(46)
guard.pausetime = 0,var(47)
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0,-90
hitsound   = s3110,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(10),fvar(11)
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 40
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 12, >= 0 && AnimElem = 13, <= 14
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6003,6007)
pos = Ceil(ifelse((P2Dist x> 44 && P2Dist x< 131),var(28),ifelse(P2Dist x<= 44,44,131))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 12, >= 0 && AnimElem = 13, <= 14
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 12, >= 0 && AnimElem = 13, <= 14
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -92 && var(26) < -29),var(26),ifelse(var(26)<= -92,-92-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 12, >= 0 && AnimElem = 13, <= 14
trigger1 = 1
fvar(38) = ifelse((var(25) > -92 && var(25) < -29),var(25),ifelse(var(25)<= -92,-92,-29))
ignorehitpause = 1

;[State 3210, 0]
;type = varset
;trigger1 = movehit > 0
;var(13) = 1
;ignorehitpause = 1
;persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit > 0 && time = [18,31]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit > 0 && time = [29,42]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210]
type = EnvColor
trigger1 = MoveHit > 0 && time = [40,56]
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3210, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 신진 카쿠무라
[Statedef 3300] 
type     = S
movetype = I
physics  = S
;poweradd = -2000
velset   = 0
ctrl = 0
anim = 3300
facep2 = 1

[State 3300, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3400, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3400, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0
[state 3400, 1]
type = varset
trigger1 = time = 0 && life > 250
var(33) = 2

[state 3400, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 2
var(20) = 20
[state 3400, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 2
var(20) = 30
[state 3400, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 10
[state 3400, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 20
[state 3400, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(3) = 0

[State 3300,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 33

[State 3300, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3300,0

[State 3300, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3300,1

[State 3300, 2]
type = PlaySnd
trigger1 = Time = 0
value = 3500,4

[State 3300, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4,=0
movetype = A

[State 3300, movetype]
type = StateTypeSet
trigger1 = AnimElem = 4,=1
movetype = I

[State 3300 , 1]
type = HitDef
triggerall = var(5)<=0
trigger1= P2Dist x <= 67 && AnimElem = 4
trigger1 = AnimElem = 4,=0
trigger1 = P2StateNo != [150,155]
trigger1 = P2StateNo != [40,49]
trigger1 = P2StateNo != 50 && 52
trigger1 = (var(22) = 0 && p2statetype != A) || var(22) = 1
numhits = 0
attr = S, HT
getpower = 0,0
hitflag = MAF	;M
guard.dist = 0
priority = 4, Miss
hitsound = s1851,2
sparkno = -1
p2facing = 1
p1stateno = 3310
p2stateno = 3320
p2getp1state = 1
Palfx.time = 1

[State 3300, SuperSpark1]
type = Explod
trigger1 = time = 4
anim = 3502
sprpriority = -1
pos = 42,-87
supermove = 1
bindtime = -1
ownpal = 1

[State 3300, SuperSpark2]
type = Explod
trigger1 = time = 4
anim = 3552
sprpriority = 7
pos = 42,-87
supermove = 1
bindtime = -1
ownpal = 1

[State 3300, 0]
type = Envcolor
trigger1 = Time = 2
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3300, 6]
type = Envcolor
trigger1 = Time = 6
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

;[State 3300, 1]
;type = BGPalFX
;trigger1 = 1
;time = 5
;invertall = 1

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 30;29

[State 3300, 1]
type = SuperPause
trigger1 = Time = 2
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3300, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;성공 자세
[Statedef 3310] 
type     = S
movetype = A
physics  = S
poweradd = 0
velset   = 0
ctrl = 0
anim = 3310
sprpriority = 2

[State 3310,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA

[State 3310, GrabSpark]
type = Explod
trigger1 = AnimElem = 1
anim = 3391
postype = p1
pos = 35,-79	;40,-82
sprpriority = 1
bindtime = 29
ownpal = 1

;[State 3310, PlaySnd]
;type = PlaySnd
;trigger1 = AnimElem = 1
;value = s1170,2

[State 3310, 긽긤깒?봶똧뚼됈]
type = Explod
trigger1 = time = 1
;trigger1 = Var(20) = 1
anim = 3560
ID = 3560
sprpriority = -12
postype = back
pos = 0,0;-5,-3
vel = 0, 0
removetime = -1
ownpal = 1
bindtime = -1

[State 3310,AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 999
length = 10
palcolor = 256
palinvertall = 0
palbright = 20,20,30
palcontrast = 100,100,220
palpostbright = 0, 0, 0
paladd = 10,10,45
palmul = .65,.65,.85
timegap = 1
framegap = 2
trans = add1

[State 3310, 2]
type = PlaySnd
trigger1 = Time = 68
value = 1853, 2

[State 3310, 0]
type = Explod
trigger1 = Time = 68
;trigger1 =AnimElem = 5
persistent = 0
anim = 3390
pos = 70, -80
postype = p1
shadow = -1
sprpriority = 3
bindtime = 1
ignorehitpause = 1
supermove = 1
ownpal = 1

[State 3310, 0]
type = EnvShake
trigger1 = Time = 68
time = 20
ampl = -8

;[State 3310, 1]
;type = BGPalFX
;trigger1 = 1
;time = 5
;invertall = 1

[State 3310, 0]
type = TargetBind
trigger1 = AnimElem = 1
pos = 40, 0
postype = P1

[State 3310, 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 3330
ctrl = 0

;---------------------------------------------------------------------------
;맞는 자세
[Statedef 3320]
type     = S
movetype = H
physics  = N
ctrl = 0
sprpriority = -1

[State 3320,AfterImageTime]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 1221, 5]
type = hitfallset 
trigger1 = time = 0 
value = 0 

[State 3320, 0]
type = LifeAdd
trigger1 = time = 68
value = -147
kill = 0

[State 3320, 0]
type = ChangeAnim2
trigger1 = Time = 0
value = 3320

[State 3320, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; 신진1타
[Statedef 3330]
type    = S
movetype= A
physics = S
poweradd = 0
velset = 0,0
anim = 3330
sprpriority = 2
ctrl = 0

[State 3310, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;[State 3310,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT
;time = 1

[State 3330, Bright]
type = PalFX
trigger1 = Time = 0
time = 99
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3330, 0]
type = Afterimage
trigger1 = Time = 0
time = 99
length = 7
palbright = 20,20,30
palcontrast = 248,224,80
palpostbright = 0,0,0
paladd = 10,10,45
palmul = .65,.65,.85
FrameGap = 3
Trans = Add1

[State 3330, 0]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
x = 8

[State 3330, 0]
type = PosAdd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
x = 16

[State 3330, 4]
type = Projectile
trigger1 = AnimElem = 10
projanim = 1150
offset = 96, -76
velocity = 0,0
projremovetime = 27

[State 3330, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3330,1

[State 3330, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
animtype  = Hard
damage    = 100,10
guardflag = M
getpower = 0,0
pausetime = var(10),var(46)
guard.pausetime = var(10),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0, -70
hitsound   = s1400,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -1.5
air.velocity = -3.2,-8.6
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
palfx.time = 30
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1
kill = 0

[State 3330, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3335
ctrl = 0

;---------------------------------------------------------------------------
; 신진2타
[Statedef 3335]
type    = S
movetype= A
physics = S
poweradd = 0
velset = 0,0
anim = 3335
ctrl = 0

[State 3335, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3335, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3335, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3335, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3335, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3335, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;[State 3310,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT
;time = 1

[State 3335, Bright]
type = PalFX
trigger1 = Time = 0
time = 99
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3335, 0]
type = Afterimage
trigger1 = Time = 0
time = 99
length = 7
palbright = 20,20,30
palcontrast = 248,224,80
palpostbright = 0,0,0
paladd = 10,10,45
palmul = .65,.65,.85
FrameGap = 3
Trans = Add1

[State 1210, 0]
type = PosAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
x = 8

[State 3335, 3]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1250
offset = 84, -72
velocity = 0,0
projremovetime = 28

[State 3335, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
animtype  = Hard
damage    = 48,10
guardflag = M
getpower = 0,0
pausetime = var(10),var(46)
guard.pausetime = var(10),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0, -80
hitsound   = s1400,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -1.5
air.velocity = -3.2,-8.6	;-1.4,-3
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
palfx.time = 30
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = High                       
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1
kill = 0

[State 3335, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3340
ctrl = 0

;---------------------------------------------------------------------------
; 신진3타
[Statedef 3340]
type    = S
movetype= A
physics = S
poweradd = 0
velset = 0,0
anim = 3340
ctrl = 0

[State 3340, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3340, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3340, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3340, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3340, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3340, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;[State 3310,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT
;time = 1

[State 3335, Bright]
type = PalFX
trigger1 = Time = 0
time = 99
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3340, 0]
type = Afterimage
trigger1 = Time = 0
time = 99
length = 7
palbright = 20,20,30
palcontrast = 248,224,80
palpostbright = 0,0,0
paladd = 10,10,45
palmul = .65,.65,.85
FrameGap = 3
Trans = Add1

[State 3340, 1]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
x = 8

[State 1100, 6]
type = Projectile
trigger1 = AnimElem = 10
projanim = 1150
offset = 96, -68
velocity = 0,0
projremovetime = 27

[State 1100, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
animtype  = Hard
damage    = 16,10
guardflag = M
getpower = 0,0
pausetime = var(10),var(46)
guard.pausetime = var(10),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0,-70
hitsound   = s1400,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -1.5
air.velocity = -4.8,-9.2
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
palfx.time = 30
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0 
yaccel = fvar(12)
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
AIR.fall = 1
kill = 0

[State 3340, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3345
ctrl = 0

;---------------------------------------------------------------------------
; 신진4타
[Statedef 3345]
type    = S
movetype= A
physics = S
poweradd = 0
velset = 0,0
anim = 3340
ctrl = 0

[State 3345, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3345, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3345, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3345, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3345, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3345, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;[State 3310,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT
;time = 1

[State 3335, Bright]
type = PalFX
trigger1 = Time = 0
time = 99
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3340, 0]
type = Afterimage
trigger1 = Time = 0
time = 99
length = 7
palbright = 20,20,30
palcontrast = 248,224,80
palpostbright = 0,0,0
paladd = 10,10,45
palmul = .65,.65,.85
FrameGap = 3
Trans = Add1

[State 3340, 1]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
x = 8

[State 1100, 6]
type = Projectile
trigger1 = AnimElem = 10
projanim = 1150
offset = 96, -68
velocity = 0,0
projremovetime = 27

[State 1100, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
animtype  = Hard
damage    = 16,10
guardflag = M
getpower = 0,0
pausetime = var(10)-1,var(46)
guard.pausetime = var(10)-1,var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0,-70
hitsound   = s1400,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)+4
ground.velocity = -1.5
air.velocity = -4.8,-9.2
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
palfx.time = 30
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0 
yaccel = fvar(12)
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall = 0
AIR.fall = 1
kill = 0

[State 3345, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3350
ctrl = 0

;---------------------------------------------------------------------------
; 신진5타
[Statedef 3350]
type    = S
movetype= A
physics = S
poweradd = 0
velset = 0,0
anim = 3350
ctrl = 0

[State 3350, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3350, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3350, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3350, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3350, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3350, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;[State 3310,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT
;time = 1

[State 3350, Bright]
type = PalFX
trigger1 = Time = 0
time = 99
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3350, 0]
type = Afterimage
trigger1 = Time = 0
time = 99
length = 7
palbright = 20,20,30
palcontrast = 248,224,80
palpostbright = 0,0,0
paladd = 10,10,45
palmul = .65,.65,.85
FrameGap = 3
Trans = Add1

[State 3330, 0]
type = PosAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
x = 8

[State 3330, 0]
type = PosAdd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
x = 16

[State 3350, 4]
type = Projectile
trigger1 = AnimElem = 8
projanim = 1150
offset = 96, -76
velocity = 0,0
projremovetime = 27

[State 3350, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
animtype  = Hard
damage    = 16,10
guardflag = M
getpower = 0,0
pausetime = var(10)-1,var(46)
guard.pausetime = var(10)-1,var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0, -70
hitsound   = s1400,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -1.5
air.velocity = -3.2,-8.6
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
palfx.time = 30
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1
kill = 0

[State 3350, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3355
ctrl = 0

;---------------------------------------------------------------------------
; 신진6타
[Statedef 3355]
type    = S
movetype= A
physics = S
poweradd = 0
velset = 0,0
anim = 3355
ctrl = 0

[State 3355, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3355, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3355, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3355, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3355, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3355, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;[State 3310,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT
;time = 1

[State 3356, Bright]
type = PalFX
trigger1 = Time = 0
time = 99
add = 224,88,0
sinadd = 48,50,32
ignorehitpause = 1

[State 3356, 0]
type = Afterimage
trigger1 = Time = 0
time = 99
length = 7
palbright = 20,20,30
palcontrast = 248,224,80
palpostbright = 0,0,0
paladd = 10,10,45
palmul = .65,.65,.85
FrameGap = 3
Trans = Add1

[State 3355, 0]
type = PosAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
x = 8

[State 3356, 3]
type = Projectile
trigger1 = AnimElem = 4
projanim = 1250
offset = 84, -72
velocity = 0,0
projremovetime = 28

[State 3356, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
animtype  = Hard
damage    = 16,10
guardflag = M
getpower = 0,0
pausetime = var(45)-1,var(46)
guard.pausetime = var(45)-1,var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0, -80
hitsound   = s1400,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -1.5
air.velocity = -3.2,-8.6	;-1.4,-3
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
palfx.time = 30
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = High                       
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1
kill = 0

[State 3355, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3360
ctrl = 0

;---------------------------------------------------------------------------
; 신진7타 
[Statedef 3360]
type = S
movetype = A
physics = S
poweradd = 0
velset = 0
anim = 3360
ctrl = 0

[State 3360, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3360, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3360, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3360, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3360, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3360, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;[State 3310,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT
;time = 1

[State 3360, Bright]
type = PalFX
trigger1 = time = 0
time = 99
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3360, 0]
type = Afterimage
trigger1 = time = 0
time = 99
length = 7
palbright = 20,20,30
palcontrast = 248,224,80
palpostbright = 0,0,0
paladd = 10,10,45
palmul = .65,.65,.85
FrameGap = 3
Trans = Add1

[State 3360, 0]
type = PosAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
x = 8 + (AnimElem = 1) - (AnimElem = 2)

[State 3360, 1]
type = StateTypeSet
trigger1 = AnimElem = 4
StateType = A

[State 3360, 1]
type = PosAdd
trigger1 = AnimElem = 4
x = 10
y = -1.8		;-2

[State 3360, 1]
type = StateTypeSet
trigger1 = AnimElem = 4
StateType = A

[State 1222, 1]
type = VelSet
trigger1 = AnimElem = 4
x = 3.9
y = -6.5

[State 1220, 4]
type = VelMul
trigger1 = AnimElem = 4, >= 0
x = .9554

[State 1222, 1]
type = VelSet
trigger1 = AnimElem = 6,=8
x = 0

[State 1222, 2]
type = VelAdd
trigger1 = AnimElem = 4, >= 0
y = .44

[State 3360, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
animtype  = Hard
damage    = 89,10
guardflag = M
getpower = 0,0
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0, -80
hitsound   = s1400,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14)
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
palfx.time = 54
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
yaccel = fvar(12)
fall = 1
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 0

[State 3360, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 3365
ctrl = 0

;---------------------------------------------------------------------------
; 신진8타
[Statedef 3365]
type = A
movetype = A
physics = N
poweradd = 0
anim = 3365
ctrl = 0

[State 3365, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3365, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3365, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3365, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3365, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3365, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3310,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;[State 3310,1]
;type = HitBy
;trigger1 = Time >= 0
;value = SCA, NT, ST, HT
;time = 1

[State 3365, Bright]
type = PalFX
trigger1 = time = 0
time = 31
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3365, 0]
type = Afterimage
trigger1 = time = 0
time = 31
length = 7
palbright = 20,20,30
palcontrast = 248,224,80
palpostbright = 0,0,0
paladd = 10,10,45
palmul = .65,.65,.85
FrameGap = 3
Trans = Add1

[State 3300, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3365,1

;[State 3365, 5]
;type = Projectile
;trigger1 = AnimElem = 1
;projanim = 1450
;projremovetime = 29
;offset = 35,-94
;velocity = 0.00001,0
;postype = p1

;[State 3365, 7]
;type = Projectile
;trigger1 = AnimElem = 7
;projanim = 1460
;projremovetime = 29
;offset = 7,-119
;velocity = 0.00001,0
;postype = p1

[State 1230, 0]
type = posadd
trigger1 = AnimElem = 1
x = 42
y = -2

[State 1230, 0]
type = VelAdd
trigger1 = 1
y = .404

[State 1230, 4]
type = VelMul
trigger1 = 1
x = .9554

[State 1230, 3]
type = VelSet
trigger1 = AnimElem = 1
x = 0

[State 3365, 8]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = A, HA
animtype = diagup
guardflag = M
damage = 43,10
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0, -69
getpower = 0,0
pausetime = var(45)+6,var(46)+6		;18,19
guard.pausetime = var(45)+6,var(47)+6	;18,17
hitsound   = s1400,2
guardsound = s1000,3
guard.velocity = -14
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(26),fvar(27)
air.velocity = fvar(26),fvar(27)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 65
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
yaccel = fvar(28)
fall = 1
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 20
envshake.ampl = -8
fall.envshake.time = 10
fall.envshake.ampl = -8

[State 3365, 0]
type = varset
trigger1 = movehit > 0
var(13) = 1
ignorehitpause = 1
persistent = 0

;[State 3365]
;type = Pause
;triggerall = movehit > 0
;;triggerall = timemod = 2,0
;;triggerall = p2Movetype = H
;trigger1 = time = 1
;trigger2 = time = 2
;trigger3 = time = 3
;trigger4 = time = 4
;trigger5 = time = 5
;trigger6 = time = 6
;trigger7 = time = 7
;trigger8 = time = 8
;trigger9 = time = 9
;trigger10 = time = 10
;time = 1
;movetime = 0
;ignorepausetime = 1

[State 3365, 9]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -6
value = 1402

;---------------------------------------------------------------------------
; 백팔십이식 시작(99버젼)
[Statedef 3400]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3400
ctrl = 0
facep2 = 1

[State 3400, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3000, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3000, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0

[state 3000, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 10
[state 3000, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 0
var(20) = 20
[state 3000, 1]
type = varset
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3000, 1]
type = varset
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(3) > 0
var(3) = 0
[state 3000, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) > 0
var(20) = 10

[State 3400, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,2

[State 3400, 2]
type = PlaySnd
trigger1 = Time = 0
value = 3400,1

[State 3400,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 36

[State 3400,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 36

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29

[State 3400, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3400, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3400, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3400, SuperSpark1]
type = Explod
trigger1 = Time = 1
anim = 3500
sprpriority = -1
pos = 21,-67
supermove = 1
bindtime = -1
ownpal = 1

[State 3400, SuperSpark2]
type = Explod
trigger1 = Time = 1
anim = 3550
sprpriority = 7
pos = 21,-67
supermove = 1
bindtime = -1
ownpal = 1

[State 3500, 7]
type = ChangeState
triggerall = command != "hold_x" && command != "hold_y" && command != "hold_c"
trigger1 = Time = [37,95]
;trigger1 = AnimElem = 2
value = 3410

[State 3500, 7]
type = ChangeState
triggerall = command != "hold_x" && command != "hold_y" && command != "hold_c"
trigger1 = Time = [96,132]
;trigger1 = AnimElem = 2
;trigger2 = AnimElem = 3
;trigger3 = Time > 35
value = 3420

[State 3500, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3430

;---------------------------------------------------------------------------
; 백팔십이식 빠른발동(99버젼)
[Statedef 3410]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 3410
ctrl = 0

[State 3410, movetype]
type = StateTypeSet
trigger1 = AnimElem = 16
movetype = I

[State 3410, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3410, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3410, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3410, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3410, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3410, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3410,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 6

[State 3410,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 6

[State 3410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 1700,1

[State 3410, 2]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3410, 4

[State 3550, 1]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
trigger7 = AnimElem = 8
trigger8 = AnimElem = 9
trigger9 = AnimElem = 10
trigger10 = AnimElem = 11
trigger11 = AnimElem = 12
x = 8

[State 3410, 2]
type = HitDef
trigger1 = P2StateNo != [5030,5050]
trigger1 = P2StateNo != [5070,5080]
trigger1 = AnimElem = 6
trigger1 = var(13) = 0 || var(37) = 1
attr = S, HA
animtype  = Hard
damage    = 170,10
guardflag = M
getpower = 0,0
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0, -60
hitsound   = s3410,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
palfx.time = 31
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State 3410, 1]
type = HitDef
trigger1 = AnimElem = 15
trigger1 = var(13) = 0 || var(37) = 1
attr = S, HA
animtype  = Up
air.animtype  = Up
damage    = 85,20
getpower = 0,0
guardflag = M
pausetime = var(45)+20,var(46)+20	;32,33
guard.pausetime = var(45)+20,var(47)+20	;32,31
sparkno = s6003
guard.sparkno = s6007
sparkxy = 0,-95
hitsound   = s3410,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -4,-8.6
air.velocity = -4,-8.6
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 62
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 14
envshake.ampl = -8

[State 3410]
type = EnvColor
trigger1 = MoveHit > 0
trigger1 = Time > 15
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3410]
type = EnvColor
trigger1 = MoveHit > 0
trigger1 = Time < 15
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3410, 0]
type = varset
trigger1 = movehit > 0
trigger1 = Time > 15
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 3410, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 백팔십이식 느린발동(99버젼)
[Statedef 3420]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 3420
ctrl = 0

[State 3420, movetype]
type = StateTypeSet
trigger1 = AnimElem = 17
movetype = I

[State 3420, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3420, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3420, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3420, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3420, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3420, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3420,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 14

[State 3420,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 14

[State 3420, 1]
type = PlaySnd
trigger1 = Time = 1
value = 1700,1

[State 3420, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3410, 4

[State 3420, 1]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
trigger7 = AnimElem = 9
trigger8 = AnimElem = 10
trigger9 = AnimElem = 11
trigger10 = AnimElem = 12
trigger11 = AnimElem = 13
x = 8

[State 3420, 2]
type = HitDef
trigger1 = P2StateNo != [5030,5050]
trigger1 = P2StateNo != [5070,5080]
trigger1 = AnimElem = 6
trigger1 = var(13) = 0 || var(37) = 1
attr = S, HA
animtype  = Hard
damage    = 170,10
guardflag = M
getpower = 0,0
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0, -60
hitsound   = s3410,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
palfx.time = 31
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State 3420, 1]
type = HitDef
trigger1 = AnimElem = 15
trigger1 = var(13) = 0 || var(37) = 1
attr = S, HA
animtype  = Up
air.animtype  = Up
damage    = 135,20
getpower = 0,0
guardflag = M
pausetime = var(45)+20,var(46)+20	;32,33
guard.pausetime = var(45)+20,var(47)+20	;32,31
sparkno = s6003
guard.sparkno = s6007
sparkxy = 0,-95
hitsound   = s3410,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -4,-8.6
air.velocity = -4,-8.6
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 62
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 14
envshake.ampl = -8
p2stateno = 3415
fall.envshake.time = 14
fall.envshake.ampl = -8

[State 3420]
type = EnvColor
trigger1 = MoveHit > 0
trigger1 = Time > 15
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3420]
type = EnvColor
trigger1 = MoveHit > 0
trigger1 = Time < 16
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3420, 0]
type = varset
trigger1 = movehit > 0
trigger1 = Time > 24
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 3420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 맞는 모습
[Statedef 3415]
type = A
movetype = H
physics = N

[State 3415, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0
z = 0

[State 3415, 2]
type = ChangeAnim2
Trigger1 = Time >= 0
value = 3415

[State 3415, 3]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 3416

;---------------------------------------------------------------------------
; 맞는 모습  (flying)
[Statedef 3416]
type = A
movetype = H
physics = N
velset = -1.85,-19

[State 3416, 1]
type = VelAdd
trigger1 = Time > 0
y = .84

[State 3416, 2]
type = PalFX
trigger1 = Time = 0
time = 46
add = 224,88,0
sinadd = 48,50,32,16

[State 3416, 3]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
; 백팔십이식 가불발동(99버젼)
[Statedef 3430]
type    = S
movetype= A
physics = S
poweradd= 0
velset = 0,0
anim = 3420
ctrl = 0

[State 3430, movetype]
type = StateTypeSet
trigger1 = AnimElem = 17
movetype = I

[State 3430, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3430, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3430, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3430, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3430, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3430, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3430,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 14

[State 3430,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 14

[State 3430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 1700,1

[State 3430, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3410, 4

[State 3430, 1]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
trigger7 = AnimElem = 9
trigger8 = AnimElem = 10
trigger9 = AnimElem = 11
trigger10 = AnimElem = 12
trigger11 = AnimElem = 13
x = 8

[State 3430, 2]
type = HitDef
trigger1 = P2StateNo != [5030,5050]
trigger1 = P2StateNo != [5070,5080]
trigger1 = AnimElem = 6
trigger1 = var(13) = 0 || var(37) = 1
attr = S, HA
animtype  = Hard
damage    = 170,10
getpower = 0,0
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6002
guard.sparkno = s6007
sparkxy = 0, -60
hitsound   = s3410,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = ifelse(var(41)=0,fvar(1),ifelse(var(41)=1,fvar(2),fvar(2))),0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(1)*fvar(15),ifelse(var(41)=1,fvar(2)*fvar(15),fvar(2)*fvar(15)))
palfx.time = 31
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State 3430, 1]
type = HitDef
trigger1 = AnimElem = 15
trigger1 = var(13) = 0 || var(37) = 1
attr = S, HA
animtype = diagup
air.animtype = diagup
damage    = 185,20
getpower = 0,0
pausetime = var(45)+20,var(46)+20	;32,33
guard.pausetime = var(45)+20,var(47)+20	;32,31
sparkno = s6003
guard.sparkno = s6007
sparkxy = 0,-95
hitsound   = s3410,2
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = -7,-10.6
air.velocity = -7,-10.6
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 69
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
fall = 1
air.type = Low  
yaccel = fvar(12)
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
envshake.time = 14
envshake.ampl = -8
fall.envshake.time = 14
fall.envshake.ampl = -8

[State 3430]
type = EnvColor
trigger1 = MoveHit > 0
trigger1 = Time > 15
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3430]
type = EnvColor
trigger1 = MoveHit > 0
trigger1 = Time < 16
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3430, 0]
type = varset
trigger1 = movehit > 0
trigger1 = Time > 24
var(13) = 1
ignorehitpause = 1
persistent = 0

[State 3430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 최종결전오의 무식 MAX2
[Statedef 3450]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3450
ctrl = 0
facep2 = 1

[State 3450, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3450, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3450, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3450, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3450, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3450, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3450, varset]
type = varset
trigger1 = var(22) = 1
trigger1 = time = 0
var(50) = 22

[state 3400, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(33) = 1
[state 3400, 1]
type = varset
trigger1 = time = 0 && var(3) < 1
var(33) = 0
[state 3400, 1]
type = varset
trigger1 = time = 0 && life > 250
var(33) = 2

[state 3400, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 2
var(20) = 20
[state 3400, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 2
var(20) = 30
[state 3400, 1]
type = varadd
triggerall = prevstateno != [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 10
[state 3400, 1]
type = varadd
triggerall = prevstateno = [1000,1950]
trigger1 = time = 0 && var(33) = 1
var(20) = 20
[state 3400, 1]
type = varset
trigger1 = time = 0 && var(3) > 0
var(3) = 0

[State 3450,0]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 36

[State 3450,1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 36

[State 3450, 1]
type = PosAdd
trigger1 = AnimElem = 4
x = -11

[State 3450, 1]
type = PosAdd
trigger1 = AnimElem = 10
x = 8

[State 3450, 2]
type = PlaySnd
trigger1 = Time = 2
value = 3500,4

[State 3450, 2]
type = PlaySnd
trigger1 = AnimElem = 7
trigger2 = AnimElem = 7,=2
value = 3450,4

[State 3450, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 3450,1

[State 3450]
type = Explod
trigger1 = time = 1
anim = 196
sprpriority = -2
postype = p1
pos = 20,-118
bindtime = 1
supermove = 1
removetime = 4
ontop = 1
ownpal = 1

[State 3450, 5]
type = Explod
trigger1 = AnimElem = 2
anim = 197
pos = 6,-62
postype = p1
supermove = 1
removetime = 4
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3450, 5]
type = Explod
trigger1 = AnimElem = 3
anim = 197
pos = 8,-64
postype = p1
supermove = 1
removetime = 21
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3450, 5]
type = Explod
trigger1 = AnimElem = 4
anim = 197
pos = -28,-104
postype = p1
supermove = 1
removetime = 2
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3450, 5]
type = Explod
trigger1 = AnimElem = 5
anim = 197
pos = -24,-98
postype = p1
supermove = 1
removetime = 2
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3450, 5]
type = Explod
trigger1 = AnimElem = 6
anim = 197
pos = 38,-58
postype = p1
supermove = 1
removetime = 2
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3450, 5]
type = Explod
trigger1 = AnimElem = 7
anim = 197
pos = -30,-106
postype = p1
supermove = 1
removetime = 2
Id = 3110
sprpriority = 3
bindtime = -1
ownpal = 1

[State 3450, 8]
type = Projectile
trigger1 = AnimElem = 8
projanim = 3451
offset = -27,-110
velocity = 0,0
projremovetime = 20
sprpriority = 3

[State 3450, 6]
type = Projectile
trigger1 = AnimElem = 6,=1
projanim = 1790
offset = 0,0
velocity = 0,0
sprpriority = 3
projremovetime = 35

[State 1000, 1]
type = Explod
trigger1 = AnimElem = 7,=1
anim = 3455
ID = 3455
sprpriority = 2
postype = p1
pos = 64,0
removetime = -2
ownpal = 1

[State 3300,PosFreeze]
type = PosFreeze
trigger1 = Time <= 29;29

[State 3450, 1]
type = SuperPause
trigger1 = Time = 1
time = 29
movetime = 29
p2defmul = 1
darken = 0
anim = -1

[State 3450, 0]
type = Envcolor
trigger1 = Time = 1
persistent = 0
ignorehitpause = 1
value = 255, 255, 255
time = 4
under = 1
supermove = 1

[State 3450, 6]
type = Envcolor
trigger1 = Time = 5
persistent = 0
ignorehitpause = 1
value = 0, 0, 0
time = 24
under = 1
supermove = 1

[State 3450, SuperSpark1]
type = Explod
trigger1 = Time = 3
anim = 3502
sprpriority = -1
pos = 8,-64
supermove = 1
bindtime = -1
ownpal = 1

[State 3450, SuperSpark2]
type = Explod
trigger1 = Time = 3
anim = 3552
sprpriority = 7
pos = 8,-64
supermove = 1
bindtime = -1
ownpal = 1

[State 3450, 긽긤깒?봶똧뚼됈]
type = Explod
trigger1 = time = 29
;trigger1 = Var(20) = 1
anim = 3560
ID = 3560
sprpriority = -12
postype = back
pos = 0,0;-5,-3
vel = 0, 0
removetime = -1
ownpal = 1
bindtime = -1

[State 3450, 2]
type = Projectile
trigger1 = P2StateNo != [5030,5050]
trigger1 = P2StateNo != [5070,5080]
trigger1 = var(13) = 0 || var(37) = 1
trigger1 = AnimElem = 7,=1
attr = SC, HP
guardflag = M 
animtype  = Hard
damage    = 294,20
getpower = 0,0
pausetime = 0,13
guard.pausetime = 0,11
sparkno = s6003
guard.sparkno = s6007
sparkxy = 16,ifelse(P2statetype=C,-36,-20)
hitsound   = s5,210
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)+2
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)+2
palfx.time = 28
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1
projanim = 3456
projsprpriority = 2
projshadow = -1
projID = 3456
offset = 64,0
velocity = 0,0
ownpal = 1
projremovetime = 16

[State 3450, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3453

;---------------------------------------------------------------------------
; 최종결전오의 무식 1타 환영
[Statedef 3452]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3452
ctrl = 0

[State 3452, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3452, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3452, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3452, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3452, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3452, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3452,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 3452,2]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 3452, Bright]
type = PalFX
trigger1 = Time = 0
time = 16
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3452, 0]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
x = 8

[State 3452, 0]
type = PosAdd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
x = 16

[State 3450, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
guardflag = M 
animtype  = Hard
damage    = 27,5
getpower = 0,0
pausetime = 0,parent,var(46)
guard.pausetime = 0,parent,var(47)
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0, -75
hitsound   = s5,210
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = parent,var(35)
ground.velocity = 0
air.velocity = parent,fvar(10),parent,fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = parent,var(31)
palfx.time = 28
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6003,6007)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 95),var(28),ifelse(P2Dist x<= 32,32,95))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -80 && var(26) < -49),var(26),ifelse(var(26)<= -80,-80-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -80 && var(25) < -49),var(25),ifelse(var(25)<= -80,-80,-49))
ignorehitpause = 1

;스파크위치 x축에쓰임 1
[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
var(28) = Ceil(P2dist x);+((hitcount-1)*8)	;P2dist x-target,Const(size.head.pos.x)
ignorehitpause = 1

;스파크위치 y축에쓰임 1
[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
var(32) = Ceil(ifelse(P2statetype != A,0,(enemyNear,pos y+36)))	; + 상대키에따라 달라지는 수치(현제 없음)
ignorehitpause = 1

[State 3450]
type = EnvColor
trigger1 = MoveHit > 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3450, 1]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; 최종결전오의 무식 1타
[Statedef 3453]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3453
ctrl = 0

[State 3453, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3453, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3453, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3453, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3453, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3453, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3450, 2]
type = PlaySnd
trigger1 = AnimElem = 10
value = 3453,4

[State 3453, 5]
type = Projectile
trigger1 = AnimElem = 11
projanim = 3465
offset = 0, 0
velocity = 0,0
projremovetime = 5

[State 3453, 1]
type = Helper
trigger1 = time = 0
trigger2 = time = 6
trigger3 = time = 11
name = "tama"
ID = 3452
pos = 0,0
postype = p1
stateno = 3452
ownpal = 1

[State 3453, Bright]
type = PalFX
trigger1 = Time = 0
time = 44
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3453, 0]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 7
trigger6 = AnimElem = 8
x = 8

[State 3453, 0]
type = PosAdd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
x = 16

[State 3453, 4]
type = Projectile
trigger1 = AnimElem = 11
projanim = 3454
offset = 19, -18
velocity = 0,0
projremovetime = 30

[State 3453, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
guardflag = M
animtype  = Hard
damage    = 27,10
getpower = 0,0
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0, -75
hitsound   = s5,210
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
palfx.time = 28
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6003,6007)
pos = Ceil(ifelse((P2Dist x> 32 && P2Dist x< 95),var(28),ifelse(P2Dist x<= 32,32,95))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-60,(-68-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -80 && var(26) < -49),var(26),ifelse(var(26)<= -80,-80-(pos y),-49-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -80 && var(25) < -49),var(25),ifelse(var(25)<= -80,-80,-49))
ignorehitpause = 1

[State 3453]
type = EnvColor
trigger1 = MoveHit > 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3453, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3458

;---------------------------------------------------------------------------
; 최종결전오의 무식 2타 환영
[Statedef 3457]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3457
ctrl = 0

[State 3457, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3457, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3457, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3457, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3457, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3457, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3457,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 3457,2]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 3457, Bright]
type = PalFX
trigger1 = Time = 0
time = 12
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3457, 0]
type = PosAdd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
x = 8

[State 3457, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
guardflag = M
animtype  = Hard
damage    = 27,5
getpower = 0,0
pausetime = 0,parent,var(46)
guard.pausetime = 0,parent,var(47)
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0, -86
hitsound   = s5,210
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = parent,var(35)
ground.velocity = 0
air.velocity = parent,fvar(10),parent,fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = parent,var(31)
palfx.time = 28
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low                        
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6003,6007)
pos = Ceil(ifelse((P2Dist x> 48 && P2Dist x< 87),var(28),ifelse(P2Dist x<= 48,48,87))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -100 && var(26) < -29),var(26),ifelse(var(26)<= -100,-100-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -100 && var(25) < -29),var(25),ifelse(var(25)<= -100,-100,-29))
ignorehitpause = 1

;스파크위치 x축에쓰임 1
[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
var(28) = Ceil(P2dist x);+((hitcount-1)*8)	;P2dist x-target,Const(size.head.pos.x)
ignorehitpause = 1

;스파크위치 y축에쓰임 1
[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
var(32) = Ceil(ifelse(P2statetype != A,0,(enemyNear,pos y+36)))	; + 상대키에따라 달라지는 수치(현제 없음)
ignorehitpause = 1

[State 3457]
type = EnvColor
trigger1 = MoveHit > 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3457, 1]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; 최종결전오의 무식 2타
[Statedef 3458]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3458
ctrl = 0

[State 3458, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3458, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3458, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3458, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3458, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3458, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3450, 2]
type = PlaySnd
trigger1 = AnimElem = 5
value = 3453,4

[State 3458, Bright]
type = PalFX
trigger1 = Time = 0
time = 37
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3458, 1]
type = Helper
trigger1 = time = 1
trigger2 = time = 7
trigger3 = time = 11
name = "tama"
ID = 3457
pos = 0,0
postype = p1
stateno = 3457
ownpal = 1

[State 3458, 0]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
trigger4 = AnimElem = 5
trigger5 = AnimElem = 6
trigger6 = AnimElem = 7
x = 8

[State 3458, 4]
type = Projectile
trigger1 = AnimElem = 5
projanim = 1250
offset = 92, -72
velocity = 0,0
projremovetime = 28

[State 3458, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
guardflag = M
animtype  = Hard
damage    = 27,10
getpower = 0,0
pausetime = var(45),var(46)
guard.pausetime = var(45),var(47)
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0, -86
hitsound   = s5,210
guardsound = s1000,3
ground.type = High
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = 0
air.velocity = fvar(10),fvar(11)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
palfx.time = 28
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low                        
;ground.cornerpush.veloff = 0
;guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
air.fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6003,6007)
pos = Ceil(ifelse((P2Dist x> 48 && P2Dist x< 87),var(28),ifelse(P2Dist x<= 48,48,87))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-36,(-80-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -100 && var(26) < -29),var(26),ifelse(var(26)<= -100,-100-(pos y),-29-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -100 && var(25) < -29),var(25),ifelse(var(25)<= -100,-100,-29))
ignorehitpause = 1

[State 3458]
type = EnvColor
trigger1 = MoveHit > 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3458, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3459

;---------------------------------------------------------------------------
; 최종결전오의 무식 2타 다음준비자세
[Statedef 3459]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3459
ctrl = 0

[State 3459, Bright]
type = PalFX
trigger1 = Time = 0
time = 15
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3459, 0]
type = PosAdd
trigger1 = AnimElem = 1
x = 8

[State 1900, varset]
type = velset
trigger1 = 1
x = 0

[State 3453, 1]
type = Helper
trigger1 = time = 4
trigger2 = time = 8
trigger3 = time = 12
name = "tama"
ID = 3460
pos = 0,0
postype = p1
stateno = 3460
ownpal = 1

[State 3459, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 3461

;---------------------------------------------------------------------------
; 최종결전오의 무식 3타 환영
[Statedef 3460]
type    = A
movetype= A
physics = S
velset = 0,0
anim = 3460
ctrl = 0

[State 3460, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3460, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3460, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3460, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3460, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3460, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3460,0]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 3460,2]
type = PlayerPush
trigger1 = Time >= 0
value = 1

[State 3460, Bright]
type = PalFX
trigger1 = Time = 0
time = 10
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3461, 1]
type = VelSet
trigger1 = time = 0
x = 7.8
y = -8.34

[State 3461, 0]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x = 6

[State 3461, 1]
type = VelSet
trigger1 = AnimElem = 6
x = 0

[State 3461, 4]
type = VelMul
trigger1 = 1
x = .9554

[State 3461, 2]
type = VelAdd
trigger1 = 1
y = .42

[State 3460, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = 1
persistent = 0
attr = S, HA
guardflag = M
animtype  = Up
damage    = 27,5
getpower = 0,0
pausetime = 0,parent,var(46)
guard.pausetime = 0,parent,var(47)
sparkno = s6003
guard.sparkno = s600
sparkxy = 0,-62
hitsound   = s5,210
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = parent,var(35)
ground.velocity = -1.55,-12.5
air.velocity = -1.55,-12.5
ground.velocity = parent,fvar(13),parent,fvar(14)
air.velocity = parent,fvar(13),parent,fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = parent,var(31)
guard.velocity = (ifelse(parent,var(41)=0,parent,fvar(3),ifelse(parent,var(41)=1,parent,fvar(4),parent,fvar(4))))
palfx.time = 54
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = parent,fvar(12)
fall = 1

[State Hit Spark]
type = Explod
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6009993,6009997)
pos = Ceil(ifelse((P2Dist x> -360 && P2Dist x< 83),var(28),ifelse(P2Dist x<= -360,-360,83))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-65,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -108 && var(26) < -37),var(26),ifelse(var(26)<= -108,-108-(pos y),-37-(pos y))) + parent,var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
fvar(38) = ifelse((var(25) > -108 && var(25) < -37),var(25),ifelse(var(25)<= -108,-108,-37))
ignorehitpause = 1

;스파크위치 x축에쓰임 1
[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
var(28) = Ceil(P2dist x);+((hitcount-1)*8)	;P2dist x-target,Const(size.head.pos.x)
ignorehitpause = 1

;스파크위치 y축에쓰임 1
[State Hit Spark Y var 3 ]
type = varset
trigger1 = 1
var(32) = Ceil(ifelse(P2statetype != A,0,(enemyNear,pos y+36)))	; + 상대키에따라 달라지는 수치(현제 없음)
ignorehitpause = 1

[State 3460]
type = EnvColor
trigger1 = MoveHit > 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3460, 1]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; 최종결전오의 무식 3타
[Statedef 3461]
type    = A
movetype= A
physics = S
velset = 0,0
anim = 3461
ctrl = 0

[State 3461, movetype]
type = StateTypeSet
trigger1 = AnimElem = 7
movetype = I

[State 3461, 7]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 450
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3461, 8]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 2
trigger1 = Random < 500
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3461, 9]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 650
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3461, 10]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3461, 11]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3461, 12]
type = Explod
trigger1 = MoveHit > 0
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 3461, 2]
type = PlaySnd
trigger1 = AnimElem = 4
value = 1400,4

[State 3461, 5]
type = Projectile
trigger1 = AnimElem = 4,=1
projanim = 1450
projremovetime = 29
offset = 3,-6
velocity = 0,0
postype = p1

[State 3461, 7]
type = Projectile
trigger1 = AnimElem = 9,=1
projanim = 1460
projremovetime = 29
offset = 0,3
velocity = 0,0
postype = p1

[State 3461, Bright]
type = PalFX
trigger1 = Time = 0
time = 54
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3461, Bright]
type = PalFX
trigger1 = AnimElem = 7,=4
time = 0
add = 224,88,0
sinadd = 48,50,32, 16
ignorehitpause = 1

[State 3461, 1]
type = VelSet
trigger1 = time = 0
x = 7.8
y = -8.34

[State 3461, 0]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
trigger3 = AnimElem = 4
x = 6

[State 3461, 1]
type = VelSet
trigger1 = AnimElem = 6
x = 0

[State 3461, 4]
type = VelMul
trigger1 = 1
x = .9554

[State 3461, 2]
type = VelAdd
trigger1 = 1
y = .42

[State 3461, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 1, >= 0 && AnimElem = 1, <= 3
persistent = 0
attr = S, HA
guardflag = M
animtype  = Up
damage    = 27,10
getpower = 0,0
pausetime = var(45)-3,var(46)-3		;9,10
guard.pausetime = var(45)-3,var(47)-3	;9,8
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0, -66
hitsound   = s3110,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14)
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 54
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 1, >= 0 && AnimElem = 1, <= 3
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6003,6007)
pos = Ceil(ifelse((P2Dist x> 36 && P2Dist x< 83),var(28),ifelse(P2Dist x<= 36,36,83))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 1, >= 0 && AnimElem = 1, <= 3
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-65,(-92-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 1, >= 0 && AnimElem = 1, <= 3
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -108 && var(26) < -37),var(26),ifelse(var(26)<= -108,-108-(pos y),-37-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 1, >= 0 && AnimElem = 1, <= 3
trigger1 = 1
fvar(38) = ifelse((var(25) > -108 && var(25) < -37),var(25),ifelse(var(25)<= -108,-108,-37))
ignorehitpause = 1

[State 3461, 2]
type = HitDef
triggerall = (var(13) = 0 || var(37) = 1)
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 6
persistent = 0
attr = S, HA
guardflag = M
animtype  = Up
damage    = 48,20
getpower = 0,0
pausetime = var(45)+6,var(46)+6		;18,19
guard.pausetime = var(45)+6,var(47)+6	;18,17
sparkno = s6003999
guard.sparkno = s6007999
sparkxy = 0, -87
hitsound   = s3110,2
guardsound = s1000,3
ground.type = Low
ground.slidetime = 18
ground.hittime  = var(35)
ground.velocity = fvar(13),fvar(14)
air.velocity = fvar(13),fvar(14)
airguard.velocity = -3.6,-2
guard.slidetime = 18
guard.hittime  = var(31)
guard.velocity = ifelse(var(41)=0,fvar(3)*fvar(15),ifelse(var(41)=1,fvar(4)*fvar(15),fvar(4)*fvar(15)))
palfx.time = 54
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
air.type = Low
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
yaccel = fvar(12)
fall = 1
envshake.time = 14
envshake.ampl = -8

[State Hit Spark]
type = Explod
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 6
trigger1 = MoveContact = 1
id = 6000
anim = ifelse(MoveHit = 1,6003,6007)
pos = Ceil(ifelse((P2Dist x> 8 && P2Dist x< 47),var(28),ifelse(P2Dist x<= 8,8,47))),Ceil(fvar(38))
sprpriority = 9
ownpal = 1
facing = 1
ignorehitpause = 1
persistent = 0
postype = p1

[State Hit Spark Y var 1 ]
type = varset
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 6
trigger1 = 1
var(26) = Ceil(ifelse(	P2statetype=C,-77,(-112-(pos y))		))
ignorehitpause = 1

[State Hit Spark Y var 2 ]
type = varset
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 6
trigger1 = 1
var(25) = Ceil(ifelse((var(26) > -128 && var(26) < -41),var(26),ifelse(var(26)<= -128,-128-(pos y),-41-(pos y))) + var(32))
ignorehitpause = 1

[State Hit Spark Y var 3 ]
type = varset
trigger1 = AnimElem = 4, >= 0 && AnimElem = 4, <= 6
trigger1 = 1
fvar(38) = ifelse((var(25) > -128 && var(25) < -41),var(25),ifelse(var(25)<= -128,-128,-41))
ignorehitpause = 1

[State 3461]
type = EnvColor
trigger1 = MoveHit > 0
trigger1 = Time > 9
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3461]
type = EnvColor
trigger1 = MoveHit > 0
trigger1 = Time < 10
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

[State 3461, 6]
type = ChangeState
trigger1 = Pos Y >= -8 && Vel Y > 0
value = 3463

;---------------------------------------------------------------------------
; 최종결전오의 무식 착지
[Statedef 3463]
type = S
movetype = I
physics = S
poweradd = 0
anim = 3463
velset = 0,0

[State 3463, 0]
type = RemoveExplod
trigger1 = Time = 21
ID = 3560

[State 3463, 2]
type = PlaySnd
trigger1 = Time = 0
value = 47,1

[State 3463, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 3463, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3463, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;화면멈춤소스1-어둠쫓기
[Statedef 3600]
ctrl = 0
anim = 3600

[State 3600, 1]
type = Pause
trigger1 = time = [13,24]
time = 1

[State 3600, 2]
type = DestroySelf
trigger1 = time = 24|roundstate != 2

;화면멈춤소스초필1-182식타임 3프레임모질라지만 그냥하자
[Statedef 3605]
ctrl = 0
anim = 3600

[State 3605, 1]
type = Pause
trigger1 = time = [1,12]
time = 1
ignorehitpause = 1

[State 3605, 2]
type = DestroySelf
trigger1 = time = 12|roundstate != 2
ignorehitpause = 1

;---------------------------------------------------------------------
; HIT_FALLRECOVER (on the ground)
; KOF safe landing
; 낙법
[Statedef 5200]
type = S
movetype = I
physics = S
anim = 5200
poweradd=0
facep2 = 1

[State 5200, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 5200,0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5200,1]
type = HitBy
trigger1 = 1
value = SCA, NT, ST, HT

[State 5200, 2]
type = PlaySnd
trigger1 = Time = 0
value = 210,1

[State 5201, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5201, 3]
type = PosSet
trigger1 = Time >= 0
y = 0

[State 5200,2]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 5200,2]
type = Posadd
trigger1 = Time = 0
x = -10;예측수치

[State 5200,2]
type = Posadd
trigger1 = Time = 1
x = -8

[State 5200,2]
type = Posadd
trigger1 = Time = [2,3]
x = -6

[State 5200,2]
type = Posadd
trigger1 = Time = 4
x = -4

[State 5200,2]
type = Posadd
trigger1 = Time = [5,6]
x = -3

[State 5200,2]
type = Posadd
trigger1 = Time = [7,9]
x = -2

[State 5200,2]
type = Posadd
trigger1 = Time = [10,12]
trigger2 = Time = 14
trigger3 = Time = 16
trigger4 = Time = 20
x = -1

[State 5200,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Initialize (at the start of the round)라운드포즈결정
[Statedef 5900]
type = S

[State 5900, 1] ;Clear all int variables
type = VarRangeSet
trigger1 = roundno = 1
value = 0

[State 5900, 2] ;Clear all float variables
type = VarRangeSet
trigger1 = roundno = 1
fvalue = 0

[State 5900, 3] ;Intro
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 5900, 3]
type = ChangeState
trigger1 = roundno >= 2
value = 174

;---------------------------------------------------------------------
; 가드KO 막았을때
;------------------------ 
[Statedef 5950]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0, 0

[State 5950,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5950, 1]
type = ChangeAnim
trigger1 = HitOver!
value = ifelse(PrevStateNo = 152,151,150)

[State 5950, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 5950, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0
y = 0

[State 5950, 1]
type = ChangeAnim
trigger1 = HitOver && anim != 5950
value = 5950

[State -3,PlaySnd]
type = PlaySnd
trigger1 = anim = 5950
trigger1 = AnimElem = 1,=0
value = 5950+Var(39)*10000, 0

[State 5950,End]
type = ChangeState
trigger1 = anim = 5950 && AnimElem = 4
value = 5150
ctrl = 0

;---------------------------------------------------------------------
; 가드KO 기본기때
;------------------------ 
[Statedef 5951]
type = S
movetype = H
physics = S
ctrl = 0
;anim = 5950
velset = 0, 0

[State 5951,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5951, 1]
type = HitVelSet
trigger1 = Time = 0
x = 0

[State 5951, 2]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 5950, 1]
type = ChangeAnim
trigger1 = anim != 5950
value = 5950

[State -3,PlaySnd]
type = PlaySnd
trigger1 = anim = 5950
trigger1 = AnimElem = 1,=0
value = 5950+Var(39)*10000, 0

[State 5951,End]
type = ChangeState
trigger1 = AnimElem = 10
value = 5150
ctrl = 0

;---------------------------------------------------------------------------
; HIT_LIEDEAD
[Statedef 5150]
type    = L
movetype= H
physics = N
sprpriority = -3

[State 5150, 5]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = PrevStateNo = 5950
value = 5950
elem = 4

[State 5150, 8]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

;This controller plays a sound everytime KFM lands from a jump, or
;from his back-dash.

[state -3, stopsound]
type = stopsnd
trigger1 = stateno != 100
channel = 5

[state -3, stopsound]
type = stopsnd
trigger1 = stateno = 3010
trigger1 = AnimElem = 4
trigger2 = stateno = 3020 
trigger2 = AnimElem = 4
trigger3 = stateno = 3031
trigger3 = AnimElem = 4
trigger4 = movetype = H
;trigger2 = stateno != 3001 && prevstateno = 3001
channel = 4

[state -3, stopRemoveExplod]
type = RemoveExplod
trigger1 = StateNo = [0,3299]
trigger2 = StateNo = [3464,9999]
ID = 3560

;--------------------------------------------------------------------------------------------------------------------
[Statedef -2]

;--------------------------------------------------------------------------------------------------------------------
;yiori 2k2 모드..
;1p2p위치조절..
[State -2, 2]
type = varset
trigger1 = roundstate = 0 
trigger1 = facing = 1
var(57) = 1

[State -2, 2] 
type = varset
trigger1 = roundstate = 0
trigger1 = facing = -1
var(57) = 2

[State -2]
type = varadd
trigger1 = var(3) > 0 && var(50) = 15
var(3) = -128
ignorehitpause = 1
persistent = 0

[State -2, 15]
type = Varset
trigger1 = var(3) != -128 && var(3) <= 0 && var(50) = 0
var(3) = -128
ignorehitpause = 1
[State -2, 15]
type = Varadd
trigger1 = var(3) > 0
var(3) = -1
ignorehitpause = 1

[State -4, 1]
type = removeexplod
trigger1 = numexplod(1995) > 0
trigger1 = var(3) < 1
id = 1995
[State -4, 1]
type = removeexplod
trigger1 = numexplod(1997) > 0
trigger1 = var(3) < 1
id = 1997

[State -2, 1]
type = varadd
trigger1 = var(50) > 0
var(50) = -1
ignorehitpause = 1

[State -2, 17]
type = PalFX
trigger1 = (GameTime%2)=0
trigger1 = Var(3) > 0
time = 1
add = 120,100,40
ignorehitpause = 1

[State -2, 1]
type = PalFX
trigger1 = var(50) > 6 && gametime%2 = 0
time = 1
add = 255,255,255 
ignorehitpause = 1

[State 230,0]
type = varset
trigger1 = var(3) > 0 && var(50) = 0 && time = 0
trigger1 = prevstateno = 4611
var(50) = 15

[State 230,0]
type = varset
trigger1 = var(3) > 0 && var(50) = 0 && time = 0
trigger1 = prevstateno = 4611 || prevstateno = 1037
var(50) = 15

[State 230,0]
type = varset
trigger1 = var(3) > 0 && var(50) = 0 && time = 0
trigger1 = prevstateno = 510 || prevstateno = 520 || prevstateno = 1037
var(50) = 15

[State -4, 1] 
type = modifyexplod
trigger1 = numexplod(1997) > 0 && var(3) > 0
id = 1997
scale = var(3)/769.0,1
ignorehitpause = 1

[State -2, 15]
type = AttackMulSet
trigger1 = stateno != [1999,4000]
trigger1 = stateno != [6999,7103]
trigger1 = stateno != [7599,7630]
trigger1 = stateno != [3000,4000]
trigger1 = var(3) > 0
value = 0.7

[State -2, 15]
type = AttackMulSet
trigger1 = var(3) < 1
trigger2 = stateno = [1999,4000]
trigger3 = stateno = [6999,7103]
trigger4 = stateno = [7599,7630]
value = 1

[State -2, 15]
type = Powerset
trigger1 = Var(3) > 0 && var(20) = 0
value = var(2)
ignorehitpause = 1

;이건 기 관련..
[State -2, 3]
type = poweradd
trigger1 = var(20) > 0
value = -100
ignorehitpause = 1
[State -2, 3]
type = varadd
trigger1 = var(20) > 0
var(20) = -1
ignorehitpause = 1

;--------------------------------------------------------------------------------------------------------------------
;카운터모드
[State -2, Player 1 Setting]
type = VarSet
trigger1 = Facing = 1 && roundstate = 0
var(36) = 1

[State -2, Player 2 Setting]
type = VarSet
trigger1 = Facing = -1 && roundstate = 0
var(36) = 2

[State -2, Counter Hit Envcolor]
type = EnvColor
trigger1 = NumExplod(8004) = 0 && !Win = 1 && var(38) = 1 && movehit = 1
value = 255,255,255
persistent = 0
time = 1
ignorehitpause = 1
under = 1

[State -2, Counter hit Logo (Player 1)]
type = Explod
triggerall = var(36) = 1 && NumExplod(8004) = 0 && !Win = 1 && var(38) = 1 
trigger1 = stateno < 800 && movehit > 0
trigger2 = stateno >= 900 && movehit > 0
trigger3 = projhittime(0) >= 0 && projhittime(0) <= 10
anim = 8004
ID = 8004
pos = -1,75
postype = left
sprpriority = 5
removetime = 42
ontop = 1
shadow = 0,0,0
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State -2, Counter hit Logo (Player 2)]
type = Explod
triggerall = var(36) = 2 && NumExplod(8004) = 0 && !Win = 1 && var(38) = 1 
trigger1 = stateno < 800 && movehit > 0
trigger2 = stateno >= 900 && movehit > 0
trigger3 = projhittime(0) >= 0 && projhittime(0) <= 10
anim = 8005
ID = 8004
pos = 1,75
postype = right
sprpriority = 5
removetime = 42
ontop = 1
shadow = 0,0,0
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype = A && var(37) != -1 && !win = 1 && p2life != 0
var(37) = 1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype = A && var(38) != -1 && !win = 1 && p2life != 0
var(38) = 1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
trigger3 = NumExplod(8004) = 1
;trigger3 = var(38) = 1 && movehit > 0
var(38) = 0
ignorehitpause = 1

[State -2, var(37)]
type = VarSet
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
trigger3 = fvar(22) = 1 && movehit = 1
var(37) = 0
ignorehitpause = 1

[State -2, Counter Hit Envcolor]
type = VarSet
trigger1 = NumExplod(8004) = 1 && var(23) = 1
fvar(22) = 1
ignorehitpause = 1

[State -2, var(37)]
type = VarSet
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
fvar(22) = 0
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype = A && var(39) != -1 && !win = 1 && p2life != 0
var(39) = 1
ignorehitpause = 1

[State -2, Counter hit varset (P2Attack setting)]
type = Varset
trigger1 = P2movetype != A && var(39) != -1
trigger2 = NumExplod(8004) = 1
var(39) = 0
ignorehitpause = 1

[State -2, 15]
type = AttackMulSet
trigger1 = var(39) = 1
value = 1.3

;--------------------------------------------------------------------------------------------------------------------

;---------------------------------------------------------------------------

;피니쉬효과
[State -2, 1]
type = helper
trigger1 = winko && Numhelper(5600) = 0 && Stateno = [900,4999]
helpertype = normal
id = 5600
pos = 1000,1000
name = "KO"
stateno = 5600
keyctrl = 0
ignorehitpause = 1
persistent = 0

[State -2, 2]
type = helper
trigger1 = winko && Numhelper(5600) = 0 && Stateno = [0,899]
helpertype = normal
id = 5600
pos = 1000,1000
name = "KO"
stateno = 5650
keyctrl = 0
persistent = 0

[State -2, 2]
type = helper
trigger1 = winko && Numhelper(5610) = 0 && matchover
helpertype = normal
id = 5610
pos = 1000,1000
name = "KO"
stateno = 5610
keyctrl = 0
persistent = 0

[State -2, 2]
type = varset
trigger1 = roundstate = 0 
var(52) = 1

[State -1, 2]
type = ChangeState
triggerall = loseko && SelfAnimexist(5950)
trigger1 = PrevStateNo = 130 || PrevStateNo = 131
trigger2 = PrevStateNo = 140 || PrevStateNo = 141
trigger3 = PrevStateNo = 120 || PrevStateNo = 121
trigger4 = PrevStateNo = 150 || PrevStateNo = 151
;trigger2 = P2StateNo = [199,799]
value = 5950

[State -2, 2]
type = ChangeState
triggerall = (P2StateNo != [250,269]) && (P2StateNo != [650,659])
triggerall = loseko && (P2StateNo != [800,999]) && (P2StateNo != [0,199]) && Pos Y >= 0 && SelfAnimexist(5950)
trigger1 = var(54) = 1 || var(54) = 2
value = 5951

;Sorrow edge' Throw limitter-------------------------------
[State -2, throwa]
type = VarSet
trigger1 = HitDefAttr = SCA, NA, AP && MoveContact > 0
trigger2 = StateNo = [1000,1090]
trigger3 = P2StateNo = [120,190]
var(4) = 15
ignorehitpause = 1 

[State -2, throwb]
type = VarAdd
trigger1 = var(4) >= 1
var(4) = -1
ignorehitpause = 1 

;Modified it a bit for special throws
[State -2, throwa]
type = VarSet
trigger1 = MoveGuarded > 0
trigger2 = (StateNo = [600,699]) && MoveContact > 0
trigger3 = (StateNo = [600,699]) && MoveGuarded > 0
;trigger4 = P2StateNo = 5120
var(5) = 21	;15
ignorehitpause = 1 

[State -2, throwb]
type = VarAdd
trigger1 = var(5) >= 1
var(5) = -1
ignorehitpause = 1

[State -2, throwa]
type = VarSet
trigger1 = (StateNo != [600,699]) && MoveHit
var(5) = 0
ignorehitpause = 1

;Modified it a bit for special throws
[State -2, throwa]
type = VarSet
trigger1 = MoveGuarded > 0
trigger2 = MoveContact > 0
trigger3 = MoveGuarded > 0
;trigger4 = P2StateNo = 5120
var(14) = 56	;55~56사이
ignorehitpause = 1 

[State -2, throwb]
type = VarAdd
trigger1 = var(14) >= 1
var(14) = -1
ignorehitpause = 1

;------------------------------------------------------------------
[State -2, var(13)]
type = varset
trigger1 = ((StateNo = [200,249]) || (StateNo = [400,439]) || (StateNo = [600,649])) && movehit = 1 && P2statetype = A
var(13) = 1
ignorehitpause = 1

[State -2, var(13)]
type = VarSet
trigger1 = p2stateno = 5110 || p2stateno = 5045
trigger2 = p2stateno = [0,199]
var(13) = 0
ignorehitpause = 1

;크리스점프시디전용으로 추가된것 쿄는 칠십오식개
[State -2, var(18)]
type = VarSet
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
var(18) = 0
ignorehitpause = 1

[State -2, var(16)]
type = VarSet
trigger1 = p2stateno = 5110
trigger2 = p2stateno = 0
var(16) = 0
ignorehitpause = 1

[State -3, 0]
type = VarSet
trigger1 = p2stateno = 5000
trigger2 = p2stateno = 5010
var(7) = 0

;;75식개 약 추가타 바
;[State -3, 0]
;type = VarSet
;trigger1 = ctrl = 1
;var(9) = 0

;--------------------------------------------------------------------------
;장풍 번쩍임 관련MAX2의 불기둥
[State -2, 15]
type = EnvColor
trigger1 = projhittime(3456) = 0
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1
persistent = 0

;--------------------------------------------------------------------------
;장풍히트시 멈춤설정 어둠쫓기,대사치
[State -2]
type = Helper
triggerall = numhelper(3600) = 0
trigger1 = projhit1791 = 1
trigger2 = MoveHit = 1 && stateno = 3110
trigger3 = MoveHit = 1 && (stateno = 3210 && time = [40,56])
trigger4 = MoveHit = 1 && stateno = 3120
ID = 3600
stateno = 3600
ownpal = 1
ignorehitpause = 1

;--------------------------------------------------------------------------
;장풍히트시 멈춤설정 182식 (3프레임모질라지만 그냥하자)
[State -2]
type = Helper
triggerALL = numhelper(3605) = 0
trigger1 = MoveHit = 1 && stateno = [3010,3035]
trigger2 = MoveHit = 1 && stateno = 3461
ID = 3605
stateno = 3605
ownpal = 1
ignorehitpause = 1
persistent = 0

;--------------------------------------------------------------------------------------------------------------------
;신음소리;쿠사는 걍 02식이다
[State -3, 1]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 700
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 1
trigger1 = stateno = 5000
trigger1 = anim = 5000
trigger2 = stateno = 5000
trigger2 = anim = 5010
trigger3 = stateno = 5010
trigger3 = anim = 5020 
trigger4 = stateno = 5020
trigger4 = anim = 5000 
trigger5 = stateno = 5020
trigger5 = anim = 5010 
value = 11,1
channel = 3

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 700
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 1
trigger1 = stateno = 5000
trigger1 = anim = 5001
trigger2 = stateno = 5000
trigger2 = anim = 5011
trigger3 = stateno = 5010
trigger3 = anim = 5021 
trigger4 = stateno = 5020
trigger4 = anim = 5001 
trigger5 = stateno = 5020
trigger5 = anim = 5011 
value = 11,3
volume = 50
channel = 3

[State -3, 1.4]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
triggerall = Random <= 700
;triggerall = var(16) < 1
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 1
trigger1 = stateno = 5000
trigger1 = anim = 5002
trigger2 = stateno = 5000
trigger2 = anim = 5012
trigger3 = stateno = 5010
trigger3 = anim = 5022 
trigger4 = stateno = 5020
trigger4 = anim = 5002 
trigger5 = stateno = 5020
trigger5 = anim = 5012 
value = 11,4
ignorehitpause = 1
channel = 3

[State -3, 1]
type = PlaySnd
triggerall = Time = 1
triggerall = alive
trigger1 = stateno = 5100
value = 11,2
channel = 3

[State -2, 11]
type = PlaySnd
triggerall = random < 500
triggerall = stateno = 5035
trigger1 = anim = 5035
trigger1 = time = 0
value = 11,2
channel = 3

[State -2, 11]
type = PlaySnd
triggerall = random < 700
triggerall = stateno = 5070
triggerall = UniqHitCount <= 1
triggerall = GetHitVar(hitcount) <= 1
triggerall = alive
trigger1 = time = 1
value = 11,2
channel = 3

;원인치맞췄을때 사운드효과
[State -2]
type = PlaySnd
trigger1 = P2stateno = 3275
value = 3275,1
ignorehitpause = 1
persistent = 0
lowpriority = 3
channel = 3

;--------------------------------------------------------------------------------------------------------------------
;구석에서의 움직임 제어
[State -2, Width]
type = width
;triggerall = enemyNear,authorname = "zzzasd"
;trigger1 = stateno = 20 || stateno = 21 || stateno = 40 || stateno = 41 || stateno = 42 || stateno = 43
;trigger2 = stateno = 2040 || stateno = 2041 || stateno = 2042 || stateno = 2043 || stateno = 50 || stateno = 2045
;trigger3 = stateno =[0,4000]
trigger1 = stateno =[0,9000]
edge = ifelse(enemyNear,authorname = "zzzasd",12,3),ifelse(enemyNear,authorname = "zzzasd",9,0)	;9,9

[State -2, var(41)]
type = Varadd
trigger1 = (enemynear,backedgedist < 10) && (enemynear,FrontEdgeBodyDist > 200)
trigger2 = (enemynear,FrontEdgeBodyDist < 13) && (enemynear,backedgedist > 200)
var(41) = 1

[State -2, var(41)]
type = Varset
trigger1 = var(41) >= 3
var(41) = 3

[State -2, var(41)]
type = VarSet
trigger1 = (enemynear,backedgedist > 9) && (enemynear,FrontEdgeBodyDist > 200)
trigger2 = (enemynear,FrontEdgeBodyDist > 12) && (enemynear,backedgedist > 200)
var(41) = 0

;점프했을때 움직임 제어
[State -2, ANIM3]
type = VarSet
trigger1 = stateno != 2045
var(30) = 3
ignorehitpause = 1

[State -2, ANIM2]
type = VarSet
trigger1 = stateno != 2041 && vel x != 0
var(30) = 2
ignorehitpause = 1

[State -2, ANIM1]
type = VarSet
trigger1 = stateno != 2041 && vel x = 0
var(30) = 1
ignorehitpause = 1

;[State -2, var(30)]
;type = VarSet
;trigger1 = vel y <= 0
;var(30) = 0
;ignorehitpause = 1

;--------------------------------------------------------------------------------------------------------------------
;프로텍트 불꽃효과
[State 7000, 7]    ;Bbl
type = Explod
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 250
trigger1 = ProjHit1791 = 1, < 15 || projhit3456 = 1,< 5 || projhit2701 = 1,< 5
trigger1 = p2movetype = H
anim = 2200
ID = 2200
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
ignorehitpause = 1
ownpal = 1

[State 7000, 8]   ;Bbs
type = Explod
trigger1 = NumExplod(2200) < 4
trigger1 = Random < 300
trigger1 = ProjHit1791 = 1, < 15 || projhit3456 = 1,< 5 || projhit2701 = 1,< 5
trigger1 = p2movetype = H
anim = 2201
ID = 2200
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
ignorehitpause = 1
ownpal = 1

[State 7000, 9]     ;be
type = Explod
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 450
trigger1 = ProjHit1791 = 1, < 15 || projhit3456 = 1,< 5	; || projhit2701 = 1,< 5
trigger1 = p2movetype = H
anim = 2202
ID = 2200
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
ignorehitpause = 1
ownpal = 1

[State 7000, 10]    ;Be
type = Explod
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 500
trigger1 = ProjHit1791 = 1, < 15 || projhit3456 = 1,< 5	; || projhit2701 = 1,< 5
trigger1 = p2movetype = H
anim = 2203
ID = 2200
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
ignorehitpause = 1
ownpal = 1

[State 1100, 11]
type = Explod
trigger1 = ProjHit1791 = 1, < 15 || projhit3456 = 1,< 5	; || projhit2701 = 1,< 5
trigger1 = NumExplod(2200) < 8
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2204
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

[State 1100, 12]
type = Explod
trigger1 = ProjHit1791 = 1, < 15 || projhit3456 = 1,< 5	; || projhit2701 = 1,< 5
trigger1 = NumExplod(2200) < 16
trigger1 = Random < 700
trigger1 = p2movetype = H
anim = 2205
ID = 2200
sprpriority = 5
postype = p2
pos = -20,-50
random = 100,100
pausemovetime = 9999
ignorehitpause = 1
ownpal = 1

;------------------------------------------------------
;금월히트시불꽃추가
[State 1855, Explod]
type = Explod
triggerall = Random < 599
trigger1 = P2stateno = 1855
trigger1 = NumExplod(2205) < 4
trigger1 = Time =[1,82]
trigger1 = (random%2)
anim = 2205
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-60
random = 100,100
bindtime = 1
ignorehitpause = 1

;---------------------------------------------------------------------------
;------------------------------------------------------------------------------
ko당했을시 움직임제어
[State -2]
type = Velset
trigger1 = StateNo = 5150
x = 0

[State -2]
type = PosSet
trigger1 = StateNo = 5150
y = 0
;---------------------------------------------------------

;------------------------------------------------------------------------------------------
;착지한순간
[State -2, fvar(21)]
type = Varadd
trigger1 = statetype != A;	pos y = 0
fvar(21) = 1

[State -2, fvar(21)]
type = Varset
trigger1 = fvar(21) >= 60
fvar(21) = 3

[State -2, fvar(21)]
type = VarSet
trigger1 = statetype = A
trigger2 = stateno = [200,9999]
fvar(21) = 0

;---------------------------------------------------------
;캔슬관리 가든지 히튼지 구분
;[State -2]
;type = varset
;trigger1 = P2StateNo != [120,170];movehit > 0
;var(27) = 0
;ignorehitpause = 1

;[State -2]
;type = varset
;trigger1 = P2StateNo = [120,170];moveguarded > 0
;var(27) =1
;ignorehitpause = 1

;[State -2]
;type = varset
;trigger1 = moveguarded > 0
;var(27) =1
;ignorehitpause = 1
;persistent = 0

;---------------------------------------------------------

;밀려나기 소스
[State -2, 15]
type = Velset
triggerall = (statetype != A && P2statetype != A) && var(41) >= 1
triggerall = (ProjContactTime(0) = -1 || ProjContactTime(0) >= 30)
triggerall = ((P2stateno = [5000,5029]) || (P2stateno = [4000,4029]) || (P2stateno = [120,159]))
trigger1 = target,Vel x
;x = (target,Vel x)
;x = (target,Vel x) * ifelse((P2stateno = [120,159])&&fvar(23) = 2,1.22,ifelse((P2stateno = [120,159])&&fvar(23) = 1,1.5,ifelse((P2stateno = [120,159])&&fvar(23) = 3,1.14,1)))
;x = ((target,Vel x)*ifelse(fvar(21)>=1,0.6,1))*ifelse((P2stateno = [120,159]),1.2,1)
;x = ((target,Vel x)*ifelse(fvar(21)>=1,0.6,1))*ifelse((P2stateno = [120,159]) && var(41) >= 1,1.2,1)
x = ((((target,Vel x)*ifelse(fvar(21)>=1,0.6,1))*ifelse((P2stateno = [120,159]) && var(41) >= 1,1.2,1))*ifelse(target,Vel x>0,-1,1))
persistent = 0;추가
ignorehitpause = 1
;기억하라 상대vel만큼밀려나고 착지하고 움직이지않았을때 "임의"로 그힘의 60%만 작동하고 상대가 가드칠때도 "임의"로 1.2곱한다
;상대vel만큼밀려나고 착지하고 움직이지않았을때 "임의"로 그힘의 60%만 작동하고 상대가 "구석"에서 가드칠때도 "임의"로 1.2곱한다

;밀려나기 소스
[State -2, 15]
type = Velset
triggerall = (statetype != A && P2statetype != A) && var(41) >= 1
triggerall = (ProjContactTime(0) = -1 || ProjContactTime(0) >= 30)
triggerall = ((P2stateno = [5000,5029]) || (P2stateno = [4000,4029]) || (P2stateno = [120,159]))
trigger1 = target,GetHitVar(xvel) = 0
trigger2 = target,GetHitVar(yvel) != 0 && movecontact = 1
;trigger3 = movecontact = 1;추가
x = 0
persistent = 0;추가
ignorehitpause = 1

;[State -2, 15]
;type = VelSet
;trigger1 = target,HitOver
;x = 0
;ignorehitpause = 1

[State -2, 15];쿠사나기전용으로 추가
type = VelSet
trigger1 = (stateno = 3110 || stateno = 3120 || stateno = 3210) && MoveContact > 0
x = 0
ignorehitpause = 1

;------------------------------------------------------------
;맞는상대 나의스텟으로 옳기기
;[state -2]
;type = TargetState
;trigger1 = target,stateno = [5000,5101]
;value = (target,stateno)-1000
;ignorehitpause = 1

;---------------------------------------------------------
;밀려나기 단계구분

[State -2]
type = varset
trigger1 = ((StateNo = [200,209]) || (StateNo = [230,239]) || (StateNo = [400,409]) || (StateNo = [430,439])) && movecontact = 1
trigger2 = ((StateNo = [610,619]) || (StateNo = [640,649])) && (movecontact = 1 && statetype = A)
trigger3 = ((StateNo = [600,609]) || (StateNo = [630,639]) || ( StateNo = [1000,9999])) && (movecontact = 1 && statetype = A)
trigger4 = (StateNo = [3330,3355]) && movecontact = 1
trigger5 = (StateNo = [1851,1852]) && movecontact = 1
fvar(23) = 1
ignorehitpause = 1

[State -2]
type = varset
triggerall = statetype != A
trigger1 = ((StateNo = [210,219]) || (StateNo = [240,249]) || (StateNo = [410,419]) || (StateNo = [440,449])) && movecontact = 1
trigger2 = ((StateNo = [450,459]) || (StateNo = [700,999])) && movecontact = 1
trigger3 = (StateNo = [1000,1850]) && movecontact = 1
trigger4 = (StateNo = [650,659]) && movecontact = 1
trigger5 = (StateNo = [3360,9999]) && movecontact = 1
trigger6 = (StateNo = [1855,3320]) && movecontact = 1
fvar(23) = 2
ignorehitpause = 1

[State -2]
type = varset
trigger1 = (StateNo = [250,269]) && movecontact = 1
fvar(23) = 3
ignorehitpause = 1

;---------------------------------------------------------
;가드포즈결정바

[State -2]
type = varset
trigger1 = (P2StateNo = [200,209]) || (P2StateNo = [230,239]) || (P2StateNo = [400,409]) || (P2StateNo = [430,439])
trigger2 = (P2StateNo = [600,609]) || (P2StateNo = [630,639])
var(54) = 1
ignorehitpause = 1

[State -2]
type = varset
trigger1 = (P2StateNo = [210,219]) || (P2StateNo = [240,249]) || (P2StateNo = [410,419]) || (P2StateNo = [440,449])
trigger2 = (P2StateNo = [250,269]) || (P2StateNo = [450,459]) || (P2StateNo = [700,999])
trigger3 = (P2StateNo = [610,619]) || (P2StateNo = [640,649]) || (P2StateNo = [650,659])
var(54) = 2
ignorehitpause = 1

[State -2]
type = varset
trigger1 = P2StateNo = [1000,9999]
var(54) = 3
ignorehitpause = 1

;------------------------------------------------------------------------------------------
[State -2, 1]
type = DisplayToClipboard
trigger1 = 1
text="P2Dist x = %d pos y = %d fvar(39) = %d var(0) = %d"
params = floor(P2Dist x),floor(pos y),floor(fvar(39)),floor(var(0))
ignorehitpause = 1

;---------------------------------------------------------
;황물기 히트수조정
[State -2]
type = varset
trigger1 = movehit = 1 && ((StateNo = [200,205]) || (StateNo = [230,235]) || StateNo = 400 || StateNo = 430)
var(44) = 1
ignorehitpause = 1

[State -2]
type = varset
trigger1 = var(44) = 1 && time = 12
var(44) = 0
ignorehitpause = 1

;----------------------------------------------
;공격히트백설정

;보통뜰때 1칸 적게뜬다 다리걸땐 높이 59인데 그냥 보통으로한다
;갑환처럼 높게뛰우는것도 1높다 그런데 아무리해도 전체적으로 안맞춰진다

;약공격 평지
[state -2]
type = varset
trigger1 = 1
fvar(1) = -6;-4.72

;약공격 구석
[state -2]
type = varset
trigger1 = 1
fvar(2) = -7.2	;-8

;강공격 평지
[state -2]
type = varset
trigger1 = 1
fvar(3) = -11 ;-10.46

;강공격 구석
[state -2]
type = varset
trigger1 = 1
fvar(4) = -13;-10.2

;날리기공격 평지
[state -2]
type = varset
trigger1 = 1
fvar(5) = -14.4

;날리기공격 구석
[state -2]
type = varset
trigger1 = 1
fvar(6) = -17.2

;약공격 코너푸쉬
[state -2]
type = varset
trigger1 = 1
fvar(7) = -6

;강공격 코너푸쉬
[state -2]
type = varset
trigger1 = 1
fvar(8) = -18

;날리기공격 코너푸쉬
[state -2]
type = varset
trigger1 = 1
fvar(9) = -24

;맞고 날아가는 x축
[state -2]
type = varset
trigger1 = 1
fvar(10) = -4.64

;맞고 날아가는 y축
[state -2]
type = varset
trigger1 = 1
fvar(11) = -8.09

;미닛맞고 날아가기 x축
[state -2]
type = varset
trigger1 = 1
fvar(24) = -6.34

;미닛맞고 날아가기 y축
[state -2]
type = varset
trigger1 = 1
fvar(25) = -8.78

;맞고 (멀리,돌면서?) 날아가는 x축	;미닛이랑똑같네;;
[state -2]
type = varset
trigger1 = 1
fvar(26) = -6.34

;맞고 (멀리,돌면서?) 날아가는 y축	;미닛이랑똑같네;;
[state -2]
type = varset
trigger1 = 1
fvar(27) = -8.78

;맞고 (멀리,돌면서?)날아가는 중력
[state -2]
type = varset
trigger1 = 1
fvar(28) = 0.48

;갑환 초필처럼 진짜높게날아가는 x축
[state -2]
type = varset
trigger1 = 1
fvar(29) = -2.09

;갑환 초필처럼 진짜높게날아가는 y축
[state -2]
type = varset
trigger1 = 1
fvar(30) = -13.91

;갑환 초필처럼 진짜높게날아가는 중력
[state -2]
type = varset
trigger1 = 1
fvar(31) = 0.602

;맞는 상대 중력값
[state -2]
type = varset
trigger1 = 1
fvar(12) = 0.523

;높게뜨는 x축
[state -2]
type = varset
trigger1 = 1
fvar(13) = -2.48

;높게뜨는 y축
[state -2]
type = varset
trigger1 = 1
fvar(14) = -11.56

;다리걸때 x축
[state -2]
type = varset
trigger1 = 1
fvar(20) = -1.76

;레드킥맞고 밑으로 떨어질때 x축
[state -2]
type = varset
trigger1 = 1
fvar(34) = -6

;레드킥맞고 밑으로 떨어질때 y축
[state -2]
type = varset
trigger1 = 1
fvar(35) = 8

;xi 시스템 막았을때 더밀리기?
[state -2]
type = varset
trigger1 = 1
fvar(15) = 1;1.2

;가드시 히트백이 0일때
[state -2]
type = varset
trigger1 = 1
fvar(16) = 0

;pausetime 의 나 (보통강공격)
[state -2]
type = varset
trigger1 = 1
var(45) = 12

;pausetime 히트시 상대 (보통강공격)
[state -2]
type = varset
trigger1 = 1
var(46) = 13;-ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;pausetime 가드시 상대 (보통강공격)
[state -2]
type = varset
trigger1 = 1
var(47) = 11;-ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;pausetime 의 나 (보통약공격)
[state -2]
type = varset
trigger1 = 1
var(10) = 8

;pausetime 히트시 상대 (보통약공격)
[state -2]
type = varset
trigger1 = 1
var(11) = 9;-ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;pausetime 가드시 상대 (보통약공격)
[state -2]
type = varset
trigger1 = 1
var(15) = 7;-ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;약공격 hittime
[state -2]
type = varset
trigger1 = 1
var(34) = 8;+ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;강공격 hittime
[state -2]
type = varset
trigger1 = 1
var(35) = 16;+ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;약공격 hittime 가드시
[state -2]
type = varset
trigger1 = 1
var(29) = (8*2);+ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;강공격 hittime 가드시
[state -2]
type = varset
trigger1 = 1
var(31) = (16*2);+ifelse(((statetype != A && P2statetype != A) && var(41) >= 1),1,0)

;스파크위치 x축에쓰임 1
[state -2]
type = varset
trigger1 = 1
var(28) = Ceil(P2dist x);+((hitcount-1)*8)	;P2dist x-target,Const(size.head.pos.x)
ignorehitpause = 1

;스파크위치 y축에쓰임 1
[state -2]
type = varset
trigger1 = 1
var(32) = Ceil(ifelse(P2statetype != A,0,(enemyNear,pos y+36)))	; + 상대키에따라 달라지는 수치(현제 없음)
ignorehitpause = 1

;------------------------------------------------------------------
;------------------------------------------------------------------------------------------



